"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[3867],{15803:function(e,n,a){a.r(n),a.d(n,{_frontmatter:function(){return p},default:function(){return x}});var t=a(58168),r=a(80045),m=(a(88763),a(15680)),d=a(83407),o=a(90507);const l=["components"],p={},s=(i="CodeBlock",function(e){return console.warn("Component "+i+" was not imported, exported, or provided by MDXProvider as global scope"),(0,m.mdx)("div",e)});var i;const u={_frontmatter:p},c=d.A;function x(e){let{components:n}=e,a=(0,r.A)(e,l);return(0,m.mdx)(c,(0,t.A)({},u,a,{components:n,mdxType:"MDXLayout"}),(0,m.mdx)("h1",{id:"manage-company-structures"},"Manage company structures"),(0,m.mdx)("p",null,(0,m.mdx)(o.sitedatavarb2b,null)," allows company users to be assigned to company teams and hierarchies."),(0,m.mdx)("h2",{id:"manage-company-teams"},"Manage company teams"),(0,m.mdx)("p",null,"Company teams allow you to group company users by location, job responsibilities, or any criteria you choose. You can assign individual company users to a team with the company hierarchy endpoints."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Service name:")),(0,m.mdx)("p",null,(0,m.mdx)("inlineCode",{parentName:"p"},"companyTeamRepositoryV1")),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"REST Endpoints:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-terminal"},"POST /V1/team/:companyId\nPUT /V1/team/:teamId\nGET /V1/team/:teamId\nDELETE /V1/team/:teamId\nGET /V1/team/\n")),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Company team parameters:")),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Name"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"),(0,m.mdx)("th",{parentName:"tr",align:null},"Format"),(0,m.mdx)("th",{parentName:"tr",align:null},"Requirements"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"id")),(0,m.mdx)("td",{parentName:"tr",align:null},"System-generated team ID"),(0,m.mdx)("td",{parentName:"tr",align:null},"integer"),(0,m.mdx)("td",{parentName:"tr",align:null},"Not applicable for create operations.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"name")),(0,m.mdx)("td",{parentName:"tr",align:null},"The displayed name of the team"),(0,m.mdx)("td",{parentName:"tr",align:null},"string"),(0,m.mdx)("td",{parentName:"tr",align:null},"Required to create or update a team.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"description")),(0,m.mdx)("td",{parentName:"tr",align:null},"An optional description of the team."),(0,m.mdx)("td",{parentName:"tr",align:null},"string"),(0,m.mdx)("td",{parentName:"tr",align:null},"Optional")))),(0,m.mdx)("h3",{id:"create-a-team"},"Create a team"),(0,m.mdx)("p",null,"A newly-created team is placed under Company Admin in the company hierarchy."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Sample Usage:")),(0,m.mdx)("p",null,(0,m.mdx)("inlineCode",{parentName:"p"},"POST <host>/rest/<store_code>/V1/team/2")),(0,m.mdx)(s,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,m.mdx)("h4",{id:"payload"},"Payload"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "team": {\n    "name": "Western District",\n    "description": "Buyers from the California office"\n  }\n}\n')),(0,m.mdx)("h4",{id:"response"},"Response"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},"// The team ID, such as `4`.\n")),(0,m.mdx)("h3",{id:"update-a-team"},"Update a team"),(0,m.mdx)("p",null,"You can only change the name or description of a team."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Sample Usage:")),(0,m.mdx)("p",null,(0,m.mdx)("inlineCode",{parentName:"p"},"PUT <host>/rest/<store_code>/V1/team/4")),(0,m.mdx)(s,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,m.mdx)("h4",{id:"payload-1"},"Payload"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "team": {\n    "id": 4,\n    "name": "Western Region"\n  }\n}\n')),(0,m.mdx)("h4",{id:"response-1"},"Response"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},"// `true`, indicating the request was successful\n")),(0,m.mdx)("h3",{id:"return-all-information-about-a-team"},"Return all information about a team"),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"GET")," call returns the team ",(0,m.mdx)("inlineCode",{parentName:"p"},"id"),", ",(0,m.mdx)("inlineCode",{parentName:"p"},"name"),", and ",(0,m.mdx)("inlineCode",{parentName:"p"},"description"),"."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Sample Usage:")),(0,m.mdx)("p",null,(0,m.mdx)("inlineCode",{parentName:"p"},"GET <host>/rest/<store_code>/V1/team/4")),(0,m.mdx)(s,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,m.mdx)("h4",{id:"payload-2"},"Payload"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},"// Not applicable\n")),(0,m.mdx)("h4",{id:"response-2"},"Response"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "id": 4,\n  "name": "Western Region",\n  "description": "Buyers from the California office"\n}\n')),(0,m.mdx)("h3",{id:"delete-a-team"},"Delete a team"),(0,m.mdx)("p",null,"You cannot delete a team if members are assigned to it."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Sample Usage:")),(0,m.mdx)("p",null,(0,m.mdx)("inlineCode",{parentName:"p"},"DELETE <host>/rest/<store_code>/V1/team/4")),(0,m.mdx)(s,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,m.mdx)("h4",{id:"payload-3"},"Payload"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},"// Not applicable\n")),(0,m.mdx)("h4",{id:"response-3"},"Response"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},"// An empty array\n")),(0,m.mdx)("h3",{id:"search-for-a-team"},"Search for a team"),(0,m.mdx)("p",null,"The following query returns information about all teams (",(0,m.mdx)("inlineCode",{parentName:"p"},"team_id")," ","â‰¥"," ",(0,m.mdx)("inlineCode",{parentName:"p"},"0"),")"),(0,m.mdx)("p",null,"See ",(0,m.mdx)("a",{parentName:"p",href:"../use-rest/performing-searches.md"},"Search using REST APIs")," for information about constructing a search query."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Sample Usage:")),(0,m.mdx)("p",null,(0,m.mdx)("inlineCode",{parentName:"p"},"GET <host>/rest/<store_code>/V1/team?searchCriteria[filter_groups][0][filters][0][field]=team_id&searchCriteria[filter_groups][0][filters][0][value]=0&searchCriteria[filter_groups][0][filters][0][condition_type]=gteq")),(0,m.mdx)(s,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,m.mdx)("h4",{id:"payload-4"},"Payload"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},"// Not applicable\n")),(0,m.mdx)("h4",{id:"response-4"},"Response"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "items": [\n        {\n            "id": 1,\n            "name": "West",\n            "description": "California office"\n        },\n        {\n            "id": 2,\n            "name": "East",\n            "description": "New York office"\n        }\n    ],\n    "search_criteria": {\n        "filter_groups": [\n            {\n                "filters": [\n                    {\n                        "field": "team_id",\n                        "value": "0",\n                        "condition_type": "gteq"\n                    }\n                ]\n            }\n        ]\n    },\n    "total_count": 2\n}\n')),(0,m.mdx)("h2",{id:"company-hierarchies"},"Company hierarchies"),(0,m.mdx)("p",null,"In the B2B storefront, a buyer can view the company structure represented as a hierarchy tree. The tree can display multiple levels of company subdivisions (teams) as well as company users. The company hierarchy can have any number of items and levels."),(0,m.mdx)("p",null,"You can use REST endpoints to retrieve the current structure and move teams and buyers within the hierarchy. You cannot delete teams or buyers."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Service name:")),(0,m.mdx)("p",null,(0,m.mdx)("inlineCode",{parentName:"p"},"companyHierarchyV1")),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"REST Endpoints:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-terminal"},"GET /V1/hierarchy/:id\nPUT /V1/hierarchy/move/:id\n")),(0,m.mdx)("h3",{id:"return-all-information-about-the-company-hierarchy"},"Return all information about the company hierarchy"),(0,m.mdx)("p",null,"In the following example, the following company hierarchy has already been established:"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-terminal"},"Admin (structure_id = 2)\n|-- East (team, structure_id = 8)\n|   |-- Bryce Martin (customer, structure_id = 4)\n|   |-- Melanie Shaw (customer, structure_id = 3)\n|\n|-- West (team, structure_id = 7)\n|   |-- Marcus Thomas (customer, structure_id = 6)\n|   |-- Teresa Gomez (customer, structure_id = 5)\n")),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Sample Usage:")),(0,m.mdx)("p",null,(0,m.mdx)("inlineCode",{parentName:"p"},"GET <host>/rest/<store_code>/V1/hierarchy/2")),(0,m.mdx)(s,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,m.mdx)("h4",{id:"payload-5"},"Payload"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},"// Not applicable\n")),(0,m.mdx)("h4",{id:"response-5"},"Response"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'[\n  {\n    "structure_id": 6,\n    "entity_id": 7,\n    "entity_type": "customer",\n    "structure_parent_id": 7\n  },\n  {\n    "structure_id": 5,\n    "entity_id": 6,\n    "entity_type": "customer",\n    "structure_parent_id": 7\n  },\n  {\n    "structure_id": 7,\n    "entity_id": 1,\n    "entity_type": "team",\n    "structure_parent_id": 2\n  },\n  {\n    "structure_id": 3,\n    "entity_id": 4,\n    "entity_type": "customer",\n    "structure_parent_id": 8\n  },\n  {\n    "structure_id": 4,\n    "entity_id": 5,\n    "entity_type": "customer",\n    "structure_parent_id": 8\n  },\n  {\n    "structure_id": 8,\n    "entity_id": 2,\n    "entity_type": "team",\n    "structure_parent_id": 2\n  },\n  {\n    "structure_id": 2,\n    "entity_id": 3,\n    "entity_type": "customer",\n    "structure_parent_id": 0\n  }\n')),(0,m.mdx)("h3",{id:"assign-a-new-parent-to-teams-and-company-users"},"Assign a new parent to teams and company users"),(0,m.mdx)("p",null,"The following example moves Bryce Martin (",(0,m.mdx)("inlineCode",{parentName:"p"},"structure_id = 4"),") to the West team (",(0,m.mdx)("inlineCode",{parentName:"p"},"structure_id = 7"),")"),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Sample Usage:")),(0,m.mdx)("p",null,(0,m.mdx)("inlineCode",{parentName:"p"},"PUT <host>/rest/<store_code>/V1/hierarchy/move/5")),(0,m.mdx)(s,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,m.mdx)("h4",{id:"payload-6"},"Payload"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "newParentId": 7\n}\n')),(0,m.mdx)("h4",{id:"response-6"},"Response"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},"// An empty array\n")))}x.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-rest-b-2-b-company-structures-md-dfcc11fc177e1bf47116.js.map
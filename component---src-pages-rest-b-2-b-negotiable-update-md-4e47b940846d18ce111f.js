"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[8692],{76620:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return i},default:function(){return s}});var a=n(87462),d=n(45987),l=(n(35776),n(3905)),r=n(91515);const m=["components"],i={},o=(p="CodeBlock",function(e){return console.warn("Component "+p+" was not imported, exported, or provided by MDXProvider as global scope"),(0,l.mdx)("div",e)});var p;const u={_frontmatter:i},x=r.Z;function s(e){let{components:t}=e,n=(0,d.Z)(e,m);return(0,l.mdx)(x,(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,l.mdx)("h1",{id:"update-a-negotiable-quote"},"Update a negotiable quote"),(0,l.mdx)("p",null,"Sellers and buyers can edit a negotiable quote at various times during the quote's lifecycle. Both use the ",(0,l.mdx)("inlineCode",{parentName:"p"},"PUT /V1/negotiableQuote/:quoteId")," call to update the quote. This call is defined in the\n",(0,l.mdx)("inlineCode",{parentName:"p"},"quoteCartRepositoryV1")," service and is functionally similar to the\n",(0,l.mdx)("inlineCode",{parentName:"p"},"PUT /V1/carts/mine")," call."),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"quote")," object now contains a set of ",(0,l.mdx)("inlineCode",{parentName:"p"},"negotiable_quote")," extension attributes that can be used to update a quote."),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Name"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"),(0,l.mdx)("th",{parentName:"tr",align:null},"Format"),(0,l.mdx)("th",{parentName:"tr",align:null},"Requirements"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"quote_id")),(0,l.mdx)("td",{parentName:"tr",align:null},"Negotiable quote ID"),(0,l.mdx)("td",{parentName:"tr",align:null},"integer"),(0,l.mdx)("td",{parentName:"tr",align:null},"Required to create or update a negotiable quote")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"is_regular_quote")),(0,l.mdx)("td",{parentName:"tr",align:null},"Flag for the negotiable quote"),(0,l.mdx)("td",{parentName:"tr",align:null},"boolean"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"status")),(0,l.mdx)("td",{parentName:"tr",align:null},"One of ",(0,l.mdx)("inlineCode",{parentName:"td"},"created"),", ",(0,l.mdx)("inlineCode",{parentName:"td"},"submitted_by_customer"),", ",(0,l.mdx)("inlineCode",{parentName:"td"},"submitted_by_admin"),", ",(0,l.mdx)("inlineCode",{parentName:"td"},"processing_by_customer"),", ",(0,l.mdx)("inlineCode",{parentName:"td"},"processing_by_admin"),", ",(0,l.mdx)("inlineCode",{parentName:"td"},"ordered"),", ",(0,l.mdx)("inlineCode",{parentName:"td"},"expired"),", ",(0,l.mdx)("inlineCode",{parentName:"td"},"declined"),", ",(0,l.mdx)("inlineCode",{parentName:"td"},"closed")),(0,l.mdx)("td",{parentName:"tr",align:null},"string"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"negotiated_price_type")),(0,l.mdx)("td",{parentName:"tr",align:null},"1 - Percentage discount; 2 - Fixed price; 3 - proposed total"),(0,l.mdx)("td",{parentName:"tr",align:null},"integer"),(0,l.mdx)("td",{parentName:"tr",align:null},"Required to set a negotiated price")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"negotiated_price_value")),(0,l.mdx)("td",{parentName:"tr",align:null},"Discount amount defined by the seller"),(0,l.mdx)("td",{parentName:"tr",align:null},"number"),(0,l.mdx)("td",{parentName:"tr",align:null},"Required to set a negotiated price")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"shipping_price")),(0,l.mdx)("td",{parentName:"tr",align:null},"Custom price for shipping defined by the seller"),(0,l.mdx)("td",{parentName:"tr",align:null},"number"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"quote_name")),(0,l.mdx)("td",{parentName:"tr",align:null},"Name assigned to the negotiable quote"),(0,l.mdx)("td",{parentName:"tr",align:null},"string"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"expiration_period")),(0,l.mdx)("td",{parentName:"tr",align:null},"Expiration date for the quote. The format must be ",(0,l.mdx)("inlineCode",{parentName:"td"},"YYYY-MM-DD"),"."),(0,l.mdx)("td",{parentName:"tr",align:null},"string"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"email_notification_status")),(0,l.mdx)("td",{parentName:"tr",align:null},"Recent notifications that have been sent"),(0,l.mdx)("td",{parentName:"tr",align:null},"integer"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"has_unconfirmed_changes")),(0,l.mdx)("td",{parentName:"tr",align:null},"Indicates there are some changes that the Admin has not seen yet"),(0,l.mdx)("td",{parentName:"tr",align:null},"boolean"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"is_shipping_tax_changed")),(0,l.mdx)("td",{parentName:"tr",align:null},"Indicates whether shipping taxes have changed"),(0,l.mdx)("td",{parentName:"tr",align:null},"boolean"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"is_customer_price_changed")),(0,l.mdx)("td",{parentName:"tr",align:null},"Indicates whether the price for the product has changed"),(0,l.mdx)("td",{parentName:"tr",align:null},"boolean"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"notifications")),(0,l.mdx)("td",{parentName:"tr",align:null},"Binary mask where the current notifications are stored"),(0,l.mdx)("td",{parentName:"tr",align:null},"integer"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"applied_rule_ids")),(0,l.mdx)("td",{parentName:"tr",align:null},"Applied shopping cart rules"),(0,l.mdx)("td",{parentName:"tr",align:null},"string"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"is_address_draft")),(0,l.mdx)("td",{parentName:"tr",align:null},"Drop the address if the checkout is not completed."),(0,l.mdx)("td",{parentName:"tr",align:null},"boolean"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"deleted_sku")),(0,l.mdx)("td",{parentName:"tr",align:null},"The SKUs of any deleted products"),(0,l.mdx)("td",{parentName:"tr",align:null},"string"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"creator_id")),(0,l.mdx)("td",{parentName:"tr",align:null},"Quote creator ID"),(0,l.mdx)("td",{parentName:"tr",align:null},"integer"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"creator_type")),(0,l.mdx)("td",{parentName:"tr",align:null},"1 - Integration; 2 - Admin; 3 - Customer; 4 - Guest"),(0,l.mdx)("td",{parentName:"tr",align:null},"integer"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"original_total_price")),(0,l.mdx)("td",{parentName:"tr",align:null},"Original total price"),(0,l.mdx)("td",{parentName:"tr",align:null},"number"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"base_original_total_price")),(0,l.mdx)("td",{parentName:"tr",align:null},"Base original total price"),(0,l.mdx)("td",{parentName:"tr",align:null},"number"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"negotiated_total_price")),(0,l.mdx)("td",{parentName:"tr",align:null},"Negotiated total price"),(0,l.mdx)("td",{parentName:"tr",align:null},"number"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"base_negotiated_total_price")),(0,l.mdx)("td",{parentName:"tr",align:null},"Base negotiated total price"),(0,l.mdx)("td",{parentName:"tr",align:null},"number"),(0,l.mdx)("td",{parentName:"tr",align:null},"Optional")))),(0,l.mdx)("h3",{id:"set-a-negotiated-price"},"Set a negotiated price"),(0,l.mdx)("p",null,"In every successful negotiate quote, the seller must set the negotiated price."),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"negotiated_price_type")," can have one of the following values:"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},(0,l.mdx)("inlineCode",{parentName:"li"},"1")," - Apply a percentage discount to the quote. The ",(0,l.mdx)("inlineCode",{parentName:"li"},"negotiated_price_value")," parameter indicates the percentage."),(0,l.mdx)("li",{parentName:"ul"},(0,l.mdx)("inlineCode",{parentName:"li"},"2")," - Apply a fixed amount as a discount for the quote. The ",(0,l.mdx)("inlineCode",{parentName:"li"},"negotiated_price_value")," parameter specifies the amount of the discount."),(0,l.mdx)("li",{parentName:"ul"},(0,l.mdx)("inlineCode",{parentName:"li"},"3")," - Set a proposed price for the entire quote. The ",(0,l.mdx)("inlineCode",{parentName:"li"},"negotiated_price_value")," parameter specifies the proposed price.")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Service Name:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"quoteCartRepositoryV1")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Sample Usage:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"PUT <host>/rest/<store_code>/V1/negotiableQuote/6")),(0,l.mdx)(o,{slots:"heading, code",repeat:"1",languages:"JSON",mdxType:"CodeBlock"}),(0,l.mdx)("h4",{id:"payload"},"Payload"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "quote": {\n      "id": 6,\n      "extension_attributes": {\n        "negotiable_quote": {\n         "negotiated_price_type": 1,\n          "negotiated_price_value": 5\n        }\n      }\n    }\n}\n')),(0,l.mdx)("h3",{id:"add-a-new-quote-item-to-the-negotiable-quote"},"Add a new quote item to the negotiable quote"),(0,l.mdx)("p",null,"The buyer can add, update, or delete items from the quote under the following conditions:"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},"The quote is in one of the following system states: ",(0,l.mdx)("inlineCode",{parentName:"li"},"created"),", ",(0,l.mdx)("inlineCode",{parentName:"li"},"processing_by_admin"),", or ",(0,l.mdx)("inlineCode",{parentName:"li"},"submitted_by_customer"),"."),(0,l.mdx)("li",{parentName:"ul"},"The quote doesn't have a negotiated price.")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Sample Usage:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"POST <host>/rest/<store_code>/V1/carts/mine/items")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Headers:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-terminal"},"Content-Type application/json\nAuthorization Bearer <customer token>\n")),(0,l.mdx)(o,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,l.mdx)("h4",{id:"payload-1"},"Payload"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "cartItem": {\n    "sku": "24-MB01",\n    "qty": 1,\n    "quote_id": "7"\n  }\n}\n')),(0,l.mdx)("h4",{id:"response"},"Response"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "item_id": 18,\n    "sku": "24-MB01",\n    "qty": 1,\n    "name": "Joust Duffle Bag",\n    "price": 34,\n    "product_type": "simple",\n    "quote_id": "7",\n    "extension_attributes": {\n        "negotiable_quote_item": {\n            "item_id": 18,\n            "original_price": 34,\n            "original_tax_amount": 0,\n            "original_discount_amount": 0\n        }\n    }\n}\n')),(0,l.mdx)("h3",{id:"change-the-quote-expiration-date"},"Change the quote expiration date"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Sample Usage:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"PUT <host>/rest/<store_code>/V1/negotiableQuote/6")),(0,l.mdx)(o,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,l.mdx)("h4",{id:"payload-2"},"Payload"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "quote": {\n      "id": 6,\n      "extension_attributes": {\n        "negotiable_quote": {\n         "expiration_period": "2017-09-30"\n        }\n      }\n    }\n}\n')),(0,l.mdx)("h4",{id:"response-1"},"Response"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},"// an empty array\n")))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-rest-b-2-b-negotiable-update-md-4e47b940846d18ce111f.js.map
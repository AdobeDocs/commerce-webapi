"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[7405],{81557:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return o},default:function(){return u}});var n=a(87462),r=a(63366),l=(a(15007),a(64983)),d=a(91515),m=["components"],o={},i={_frontmatter:o},p=d.Z;function u(e){var t=e.components,a=(0,r.Z)(e,m);return(0,l.mdx)(p,(0,n.Z)({},i,a,{components:t,mdxType:"MDXLayout"}),(0,l.mdx)("h1",{id:"getpayflowlinktoken-query"},"getPayflowLinkToken query"),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"getPayflowLinkToken")," query retrieves PayPal payment credentials for a PayPal Payflow transaction. You must run this query after you ",(0,l.mdx)("a",{parentName:"p",href:"../../cart/mutations/set-payment-method.md"},"set the payment method")," and ",(0,l.mdx)("a",{parentName:"p",href:"../../cart/mutations/place-order.md"},"place the order"),"."),(0,l.mdx)("p",null,"See ",(0,l.mdx)("a",{parentName:"p",href:"../../../payment-methods/payflow-link.md"},"Paypal Payflow Link payment method")," for detailed information about the workflow of PayPal Payflow Link transactions."),(0,l.mdx)("h2",{id:"syntax"},"Syntax"),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"getPayflowLinkToken(input: PayflowLinkTokenInput): PayflowLinkToken")),(0,l.mdx)("h2",{id:"example"},"Example"),(0,l.mdx)("p",null,"The following example requests a token in a Payflow Link transaction."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  getPayflowLinkToken(input: {cart_id: "123"}) {\n    secure_token\n    secure_token_id\n    mode\n    paypal_url\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "data": {\n        "getPayflowLinkToken": {\n            "secure_token": "<token-value>",\n            "secure_token_id": "<token-value-id>",\n            "mode": "TEST",\n            "paypal_url": "https://pilot-payflowlink.paypal.com"\n        }\n    }\n}\n')),(0,l.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,l.mdx)("h3",{id:"payflowlinktokeninput"},"PayflowLinkTokenInput"),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"PayflowLinkTokenInput")," object defines the attributes required to receive a Payflow Link token from PayPal."),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,l.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"cart_id")),(0,l.mdx)("td",{parentName:"tr",align:null},"String!"),(0,l.mdx)("td",{parentName:"tr",align:null},"The unique ID that identifies the customer's cart")))),(0,l.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,l.mdx)("h3",{id:"payflowlinktoken"},"PayflowLinkToken"),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"PayflowLinkToken")," object contains a token returned by PayPal and a set of URLs that allow the buyer to authorize payment and adjust checkout details."),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,l.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"mode")),(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"PayflowLinkMode")),(0,l.mdx)("td",{parentName:"tr",align:null},"The mode for the Payflow Link payment. Must be ",(0,l.mdx)("inlineCode",{parentName:"td"},"LIVE")," (actual transaction) or ",(0,l.mdx)("inlineCode",{parentName:"td"},"TEST")," (sandbox transaction)")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"paypal_url")),(0,l.mdx)("td",{parentName:"tr",align:null},"String"),(0,l.mdx)("td",{parentName:"tr",align:null},"The PayPal URL used for requesting a Payflow form")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"secure_token")),(0,l.mdx)("td",{parentName:"tr",align:null},"String"),(0,l.mdx)("td",{parentName:"tr",align:null},"Secure token generated by PayPal")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"secure_token_id")),(0,l.mdx)("td",{parentName:"tr",align:null},"String"),(0,l.mdx)("td",{parentName:"tr",align:null},"Secure token ID generated by PayPal")))),(0,l.mdx)("h2",{id:"errors"},"Errors"),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Error"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"No such entity with cartId")),(0,l.mdx)("td",{parentName:"tr",align:null},"An invalid ",(0,l.mdx)("inlineCode",{parentName:"td"},"cartId")," was provided")))))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-checkout-queries-get-payflow-link-token-md-e705fe18bc627007ab05.js.map
"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[2721],{66070:function(e,n,a){a.r(n),a.d(n,{_frontmatter:function(){return i},default:function(){return u}});var r=a(87462),t=a(45987),p=(a(35776),a(3905)),o=a(65663);const d=["components"],i={},l={_frontmatter:i},m=o.Z;function u(e){let{components:n}=e,a=(0,t.Z)(e,d);return(0,p.mdx)(m,(0,r.Z)({},l,a,{components:n,mdxType:"MDXLayout"}),(0,p.mdx)("h1",{id:"createpurchaseorderapprovalrule-mutation"},"createPurchaseOrderApprovalRule mutation"),(0,p.mdx)("p",null,"The ",(0,p.mdx)("inlineCode",{parentName:"p"},"createPurchaseOrderApprovalRule")," mutation creates a purchase order approval rule."),(0,p.mdx)("p",null,"A request to create an approval rule must include the following fields and objects:"),(0,p.mdx)("ul",null,(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("inlineCode",{parentName:"li"},"name")),(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("inlineCode",{parentName:"li"},"condition")),(0,p.mdx)("li",{parentName:"ul"},(0,p.mdx)("inlineCode",{parentName:"li"},"approvers"))),(0,p.mdx)("p",null,"The ",(0,p.mdx)("inlineCode",{parentName:"p"},"condition")," object must contain an ",(0,p.mdx)("inlineCode",{parentName:"p"},"attribute")," field, an ",(0,p.mdx)("inlineCode",{parentName:"p"},"operator"),", and either an ",(0,p.mdx)("inlineCode",{parentName:"p"},"amount")," or a ",(0,p.mdx)("inlineCode",{parentName:"p"},"quantity"),". The ",(0,p.mdx)("inlineCode",{parentName:"p"},"attribute")," field determines if the rule checks the order total (",(0,p.mdx)("inlineCode",{parentName:"p"},"GRAND_TOTAL"),"), the number of SKUs in the order (",(0,p.mdx)("inlineCode",{parentName:"p"},"NUMBER_OF_SKUS"),"), or the shipping expense (",(0,p.mdx)("inlineCode",{parentName:"p"},"SHIPPING_INCL_TAX"),"). The operator must be one of ",(0,p.mdx)("inlineCode",{parentName:"p"},"MORE_THAN"),", ",(0,p.mdx)("inlineCode",{parentName:"p"},"LESS_THAN"),", ",(0,p.mdx)("inlineCode",{parentName:"p"},"MORE_THAN_OR_EQUAL_TO"),", or ",(0,p.mdx)("inlineCode",{parentName:"p"},"LESS_THAN_OR_EQUAL_TO"),"."),(0,p.mdx)("p",null,"The ",(0,p.mdx)("inlineCode",{parentName:"p"},"applies_to")," field can contain an array of company user role IDs. When an empty array is provided, the rule is applied to all user roles in the system, including those created in the future."),(0,p.mdx)("p",null,"The default value of the ",(0,p.mdx)("inlineCode",{parentName:"p"},"status")," field is ",(0,p.mdx)("inlineCode",{parentName:"p"},"ENABLED"),"."),(0,p.mdx)("h2",{id:"syntax"},"Syntax"),(0,p.mdx)("pre",null,(0,p.mdx)("code",{parentName:"pre",className:"language-graphql"},"mutation {\n    createPurchaseOrderApprovalRule(\n        input: PurchaseOrderApprovalRuleInput!\n    ) {\n        PurchaseOrderApprovalRule\n    }\n}\n")),(0,p.mdx)("h2",{id:"reference"},"Reference"),(0,p.mdx)("p",null,"The ",(0,p.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-createPurchaseOrderApprovalRule"},(0,p.mdx)("inlineCode",{parentName:"a"},"createPurchaseOrderApprovalRule"))," reference provides detailed information about the types and fields defined in this mutation."),(0,p.mdx)("h2",{id:"headers"},"Headers"),(0,p.mdx)("p",null,"A valid ",(0,p.mdx)("a",{parentName:"p",href:"../../../customer/mutations/generate-token.md"},"customer authentication token")," is required."),(0,p.mdx)("h2",{id:"example-usage"},"Example usage"),(0,p.mdx)("p",null,"The following example creates a purchase order approval rule."),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Request:")),(0,p.mdx)("pre",null,(0,p.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation {\n  createPurchaseOrderApprovalRule(\n    input: {\n        name: "Rule name",\n        description: "Rule description",\n        applies_to: [],\n        status: ENABLED,\n        condition: {\n            attribute: GRAND_TOTAL,\n            operator: MORE_THAN,\n            amount: {\n                value: 100.00,\n                currency: EUR\n            }\n        },\n        approvers: ["MQ=="]\n    }\n  ) {\n    name\n    uid\n    applies_to_roles\n    condition\n  }\n}\n')),(0,p.mdx)("p",null,(0,p.mdx)("strong",{parentName:"p"},"Response:")),(0,p.mdx)("pre",null,(0,p.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "createPurchaseOrderApprovalRule": {\n      "name": "Rule name",\n      "uid": "MTA=",\n      "applies_to_roles": [],\n      "condition": {\n        "attribute": "GRAND_TOTAL",\n        "operator": "MORE_THAN"\n      }\n    }\n  }\n}\n')))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-b-2-b-purchase-order-rule-mutations-create-md-5704a1af877dfbc2727c.js.map
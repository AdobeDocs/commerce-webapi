"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[9555],{89933:function(n,e,t){t.r(e),t.d(e,{_frontmatter:function(){return m},default:function(){return g}});var a=t(58168),r=t(80045),l=(t(88763),t(15680)),i=t(83407),o=t(3624);const u=["components"],m={},d=(p="InlineAlert",function(n){return console.warn("Component "+p+" was not imported, exported, or provided by MDXProvider as global scope"),(0,l.mdx)("div",n)});var p;const s={_frontmatter:m},c=i.A;function g(n){let{components:e}=n,t=(0,r.A)(n,u);return(0,l.mdx)(c,(0,a.A)({},s,t,{components:e,mdxType:"MDXLayout"}),(0,l.mdx)("h1",{id:"products-query"},"products query"),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"products")," query allows you to search for catalog items."),(0,l.mdx)("h2",{id:"syntax"},"Syntax"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},"products(\n  search: String\n  filter: ProductAttributeFilterInput\n  pageSize: Int\n  currentPage: Int\n  sort: ProductAttributeSortInput\n): Products\n")),(0,l.mdx)("h2",{id:"reference"},"Reference"),(0,l.mdx)("p",null,"The ",(0,l.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-products"},(0,l.mdx)("inlineCode",{parentName:"a"},"products"))," reference provides detailed information about the types and fields defined in this query."),(0,l.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,l.mdx)("p",null,"The query can contain the following input attributes:"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},(0,l.mdx)("inlineCode",{parentName:"li"},"search")," - Performs a full-text search using the specified key words"),(0,l.mdx)("li",{parentName:"ul"},(0,l.mdx)("inlineCode",{parentName:"li"},"filter")," - Identifies which attributes to search for and return."),(0,l.mdx)("li",{parentName:"ul"},(0,l.mdx)("inlineCode",{parentName:"li"},"pageSize")," - Specifies the maximum number of results to return at once."),(0,l.mdx)("li",{parentName:"ul"},(0,l.mdx)("inlineCode",{parentName:"li"},"currentPage")," - Specifies which page of results to return."),(0,l.mdx)("li",{parentName:"ul"},(0,l.mdx)("inlineCode",{parentName:"li"},"sort")," - Specifies which attribute to sort on, and whether to return the results in ascending or descending order.")),(0,l.mdx)("p",null,"Each attribute is described in detail below."),(0,l.mdx)("h3",{id:"search-attribute"},"search attribute"),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"search")," attribute causes the application perform a full text search on the specified keywords. This is the same type of search that is performed from the storefront. If multiple keywords are specified, each keyword is evaluated separately."),(0,l.mdx)("p",null,"Each query must contain a ",(0,l.mdx)("inlineCode",{parentName:"p"},"search")," or ",(0,l.mdx)("inlineCode",{parentName:"p"},"filter")," attribute, or both."),(0,l.mdx)("h3",{id:"filter-attribute"},"filter attribute"),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"ProductAttributeFilterInput")," object determines which attributes are used to narrow the results in a ",(0,l.mdx)("inlineCode",{parentName:"p"},"products")," query. A filter contains at least one attribute, a comparison operator, and the value that is being searched for. The following example filter searches for products that have a ",(0,l.mdx)("inlineCode",{parentName:"p"},"name")," that contains the string ",(0,l.mdx)("inlineCode",{parentName:"p"},"Bag")," with a ",(0,l.mdx)("inlineCode",{parentName:"p"},"price")," that's less than or equal to ",(0,l.mdx)("inlineCode",{parentName:"p"},"40"),"."),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'filter: {\n  name: {\n    match: "Bag"\n  }\n  price: {\n    to: "40"\n  }\n}\n')),(0,l.mdx)("p",null,"The application processes the attribute values specified in a ",(0,l.mdx)("inlineCode",{parentName:"p"},"ProductAttributeFilterInput")," as simple data types (strings, integers, Booleans). However, returned attributes can be a different, complex data type. For example, in a response, ",(0,l.mdx)("inlineCode",{parentName:"p"},"price")," is an object that contains a monetary value and a currency code."),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"category_uid")),(0,l.mdx)("td",{parentName:"tr",align:null},"Filters by the unique ID of a category for objects that implement ",(0,l.mdx)("inlineCode",{parentName:"td"},"CategoryInterface"))),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"description")),(0,l.mdx)("td",{parentName:"tr",align:null},"Filters on the Description attribute")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"name")),(0,l.mdx)("td",{parentName:"tr",align:null},"Filters on the Product Name attribute")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"price")),(0,l.mdx)("td",{parentName:"tr",align:null},"Filters on the Price attribute")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"short_description")),(0,l.mdx)("td",{parentName:"tr",align:null},"Filters on the Short Description attribute")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"sku")),(0,l.mdx)("td",{parentName:"tr",align:null},"Filters on the SKU attribute")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"url_key")),(0,l.mdx)("td",{parentName:"tr",align:null},"The part of the URL that identifies the product")))),(0,l.mdx)("p",null,"You can define a custom attribute to be a filter by specifying the ",(0,l.mdx)("inlineCode",{parentName:"p"},"custom_attributesV2")," attribute within the output of your query, as shown in ",(0,l.mdx)("a",{parentName:"p",href:"#filter-custom_attributesv2-of-a-product"},"Filter custom_attributesV2 of a product"),"."),(0,l.mdx)("p",null,"You can also modify the codebase and ",(0,l.mdx)("a",{parentName:"p",href:"../../../usage/custom-filters.md"},"create a custom attribute")," that can be used as a top-level filter. Use the ",(0,l.mdx)("inlineCode",{parentName:"p"},"input_type")," output attribute of the ",(0,l.mdx)("a",{parentName:"p",href:"../../attributes/queries/custom-attribute-metadata.md"},(0,l.mdx)("inlineCode",{parentName:"a"},"customAttributeMetadata")," query")," to determine the type of filter to use."),(0,l.mdx)("h4",{id:"filterequaltypeinput-attributes"},"FilterEqualTypeInput attributes"),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"category_id"),", ",(0,l.mdx)("inlineCode",{parentName:"p"},"sku"),", and ",(0,l.mdx)("inlineCode",{parentName:"p"},"url_key")," filters require a ",(0,l.mdx)("inlineCode",{parentName:"p"},"FilterEqualTypeInput")," object as input. You must specify a ",(0,l.mdx)("inlineCode",{parentName:"p"},"FilterEqualTypeInput")," object to filter on a custom product attribute of the following types:"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},"Boolean"),(0,l.mdx)("li",{parentName:"ul"},"Select"),(0,l.mdx)("li",{parentName:"ul"},"Multiple select")),(0,l.mdx)("p",null,"The comparison operator must be either ",(0,l.mdx)("inlineCode",{parentName:"p"},"eq")," or ",(0,l.mdx)("inlineCode",{parentName:"p"},"in"),". Use ",(0,l.mdx)("inlineCode",{parentName:"p"},"eq")," to exactly match the specified string. For example, to filter on a specific category ID, specify a value like ",(0,l.mdx)("inlineCode",{parentName:"p"},"5"),".\nUse ",(0,l.mdx)("inlineCode",{parentName:"p"},"in")," to filter on an array of values. For example, to filter on category IDs 4, 5, and 6, specify a value of ",(0,l.mdx)("inlineCode",{parentName:"p"},'["4", "5", "6"]')),(0,l.mdx)("h4",{id:"filtermatchtypeinput-attributes"},"FilterMatchTypeInput attributes"),(0,l.mdx)("p",null,"Use the ",(0,l.mdx)("inlineCode",{parentName:"p"},"FilterMatchTypeInput")," object to construct a filter that returns products that partially match a string or contain the specified pattern. By default, the query returns full matches. You can set the ",(0,l.mdx)("inlineCode",{parentName:"p"},"match_type")," field to ",(0,l.mdx)("inlineCode",{parentName:"p"},"PARTIAL")," return partial matches."),(0,l.mdx)("p",null,"You must specify a ",(0,l.mdx)("inlineCode",{parentName:"p"},"FilterMatchTypeInput")," object to filter on a custom product attribute of the following types:"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},"Text field"),(0,l.mdx)("li",{parentName:"ul"},"Text area"),(0,l.mdx)("li",{parentName:"ul"},"Any other type not explicitly listed in ",(0,l.mdx)("inlineCode",{parentName:"li"},"FilterEqualTypeInput"),", ",(0,l.mdx)("inlineCode",{parentName:"li"},"FilterMatchTypeInput"),", or ",(0,l.mdx)("inlineCode",{parentName:"li"},"FilterRangeTypeInput"))),(0,l.mdx)("h4",{id:"filterrangetypeinput-attributes"},"FilterRangeTypeInput attributes"),(0,l.mdx)("p",null,"Use the ",(0,l.mdx)("inlineCode",{parentName:"p"},"FilterRangeTypeInput")," object to construct a filter that returns products that fall within a range of prices or dates. This object contains ",(0,l.mdx)("inlineCode",{parentName:"p"},"from")," and ",(0,l.mdx)("inlineCode",{parentName:"p"},"to")," attributes."),(0,l.mdx)("h3",{id:"pagesize-attribute"},"pageSize attribute"),(0,l.mdx)("p",null,"Magento's GraphQL implementation of pagination uses offsets so that it operates in the same manner as REST and SOAP API requests."),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"pageSize")," attribute specifies the maximum number of items to return. If no value is specified, 20 items are returned."),(0,l.mdx)("h3",{id:"currentpage-attribute"},"currentPage attribute"),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"currentPage")," attribute specifies which page of results to return. If no value is specified, the first page is returned. The application returns an error if you specify a value that is greater than the number of available pages."),(0,l.mdx)("h3",{id:"sort-attribute"},"sort attribute"),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"sort")," attribute allows you to specify which field or fields to use for sorting the results. If you specify more than one field, the application sorts by the first field listed. Then, if any items have the same value, those items will be sorted by the secondary field. The value for each field can be set to either ",(0,l.mdx)("inlineCode",{parentName:"p"},"ASC")," or ",(0,l.mdx)("inlineCode",{parentName:"p"},"DESC"),"."),(0,l.mdx)("p",null,"If you do not specify a ",(0,l.mdx)("inlineCode",{parentName:"p"},"sort")," object, the application sorts as follows:"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},"If you specify the ",(0,l.mdx)("inlineCode",{parentName:"li"},"search")," attribute, the query sorts by relevance, in descending order."),(0,l.mdx)("li",{parentName:"ul"},"If you specify the ",(0,l.mdx)("inlineCode",{parentName:"li"},"filter")," attribute without specifying the  ",(0,l.mdx)("inlineCode",{parentName:"li"},"search")," attribute, the query sorts by position, in ascending order.")),(0,l.mdx)("p",null,"In previous versions, the ",(0,l.mdx)("inlineCode",{parentName:"p"},"sort")," attribute required a ",(0,l.mdx)("inlineCode",{parentName:"p"},"ProductSortInput")," object as input. The ",(0,l.mdx)("inlineCode",{parentName:"p"},"sort")," attribute now requires a ",(0,l.mdx)("inlineCode",{parentName:"p"},"ProductAttributeSortInput")," object, which can contain the following attributes:"),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"name")),(0,l.mdx)("td",{parentName:"tr",align:null},"Sorts by Product Name")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"position")),(0,l.mdx)("td",{parentName:"tr",align:null},"Sorts by the position of products")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"price")),(0,l.mdx)("td",{parentName:"tr",align:null},"Sorts by Price")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"relevance")),(0,l.mdx)("td",{parentName:"tr",align:null},"(Default) Sorts by the search relevance score")))),(0,l.mdx)("p",null,"To enable sorting by an attribute that is not in the ",(0,l.mdx)("inlineCode",{parentName:"p"},"ProductAttributeSortInput")," object, set the ",(0,l.mdx)("strong",{parentName:"p"},"Stores")," > Attributes > ",(0,l.mdx)("strong",{parentName:"p"},"Product")," > ",(0,l.mdx)("inlineCode",{parentName:"p"},"Attribute Name")," > ",(0,l.mdx)("strong",{parentName:"p"},"Storefront Properties")," > ",(0,l.mdx)("strong",{parentName:"p"},"Use in Search")," and ",(0,l.mdx)("strong",{parentName:"p"},"Used in Sorting in Product Listing")," fields to Yes."),(0,l.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,l.mdx)("p",null,"The query returns a ",(0,l.mdx)("inlineCode",{parentName:"p"},"Products")," object. This can contain an array of aggregations. Each aggregation within the ",(0,l.mdx)("inlineCode",{parentName:"p"},"aggregations")," object is a separate bucket that contains the attribute code and label for each filterable option (such as price, category UID, and custom attributes). It also includes the number of products within the filterable option that match the specified search criteria."),(0,l.mdx)(d,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,l.mdx)("p",null,"To enable a custom attribute to return layered navigation and aggregation data from the Admin, set the ",(0,l.mdx)("strong",{parentName:"p"},"Stores")," > Attributes > ",(0,l.mdx)("strong",{parentName:"p"},"Product")," > ",(0,l.mdx)("inlineCode",{parentName:"p"},"Attribute Name")," > ",(0,l.mdx)("strong",{parentName:"p"},"Storefront Properties")," > ",(0,l.mdx)("strong",{parentName:"p"},"Use in Layered Navigation")," field to ",(0,l.mdx)("strong",{parentName:"p"},"Filterable (with results)")," or ",(0,l.mdx)("strong",{parentName:"p"},"Filterable (no results)"),"."),(0,l.mdx)("p",null,"When the ",(0,l.mdx)("inlineCode",{parentName:"p"},"category_id")," field is specified as part of the ",(0,l.mdx)("inlineCode",{parentName:"p"},"ProductAttributeFilterInput")," input object, the ",(0,l.mdx)("inlineCode",{parentName:"p"},"includeDirectChildrenOnly")," field of the ",(0,l.mdx)("inlineCode",{parentName:"p"},"AggregationsCategoryFilterInput")," object can be used in the response to refine the returned aggregations. If ",(0,l.mdx)("inlineCode",{parentName:"p"},"includeDirectChildrenOnly")," is set to true, then the aggregations will contain only direct child categories. Otherwise, the category aggregations will follow the default algorithm. The default value is false."),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"Products")," object also contains an array of items that match the search criteria. ",(0,l.mdx)("a",{parentName:"p",href:"../interfaces/index.md/"},"ProductInterface")," describes the possible contents of this object."),(0,l.mdx)("h2",{id:"sample-queries"},"Sample queries"),(0,l.mdx)("p",null,"This section illustrates some of the many ways that you can use the ",(0,l.mdx)("inlineCode",{parentName:"p"},"products")," query."),(0,l.mdx)("h3",{id:"full-text-search"},"Full text search"),(0,l.mdx)("p",null,"The following search returns items that contain the word ",(0,l.mdx)("inlineCode",{parentName:"p"},"yoga")," or ",(0,l.mdx)("inlineCode",{parentName:"p"},"pants"),". The Catalog Search index contains search terms taken from the product ",(0,l.mdx)("inlineCode",{parentName:"p"},"name"),", ",(0,l.mdx)("inlineCode",{parentName:"p"},"description"),", ",(0,l.mdx)("inlineCode",{parentName:"p"},"short_description")," and related attributes."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  products(search: "Yoga pants", pageSize: 2) {\n    total_count\n    items {\n      name\n      sku\n      price_range {\n        minimum_price {\n          regular_price {\n            value\n            currency\n          }\n        }\n      }\n    }\n    page_info {\n      page_size\n      current_page\n    }\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("p",null,"The search returns 45 items, but only the first two items are returned on the current page."),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "products": {\n      "total_count": 45,\n      "items": [\n        {\n          "name": "Josie Yoga Jacket",\n          "sku": "WJ02",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 56.25,\n                "currency": "USD"\n              }\n            }\n          }\n        },\n        {\n          "name": "Selene Yoga Hoodie",\n          "sku": "WH05",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 42,\n                "currency": "USD"\n              }\n            }\n          }\n        }\n      ],\n      "page_info": {\n        "page_size": 2,\n        "current_page": 1\n      }\n    }\n  }\n}\n')),(0,l.mdx)("h3",{id:"full-text-search-with-filter-by-price-attribute"},"Full text search with filter by price attribute"),(0,l.mdx)("p",null,"The following sample query returns a list of products that meets the following criteria:"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},"The product name, product description, or related field contains the string ",(0,l.mdx)("inlineCode",{parentName:"li"},"Messenger")," (which causes it to be available for full text searches)."),(0,l.mdx)("li",{parentName:"ul"},"The price is less than $50.")),(0,l.mdx)("p",null,"The response for each item includes the ",(0,l.mdx)("inlineCode",{parentName:"p"},"name"),", ",(0,l.mdx)("inlineCode",{parentName:"p"},"sku"),", and ",(0,l.mdx)("inlineCode",{parentName:"p"},"price")," only. Up to 25 results are returned at a time, in decreasing order of price."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  products(\n    search: "Messenger"\n    filter: { price: { to: "50" } }\n    pageSize: 25\n    sort: { price: DESC }\n  ) {\n    items {\n      name\n      sku\n      price_range {\n        minimum_price {\n          regular_price {\n            value\n            currency\n          }\n        }\n      }\n    }\n    total_count\n    page_info {\n      page_size\n    }\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "products": {\n      "items": [\n        {\n          "name": "Rival Field Messenger",\n          "sku": "24-MB06",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 45,\n                "currency": "USD"\n              }\n            }\n          }\n        },\n        {\n          "name": "Push It Messenger Bag",\n          "sku": "24-WB04",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 45,\n                "currency": "USD"\n              }\n            }\n          }\n        },\n        {\n          "name": "Wayfarer Messenger Bag",\n          "sku": "24-MB05",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 45,\n                "currency": "USD"\n              }\n            }\n          }\n        }\n      ],\n      "total_count": 3,\n      "page_info": {\n        "page_size": 25\n      }\n    }\n  }\n}\n')),(0,l.mdx)("h3",{id:"query-with-filter-by-sku-attribute"},"Query with filter by SKU attribute"),(0,l.mdx)("p",null,"The following sample query returns product by SKU. You have to pass SKU value to return product information."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  products(filter: { sku: { eq: "24-MB01" } }) {\n    items {\n      name\n      sku\n      url_key\n      stock_status\n      price_range {\n        minimum_price {\n          regular_price {\n            value\n            currency\n          }\n        }\n      }\n    }\n    total_count\n    page_info {\n      page_size\n    }\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "products": {\n      "items": [\n        {\n          "name": "Joust Duffle Bag",\n          "sku": "24-MB01",\n          "url_key": "joust-duffle-bag",\n          "stock_status": "IN_STOCK",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 34,\n                "currency": "USD"\n              }\n            }\n          }\n        }\n      ],\n      "total_count": 1,\n      "page_info": {\n        "page_size": 20\n      }\n    }\n  }\n}\n')),(0,l.mdx)("h3",{id:"query-with-filter-by-name-attribute-and-match_type"},"Query with filter by ",(0,l.mdx)("inlineCode",{parentName:"h3"},"name")," attribute and ",(0,l.mdx)("inlineCode",{parentName:"h3"},"match_type")),(0,l.mdx)("p",null,"The following sample query returns different results, depending on the value of ",(0,l.mdx)("inlineCode",{parentName:"p"},"match_type"),". The default value of ",(0,l.mdx)("inlineCode",{parentName:"p"},"FULL"),"\nindicates the query returns full word matches. If you specify ",(0,l.mdx)("inlineCode",{parentName:"p"},"PARTIAL"),", the query performs a partial word search,"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  products(filter: { name: { match: "Life", match_type: FULL } }) {\n    items {\n      name\n      sku\n      url_key\n      stock_status\n      price_range {\n        minimum_price {\n          regular_price {\n            value\n            currency\n          }\n        }\n      }\n    }\n    total_count\n    page_info {\n      page_size\n    }\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "products": {\n      "items": [\n        {\n          "name": "Luma Yoga For Life",\n          "sku": "240-LV09",\n          "url_key": "luma-yoga-for-life",\n          "stock_status": "IN_STOCK",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 0,\n                "currency": "USD"\n              }\n            }\n          }\n        }\n      ],\n      "total_count": 1,\n      "page_info": {\n        "page_size": 20\n      }\n    }\n  }\n}\n')),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  products(filter: { name: { match: "Life", match_type: PARTIAL } }) {\n    items {\n      name\n      sku\n      url_key\n      stock_status\n      price_range {\n        minimum_price {\n          regular_price {\n            value\n            currency\n          }\n        }\n      }\n    }\n    total_count\n    page_info {\n      page_size\n    }\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "products": {\n      "items": [\n        {\n          "name": "Luma Yoga For Life",\n          "sku": "240-LV09",\n          "url_key": "luma-yoga-for-life",\n          "stock_status": "IN_STOCK",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 0,\n                "currency": "USD"\n              }\n            }\n          }\n        },\n        {\n          "name": "LifeLong Fitness IV",\n          "sku": "240-LV05",\n          "url_key": "lifelong-fitness-iv",\n          "stock_status": "IN_STOCK",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 14,\n                "currency": "USD"\n              }\n            }\n          }\n        }\n      ],\n      "total_count": 2,\n      "page_info": {\n        "page_size": 20\n      }\n    }\n  }\n}\n')),(0,l.mdx)("h3",{id:"query-with-layered-navigation"},"Query with layered navigation"),(0,l.mdx)("p",null,"The following query returns aggregations for a query that filters on items with these characteristics:"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},"Women's pants (category ID ",(0,l.mdx)("inlineCode",{parentName:"li"},"27"),")"),(0,l.mdx)("li",{parentName:"ul"},"In the price range of $30 - $39.99"),(0,l.mdx)("li",{parentName:"ul"},"Comes in black (color ",(0,l.mdx)("inlineCode",{parentName:"li"},"49"),")")),(0,l.mdx)(d,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,l.mdx)("p",null,"By default, you cannot filter on the ",(0,l.mdx)("inlineCode",{parentName:"p"},"color")," attribute. ",(0,l.mdx)("a",{parentName:"p",href:"../../../usage/custom-filters.md"},"Filtering with custom attributes")," describes how to enable this attribute for filtering. You can also run the following query without enabling the attribute by deleting ",(0,l.mdx)("inlineCode",{parentName:"p"},', color: {eq: "49"}'),"."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  products(filter: {category_id: {eq: "27"}, price: {from: "30", to: "39.99"}, color: {eq: "49"}}, pageSize: 25, sort: {name: DESC}) {\n    aggregations {\n      attribute_code\n      count\n      label\n      options {\n        label\n        value\n        count\n      }\n    }\n    items {\n      name\n      sku\n      price_range {\n        minimum_price {\n          regular_price {\n            value\n            currency\n          }\n        }\n      }\n    }\n    page_info {\n      page_size\n    }\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "products": {\n      "aggregations": [\n        {\n          "attribute_code": "price",\n          "count": 1,\n          "label": "Price",\n          "options": [\n            {\n              "label": "30-*",\n              "value": "30_*",\n              "count": 4\n            }\n          ]\n        },\n        {\n          "attribute_code": "category_id",\n          "count": 5,\n          "label": "Category",\n          "options": [\n            {\n              "label": "New Luma Yoga Collection",\n              "value": "8",\n              "count": 1\n            },\n            {\n              "label": "Bottoms",\n              "value": "22",\n              "count": 4\n            },\n            {\n              "label": "Pants",\n              "value": "27",\n              "count": 4\n            },\n            {\n              "label": "Pants",\n              "value": "32",\n              "count": 4\n            },\n            {\n              "label": "Performance Fabrics",\n              "value": "35",\n              "count": 2\n            }\n          ]\n        },\n        {\n          "attribute_code": "color",\n          "count": 8,\n          "label": "Color",\n          "options": [\n            {\n              "label": "Black",\n              "value": "49",\n              "count": 4\n            },\n            {\n              "label": "Blue",\n              "value": "50",\n              "count": 2\n            },\n            {\n              "label": "Gray",\n              "value": "52",\n              "count": 1\n            },\n            {\n              "label": "Green",\n              "value": "53",\n              "count": 1\n            },\n            {\n              "label": "Orange",\n              "value": "56",\n              "count": 1\n            },\n            {\n              "label": "Purple",\n              "value": "57",\n              "count": 1\n            },\n            {\n              "label": "Red",\n              "value": "58",\n              "count": 1\n            },\n            {\n              "label": "White",\n              "value": "59",\n              "count": 1\n            }\n          ]\n        },\n        {\n          "attribute_code": "material",\n          "count": 7,\n          "label": "Material",\n          "options": [\n            {\n              "label": "Nylon",\n              "value": "37",\n              "count": 1\n            },\n            {\n              "label": "Rayon",\n              "value": "39",\n              "count": 1\n            },\n            {\n              "label": "LumaTech&trade;",\n              "value": "148",\n              "count": 1\n            },\n            {\n              "label": "Microfiber",\n              "value": "150",\n              "count": 2\n            },\n            {\n              "label": "Spandex",\n              "value": "151",\n              "count": 2\n            },\n            {\n              "label": "Organic Cotton",\n              "value": "154",\n              "count": 2\n            },\n            {\n              "label": "CoolTech&trade;",\n              "value": "156",\n              "count": 2\n            }\n          ]\n        },\n        {\n          "attribute_code": "size",\n          "count": 2,\n          "label": "Size",\n          "options": [\n            {\n              "label": "28",\n              "value": "172",\n              "count": 4\n            },\n            {\n              "label": "29",\n              "value": "173",\n              "count": 4\n            }\n          ]\n        },\n        {\n          "attribute_code": "eco_collection",\n          "count": 2,\n          "label": "Eco Collection",\n          "options": [\n            {\n              "label": "0",\n              "value": "0",\n              "count": 3\n            },\n            {\n              "label": "1",\n              "value": "1",\n              "count": 1\n            }\n          ]\n        },\n        {\n          "attribute_code": "performance_fabric",\n          "count": 2,\n          "label": "Performance Fabric",\n          "options": [\n            {\n              "label": "0",\n              "value": "0",\n              "count": 2\n            },\n            {\n              "label": "1",\n              "value": "1",\n              "count": 2\n            }\n          ]\n        },\n        {\n          "attribute_code": "erin_recommends",\n          "count": 1,\n          "label": "Erin Recommends",\n          "options": [\n            {\n              "label": "0",\n              "value": "0",\n              "count": 4\n            }\n          ]\n        },\n        {\n          "attribute_code": "new",\n          "count": 2,\n          "label": "New",\n          "options": [\n            {\n              "label": "0",\n              "value": "0",\n              "count": 3\n            },\n            {\n              "label": "1",\n              "value": "1",\n              "count": 1\n            }\n          ]\n        },\n        {\n          "attribute_code": "sale",\n          "count": 1,\n          "label": "Sale",\n          "options": [\n            {\n              "label": "0",\n              "value": "0",\n              "count": 4\n            }\n          ]\n        },\n        {\n          "attribute_code": "style_bottom",\n          "count": 5,\n          "label": "Style Bottom",\n          "options": [\n            {\n              "label": "Capri",\n              "value": "107",\n              "count": 2\n            },\n            {\n              "label": "Leggings",\n              "value": "109",\n              "count": 1\n            },\n            {\n              "label": "Parachute",\n              "value": "110",\n              "count": 1\n            },\n            {\n              "label": "Sweatpants",\n              "value": "113",\n              "count": 1\n            },\n            {\n              "label": "Track Pants",\n              "value": "115",\n              "count": 1\n            }\n          ]\n        },\n        {\n          "attribute_code": "pattern",\n          "count": 2,\n          "label": "Pattern",\n          "options": [\n            {\n              "label": "Color-Blocked",\n              "value": "195",\n              "count": 3\n            },\n            {\n              "label": "Solid",\n              "value": "197",\n              "count": 1\n            }\n          ]\n        },\n        {\n          "attribute_code": "climate",\n          "count": 5,\n          "label": "Climate",\n          "options": [\n            {\n              "label": "Indoor",\n              "value": "205",\n              "count": 4\n            },\n            {\n              "label": "Mild",\n              "value": "206",\n              "count": 4\n            },\n            {\n              "label": "Spring",\n              "value": "208",\n              "count": 1\n            },\n            {\n              "label": "Warm",\n              "value": "209",\n              "count": 2\n            },\n            {\n              "label": "Hot",\n              "value": "212",\n              "count": 3\n            }\n          ]\n        }\n      ],\n      "items": [\n        {\n          "name": "Karmen Yoga Pant",\n          "sku": "WP01",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 39,\n                "currency": "USD"\n              }\n            }\n          }\n        },\n        {\n          "name": "Ida Workout Parachute Pant",\n          "sku": "WP03",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 48,\n                "currency": "USD"\n              }\n            }\n          }\n        },\n        {\n          "name": "Bardot Capri",\n          "sku": "WP08",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 48,\n                "currency": "USD"\n              }\n            }\n          }\n        },\n        {\n          "name": "Aeon Capri",\n          "sku": "WP07",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 48,\n                "currency": "USD"\n              }\n            }\n          }\n        }\n      ],\n      "page_info": {\n        "page_size": 25\n      }\n    }\n  }\n}\n')),(0,l.mdx)("h3",{id:"query-with-layered-navigation-and-includedirectchildrenonly-input-filter-applied"},"Query with layered navigation and includeDirectChildrenOnly input filter applied"),(0,l.mdx)("p",null,"The following query returns aggregations that filters on items with these characteristics:"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},"Women's Bottoms (category ID 22)"),(0,l.mdx)("li",{parentName:"ul"},"In the price range of $40 - $49.99"),(0,l.mdx)("li",{parentName:"ul"},"Comes in black (color 49)")),(0,l.mdx)("p",null,"Because the ",(0,l.mdx)("inlineCode",{parentName:"p"},"includeDirectChildrenOnly")," input filter is set to true, the category aggregation in the response will include only the Women's Pants and Shorts categories, which are direct children of the Women's Bottoms category."),(0,l.mdx)(d,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,l.mdx)("p",null,"By default, you cannot filter on the ",(0,l.mdx)("inlineCode",{parentName:"p"},"color")," attribute. ",(0,l.mdx)("a",{parentName:"p",href:"../../../usage/custom-filters.md"},"Filtering with custom attributes")," describes how to enable this attribute for filtering. You can also run the following query without enabling the attribute by deleting ",(0,l.mdx)("inlineCode",{parentName:"p"},', color: {eq: "49"}'),"."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\nproducts(filter: {category_id: {eq: "22"}, price: {from: "40", to: "49.99"}, color: {eq: "49"}}, pageSize: 25, sort: {name: DESC}) {\n    aggregations (filter: {category: {includeDirectChildrenOnly: true}}) {\n      attribute_code\n      count\n      label\n      options {\n        label\n        value\n        count\n      }\n    }\n    items {\n      name\n      sku\n      price_range {\n        minimum_price {\n          regular_price {\n            value\n            currency\n          }\n        }\n      }\n    }\n    page_info {\n      page_size\n    }\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "products": {\n      "aggregations": [\n        {\n          "attribute_code": "price",\n          "count": 1,\n          "label": "Price",\n          "options": [\n            {\n              "label": "40-50",\n              "value": "40_50",\n              "count": 5\n            }\n          ]\n        },\n        {\n          "attribute_code": "category_id",\n          "count": 2,\n          "label": "Category",\n          "options": [\n            {\n              "label": "Pants",\n              "value": "27",\n              "count": 3\n            },\n            {\n              "label": "Shorts",\n              "value": "28",\n              "count": 2\n            }\n          ]\n        },\n        {\n          "attribute_code": "climate",\n          "count": 7,\n          "label": "Climate",\n          "options": [\n            {\n              "label": "All-Weather",\n              "value": "201",\n              "count": 5\n            },\n            {\n              "label": "Cool",\n              "value": "203",\n              "count": 1\n            },\n            {\n              "label": "Indoor",\n              "value": "204",\n              "count": 4\n            },\n            {\n              "label": "Mild",\n              "value": "205",\n              "count": 4\n            },\n            {\n              "label": "Spring",\n              "value": "207",\n              "count": 3\n            },\n            {\n              "label": "Warm",\n              "value": "208",\n              "count": 5\n            },\n            {\n              "label": "Hot",\n              "value": "211",\n              "count": 1\n            }\n          ]\n        },\n        {\n          "attribute_code": "pattern",\n          "count": 3,\n          "label": "Pattern",\n          "options": [\n            {\n              "label": "Color-Blocked",\n              "value": "194",\n              "count": 1\n            },\n            {\n              "label": "Solid",\n              "value": "196",\n              "count": 2\n            },\n            {\n              "label": "Solid-Highlight",\n              "value": "197",\n              "count": 2\n            }\n          ]\n        },\n        {\n          "attribute_code": "style_bottom",\n          "count": 4,\n          "label": "Style",\n          "options": [\n            {\n              "label": "Basic",\n              "value": "105",\n              "count": 2\n            },\n            {\n              "label": "Capri",\n              "value": "106",\n              "count": 3\n            },\n            {\n              "label": "Compression",\n              "value": "107",\n              "count": 1\n            },\n            {\n              "label": "Leggings",\n              "value": "108",\n              "count": 2\n            }\n          ]\n        },\n        {\n          "attribute_code": "sale",\n          "count": 1,\n          "label": "Sale",\n          "options": [\n            {\n              "label": "0",\n              "value": "0",\n              "count": 5\n            }\n          ]\n        },\n        {\n          "attribute_code": "new",\n          "count": 1,\n          "label": "New",\n          "options": [\n            {\n              "label": "0",\n              "value": "0",\n              "count": 5\n            }\n          ]\n        },\n        {\n          "attribute_code": "erin_recommends",\n          "count": 2,\n          "label": "Erin Recommends",\n          "options": [\n            {\n              "label": "0",\n              "value": "0",\n              "count": 4\n            },\n            {\n              "label": "1",\n              "value": "1",\n              "count": 1\n            }\n          ]\n        },\n        {\n          "attribute_code": "performance_fabric",\n          "count": 1,\n          "label": "Performance Fabric",\n          "options": [\n            {\n              "label": "0",\n              "value": "0",\n              "count": 5\n            }\n          ]\n        },\n        {\n          "attribute_code": "eco_collection",\n          "count": 2,\n          "label": "Eco Collection",\n          "options": [\n            {\n              "label": "0",\n              "value": "0",\n              "count": 3\n            },\n            {\n              "label": "1",\n              "value": "1",\n              "count": 2\n            }\n          ]\n        },\n        {\n          "attribute_code": "size",\n          "count": 5,\n          "label": "Size",\n          "options": [\n            {\n              "label": "28",\n              "value": "171",\n              "count": 5\n            },\n            {\n              "label": "29",\n              "value": "172",\n              "count": 5\n            },\n            {\n              "label": "30",\n              "value": "173",\n              "count": 1\n            },\n            {\n              "label": "31",\n              "value": "174",\n              "count": 1\n            },\n            {\n              "label": "32",\n              "value": "175",\n              "count": 1\n            }\n          ]\n        },\n        {\n          "attribute_code": "material",\n          "count": 7,\n          "label": "Material",\n          "options": [\n            {\n              "label": "Cotton",\n              "value": "33",\n              "count": 1\n            },\n            {\n              "label": "Polyester",\n              "value": "38",\n              "count": 2\n            },\n            {\n              "label": "Microfiber",\n              "value": "149",\n              "count": 1\n            },\n            {\n              "label": "Spandex",\n              "value": "150",\n              "count": 4\n            },\n            {\n              "label": "Organic Cotton",\n              "value": "153",\n              "count": 2\n            },\n            {\n              "label": "CoolTech&trade;",\n              "value": "155",\n              "count": 1\n            },\n            {\n              "label": "Wool",\n              "value": "158",\n              "count": 1\n            }\n          ]\n        },\n        {\n          "attribute_code": "color",\n          "count": 7,\n          "label": "Color",\n          "options": [\n            {\n              "label": "Black",\n              "value": "49",\n              "count": 5\n            },\n            {\n              "label": "Blue",\n              "value": "50",\n              "count": 2\n            },\n            {\n              "label": "Gray",\n              "value": "52",\n              "count": 1\n            },\n            {\n              "label": "Green",\n              "value": "53",\n              "count": 1\n            },\n            {\n              "label": "Orange",\n              "value": "56",\n              "count": 3\n            },\n            {\n              "label": "Purple",\n              "value": "57",\n              "count": 1\n            },\n            {\n              "label": "White",\n              "value": "59",\n              "count": 2\n            }\n          ]\n        }\n      ],\n      "items": [\n        {\n          "name": "Diana Tights",\n          "sku": "WP06",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 59,\n                "currency": "USD"\n              }\n            }\n          }\n        },\n        {\n          "name": "Daria Bikram Pant",\n          "sku": "WP10",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 51,\n                "currency": "USD"\n              }\n            }\n          }\n        },\n        {\n          "name": "Carina Basic Capri",\n          "sku": "WP09",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 51,\n                "currency": "USD"\n              }\n            }\n          }\n        },\n        {\n          "name": "Artemis Running Short",\n          "sku": "WSH04",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 45,\n                "currency": "USD"\n              }\n            }\n          }\n        },\n        {\n          "name": "Ana Running Short",\n          "sku": "WSH10",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 40,\n                "currency": "USD"\n              }\n            }\n          }\n        }\n      ],\n      "page_info": {\n        "page_size": 25\n      }\n    }\n  }\n}\n')),(0,l.mdx)("h3",{id:"return-minimum-and-maximum-prices-and-discount-information"},"Return minimum and maximum prices and discount information"),(0,l.mdx)("p",null,"In the following example, a catalog price rule that provides a 10% discount on all fitness equipment is in effect. The product queried, ",(0,l.mdx)("inlineCode",{parentName:"p"},"24-WG080"),", is the Sprite Yoga Companion Kit bundle product. This product has two user-selected options that cause the price to vary. If you choose to query a product that is not a composite (bundle, group, or configurable) product, the minimum and maximum prices are the same."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  products(filter: {sku: {eq: "24-WG080"}}, sort: {name: ASC}) {\n    items {\n      name\n      sku\n      price_range {\n        minimum_price {\n          regular_price {\n            value\n            currency\n          }\n          final_price {\n            value\n            currency\n          }\n          discount {\n            amount_off\n            percent_off\n          }\n        }\n        maximum_price {\n          regular_price {\n            value\n            currency\n          }\n          final_price {\n            value\n            currency\n          }\n          discount {\n            amount_off\n            percent_off\n          }\n        }\n      }\n    }\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "products": {\n      "items": [\n        {\n          "name": "Sprite Yoga Companion Kit",\n          "sku": "24-WG080",\n          "price_range": {\n            "minimum_price": {\n              "regular_price": {\n                "value": 61,\n                "currency": "USD"\n              },\n              "final_price": {\n                "value": 54.9,\n                "currency": "USD"\n              },\n              "discount": {\n                "amount_off": 6.1,\n                "percent_off": 10\n              }\n            },\n            "maximum_price": {\n              "regular_price": {\n                "value": 77,\n                "currency": "USD"\n              },\n              "final_price": {\n                "value": 69.3,\n                "currency": "USD"\n              },\n              "discount": {\n                "amount_off": 7.7,\n                "percent_off": 10\n              }\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n')),(0,l.mdx)("h3",{id:"sort-by-a-custom-attribute"},"Sort by a custom attribute"),(0,l.mdx)("p",null,"In this example, the ",(0,l.mdx)("inlineCode",{parentName:"p"},"description")," attribute has been enabled by setting the ",(0,l.mdx)("strong",{parentName:"p"},"Stores")," > Attributes > ",(0,l.mdx)("strong",{parentName:"p"},"Product")," > description > ",(0,l.mdx)("strong",{parentName:"p"},"Storefront Properties")," > ",(0,l.mdx)("strong",{parentName:"p"},"Use in Search")," and ",(0,l.mdx)("strong",{parentName:"p"},"Used for Sorting in Product Listing")," fields to Yes. The query returns all products with a price range of $28 to $30, sorted by the description."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  products(filter: { price: { from: "28" to: "30"} }\n  sort: {\n    description: ASC\n  }) {\n    total_count\n    items {\n      name\n      sku\n      description {\n        html\n      }\n      price_range {\n        maximum_price {\n          regular_price {\n            value\n          }\n        }\n      }\n    }\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "products": {\n      "total_count": 25,\n      "items": [\n        {\n          "name": "Erikssen CoolTech&trade; Fitness Tank",\n          "sku": "MT01",\n          "description": {\n            "html": "<p>A good running tank helps make the miles pass by keep you cool. The Erikssen CoolTech&trade; Fitness Tank completes that mission, with performance fabric engineered to wick perspiration and promote airflow.</p>\\n<p>&bull; Red performance tank.<br />&bull; Slight scoop neckline. <br />&bull; Reflectivity. <br />&bull; Machine wash/dry.</p>"\n          },\n          "price_range": {\n            "maximum_price": {\n              "regular_price": {\n                "value": 29\n              }\n            }\n          }\n        },\n        {\n          "name": "Primo Endurance Tank",\n          "sku": "MT03",\n          "description": {\n            "html": "<p>Chances are your workout goes beyond free weights, which is why the Primo Endurance Tank employs maximum versatility. Run, lift or play ball &ndash; this breathable mesh top will keep you cool during all your activities.</p>\\n<p>&bull; Red heather tank with gray pocket.<br />&bull; Chafe-resistant flatlock seams. <br />&bull; Relaxed fit. <br />&bull; Contrast topstitching.<br />&bull; Machine wash/dry.</p>"\n          },\n          "price_range": {\n            "maximum_price": {\n              "regular_price": {\n                "value": 29\n              }\n            }\n          }\n        },\n        ...\n    }\n  }\n}\n')),(0,l.mdx)("h3",{id:"retrieve-related-products-up-sells-and-cross-sells"},"Retrieve related products, up-sells, and cross-sells"),(0,l.mdx)("p",null,"The following query shows how to get related products, up-sells, and cross-sells for a product:"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  products(filter: { sku: { eq: "24-WB06" } }) {\n    items {\n      uid\n      name\n      related_products {\n        uid\n        name\n      }\n      upsell_products {\n        uid\n        name\n      }\n      crosssell_products {\n        uid\n        name\n      }\n    }\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "products": {\n      "items": [\n        {\n          "uid": "MTE=",\n          "name": "Endeavor Daytrip Backpack",\n          "related_products": [\n            {\n              "uid": "MTU=",\n              "name": "Affirm Water Bottle "\n            },\n            {\n              "uid": "MTg=",\n              "name": "Pursuit Lumaflex&trade; Tone Band"\n            },\n            {\n              "uid": "MTY=",\n              "name": "Dual Handle Cardio Ball"\n            },\n            {\n              "uid": "MTc=",\n              "name": "Zing Jump Rope"\n            }\n          ],\n          "upsell_products": [\n            {\n              "uid": "MQ==",\n              "name": "Joust Duffle Bag"\n            },\n            {\n              "uid": "Mw==",\n              "name": "Crown Summit Backpack"\n            },\n            {\n              "uid": "NA==",\n              "name": "Wayfarer Messenger Bag"\n            },\n            {\n              "uid": "NQ==",\n              "name": "Rival Field Messenger"\n            },\n            {\n              "uid": "Ng==",\n              "name": "Fusion Backpack"\n            },\n            {\n              "uid": "Nw==",\n              "name": "Impulse Duffle"\n            },\n            {\n              "uid": "MTI=",\n              "name": "Driven Backpack"\n            },\n            {\n              "uid": "MTM=",\n              "name": "Overnight Duffle"\n            },\n            {\n              "uid": "MTQ=",\n              "name": "Push It Messenger Bag"\n            }\n          ],\n          "crosssell_products": [\n            {\n              "uid": "MTI=",\n              "name": "Driven Backpack"\n            },\n            {\n              "uid": "OA==",\n              "name": "Voyage Yoga Bag"\n            },\n            {\n              "uid": "Ng==",\n              "name": "Fusion Backpack"\n            },\n            {\n              "uid": "Nw==",\n              "name": "Impulse Duffle"\n            },\n            {\n              "uid": "OQ==",\n              "name": "Compete Track Tote"\n            },\n            {\n              "uid": "Mw==",\n              "name": "Crown Summit Backpack"\n            },\n            {\n              "uid": "MTQ=",\n              "name": "Push It Messenger Bag"\n            },\n            {\n              "uid": "MQ==",\n              "name": "Joust Duffle Bag"\n            },\n            {\n              "uid": "MTA=",\n              "name": "Savvy Shoulder Tote"\n            },\n            {\n              "uid": "Mg==",\n              "name": "Strive Shoulder Pack"\n            },\n            {\n              "uid": "NA==",\n              "name": "Wayfarer Messenger Bag"\n            },\n            {\n              "uid": "MTM=",\n              "name": "Overnight Duffle"\n            },\n            {\n              "uid": "NQ==",\n              "name": "Rival Field Messenger"\n            },\n            {\n              "uid": "MTg=",\n              "name": "Pursuit Lumaflex&trade; Tone Band"\n            },\n            {\n              "uid": "MjE=",\n              "name": "Sprite Foam Yoga Brick"\n            },\n            {\n              "uid": "MzI=",\n              "name": "Sprite Stasis Ball 75 cm"\n            },\n            {\n              "uid": "NDU=",\n              "name": "Set of Sprite Yoga Straps"\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n')),(0,l.mdx)("h3",{id:"media-gallery-search"},"Media gallery search"),(0,l.mdx)("p",null,"The following query returns media gallery information about the product with the ",(0,l.mdx)("inlineCode",{parentName:"p"},"sku")," of ",(0,l.mdx)("inlineCode",{parentName:"p"},"24-MB01"),"."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'query {\n  productDetail: products(\n    pageSize: 5\n    filter: {\n       sku: { eq: "24-MB01" }\n    }\n  ) {\n    total_count\n    items {\n      sku\n      uid\n      name\n      image {\n        url\n        label\n      }\n      small_image{\n          url\n          label\n      }\n      media_gallery {\n          url\n          label\n          ... on ProductVideo {\n              video_content {\n                  media_type\n                  video_provider\n                  video_url\n                  video_title\n                  video_description\n                  video_metadata\n              }\n          }\n      }\n    }\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "productDetail": {\n      "total_count": 1,\n      "items": [\n        {\n          "sku": "24-MB01",\n          "uid": "MQ==",\n          "name": "Joust Duffle Bag",\n          "image": {\n            "url": "http://h3.test/media/catalog/product/cache/f2894681b4002ea001bba48638ea0dbc/m/b/mb01-blue-0.jpg",\n            "label": "Joust Duffle Bag"\n          },\n          "small_image": {\n            "url": "http://h3.test/media/catalog/product/cache/f2894681b4002ea001bba48638ea0dbc/m/b/mb01-blue-0.jpg",\n            "label": "Joust Duffle Bag"\n          },\n          "media_gallery": [\n            {\n              "url": "http://h3.test/media/catalog/product/cache/f2894681b4002ea001bba48638ea0dbc/m/b/mb01-blue-0.jpg",\n              "label": "Image"\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n')),(0,l.mdx)("h3",{id:"query-the-rewrite-information-for-a-url"},"Query the rewrite information for a URL"),(0,l.mdx)("p",null,"The following product query returns URL rewrite information about the Joust Duffle Bag."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  products(search: "Joust") {\n    items {\n      name\n      sku\n      url_rewrites {\n        url\n        parameters {\n          name\n          value\n        }\n      }\n    }\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "products": {\n      "items": [\n        {\n          "name": "Joust Duffle Bag",\n          "sku": "24-MB01",\n          "url_rewrites": [\n            {\n              "url": "no-route",\n              "parameters": [\n                {\n                  "name": "page_id",\n                  "value": "1"\n                }\n              ]\n            },\n            {\n              "url": "joust-duffle-bag.html",\n              "parameters": [\n                {\n                  "name": "id",\n                  "value": "1"\n                }\n              ]\n            },\n            {\n              "url": "gear/joust-duffle-bag.html",\n              "parameters": [\n                {\n                  "name": "id",\n                  "value": "1"\n                },\n                {\n                  "name": "category",\n                  "value": "3"\n                }\n              ]\n            },\n            {\n              "url": "gear/bags/joust-duffle-bag.html",\n              "parameters": [\n                {\n                  "name": "id",\n                  "value": "1"\n                },\n                {\n                  "name": "category",\n                  "value": "4"\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n')),(0,l.mdx)("h3",{id:"retrieve-variant-uid-values"},"Retrieve variant ",(0,l.mdx)("inlineCode",{parentName:"h3"},"uid")," values"),(0,l.mdx)("p",null,"The following query returns information about each variant of the configurable product ",(0,l.mdx)("inlineCode",{parentName:"p"},"WSH12"),". Each variant has a unique combination of color and size values. Specify the ",(0,l.mdx)("inlineCode",{parentName:"p"},"uid")," values in the ",(0,l.mdx)("inlineCode",{parentName:"p"},"selected_options")," array of the ",(0,l.mdx)("a",{parentName:"p",href:"../../cart/mutations/add-products.md"},(0,l.mdx)("inlineCode",{parentName:"a"},"addProductsToCart")," mutation")," to indicate which variants the shopper selected."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  products(filter: {sku: {eq: "WSH12"}}) {\n    items {\n      sku\n      ... on ConfigurableProduct {\n        variants {\n          attributes {\n            uid\n            label\n            code\n          }\n        }\n      }\n    }\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "products": {\n      "items": [\n        {\n          "sku": "WSH12",\n          "variants": [\n            {\n              "attributes": [\n                {\n                  "uid": "Y29uZmlndXJhYmxlLzkzLzUz",\n                  "label": "Green",\n                  "code": "color"\n                },\n                {\n                  "uid": "Y29uZmlndXJhYmxlLzE2MC8xNzE=",\n                  "label": "28",\n                  "code": "size"\n                }\n              ]\n            },\n            {\n              "attributes": [\n                {\n                  "uid": "Y29uZmlndXJhYmxlLzkzLzU3",\n                  "label": "Purple",\n                  "code": "color"\n                },\n                {\n                  "uid": "Y29uZmlndXJhYmxlLzE2MC8xNzE=",\n                  "label": "28",\n                  "code": "size"\n                }\n              ]\n            },\n            {\n              "attributes": [\n                {\n                  "uid": "Y29uZmlndXJhYmxlLzkzLzU4",\n                  "label": "Red",\n                  "code": "color"\n                },\n                {\n                  "uid": "Y29uZmlndXJhYmxlLzE2MC8xNzE=",\n                  "label": "28",\n                  "code": "size"\n                }\n              ]\n            },\n            {\n              "attributes": [\n                {\n                  "uid": "Y29uZmlndXJhYmxlLzkzLzUz",\n                  "label": "Green",\n                  "code": "color"\n                },\n                {\n                  "uid": "Y29uZmlndXJhYmxlLzE2MC8xNzI=",\n                  "label": "29",\n                  "code": "size"\n                }\n              ]\n            },\n            {\n              "attributes": [\n                {\n                  "uid": "Y29uZmlndXJhYmxlLzkzLzU3",\n                  "label": "Purple",\n                  "code": "color"\n                },\n                {\n                  "uid": "Y29uZmlndXJhYmxlLzE2MC8xNzI=",\n                  "label": "29",\n                  "code": "size"\n                }\n              ]\n            },\n            {\n              "attributes": [\n                {\n                  "uid": "Y29uZmlndXJhYmxlLzkzLzU4",\n                  "label": "Red",\n                  "code": "color"\n                },\n                {\n                  "uid": "Y29uZmlndXJhYmxlLzE2MC8xNzI=",\n                  "label": "29",\n                  "code": "size"\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n')),(0,l.mdx)("h3",{id:"filter-custom_attributesv2-of-a-product"},"Filter ",(0,l.mdx)("inlineCode",{parentName:"h3"},"custom_attributesV2")," of a product"),(0,l.mdx)(o.A,{mdxType:"CustomAttributeFilterProduct"}))}g.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-products-queries-products-md-22cdba3f9be381ec386b.js.map
"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[6765],{43265:function(t,e,a){a.r(e),a.d(e,{_frontmatter:function(){return u},default:function(){return x}});var n=a(87462),r=a(63366),d=(a(15007),a(64983)),l=a(91515),m=a(767),i=["components"],u={},p={_frontmatter:u},o=l.Z;function x(t){var e=t.components,a=(0,r.Z)(t,i);return(0,d.mdx)(o,(0,n.Z)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,d.mdx)(m.default,{mdxType:"BetaNote"}),(0,d.mdx)("h1",{id:"customattributemetadatav2-query"},"customAttributeMetadataV2 query"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"customAttributeMetadataV2")," query retrieves metadata for the specified ",(0,d.mdx)("inlineCode",{parentName:"p"},"entity_type")," and ",(0,d.mdx)("inlineCode",{parentName:"p"},"attribute_code")," pairs."),(0,d.mdx)("p",null,"This query replaces ",(0,d.mdx)("a",{parentName:"p",href:"attributes-metadata.md"},(0,d.mdx)("inlineCode",{parentName:"a"},"attributesMetadata"))," and ",(0,d.mdx)("a",{parentName:"p",href:"custom-attribute-metadata.md"},(0,d.mdx)("inlineCode",{parentName:"a"},"customAttributeMetadata")),"."),(0,d.mdx)("p",null,"This new query has several features that were not available in the deprecated queries:"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"All entity types can extend this query."),(0,d.mdx)("li",{parentName:"ul"},"The query provides access to all properties of EAV attributes."),(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("inlineCode",{parentName:"li"},"uid")," values are now available.")),(0,d.mdx)("h2",{id:"syntax"},"Syntax"),(0,d.mdx)("p",null,(0,d.mdx)("inlineCode",{parentName:"p"},"{customAttributeMetadataV2(attributes: [AttributeInput!]): {AttributesMetadataOutput!}}")),(0,d.mdx)("h2",{id:"example-usage"},"Example usage"),(0,d.mdx)("h3",{id:"retrieve-eav-attribute-metadata"},"Retrieve EAV attribute metadata"),(0,d.mdx)("p",null,"The following call returns information about the ",(0,d.mdx)("inlineCode",{parentName:"p"},"customer firstname")," attribute metadata."),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Request:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n    customAttributeMetadataV2(\n        attributes: [{entity_type: "customer", attribute_code: "firstname"}]\n    ) {\n        items {\n            uid\n            code\n            label\n            entity_type\n            frontend_input\n            is_required\n            default_value\n            is_unique\n            options {\n                uid\n                label\n                value\n            }\n        }\n        errors {\n            type\n            message\n        }\n    }\n}\n')),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Response:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "customAttributeMetadataV2": {\n      "items": [\n        {\n          "uid": "Y3VzdG9tZXIvZmlyc3RuYW1l",\n          "code": "firstname",\n          "label": "First Name",\n          "entity_type": "CUSTOMER",\n          "frontend_input": "TEXT",\n          "is_required": true,\n          "default_value": null,\n          "is_unique": false,\n          "options": []\n        }\n      ],\n      "errors": []\n    }\n  }\n}\n')),(0,d.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"AttributeInput")," object contains the following attributes:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"attribute_code")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The unique identifier for an attribute code. This value should be in lowercase letters without spaces")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"entity_type")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The type of entity that defines the attribute")))),(0,d.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"AttributesMetadataOutput")," object contains the following attributes:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"items")),(0,d.mdx)("td",{parentName:"tr",align:null},"[CustomAttributeMetadataInterface!]","!"),(0,d.mdx)("td",{parentName:"tr",align:null},"Requested attributes metadata")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"errors")),(0,d.mdx)("td",{parentName:"tr",align:null},"[AttributeMetadataError!]","!"),(0,d.mdx)("td",{parentName:"tr",align:null},"Errors of retrieving certain attributes metadata")))),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"CustomAttributeMetadataInterface")," object contains the following attributes:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"uid")),(0,d.mdx)("td",{parentName:"tr",align:null},"ID!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The unique ID of an attribute. Based on entity type and attribute code")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"code")),(0,d.mdx)("td",{parentName:"tr",align:null},"String!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The unique identifier for an attribute code. This value should be in lowercase letters without spaces")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"label")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The label assigned to the attribute")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"entity_type")),(0,d.mdx)("td",{parentName:"tr",align:null},"AttributeEntityTypeEnum!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The type of entity that defines the attribute")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"frontend_input")),(0,d.mdx)("td",{parentName:"tr",align:null},"AttributeFrontendInputEnum"),(0,d.mdx)("td",{parentName:"tr",align:null},"The frontend input type of the attribute")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"is_required")),(0,d.mdx)("td",{parentName:"tr",align:null},"Boolean!"),(0,d.mdx)("td",{parentName:"tr",align:null},"Whether the attribute value is required")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"default_value")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"Default attribute value")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"is_unique")),(0,d.mdx)("td",{parentName:"tr",align:null},"Boolean!"),(0,d.mdx)("td",{parentName:"tr",align:null},"Whether the attribute value must be unique")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"options")),(0,d.mdx)("td",{parentName:"tr",align:null},"[CustomAttributeOptionInterface!]","!"),(0,d.mdx)("td",{parentName:"tr",align:null},"Attribute options")))),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"CustomAttributeOptionInterface")," object contains the following attributes:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"uid")),(0,d.mdx)("td",{parentName:"tr",align:null},"ID!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The unique ID of an attribute option")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"label")),(0,d.mdx)("td",{parentName:"tr",align:null},"String!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The label assigned to the attribute option")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"value")),(0,d.mdx)("td",{parentName:"tr",align:null},"String!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The attribute option value")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"is_default")),(0,d.mdx)("td",{parentName:"tr",align:null},"Boolean"),(0,d.mdx)("td",{parentName:"tr",align:null},"Is the option value default")))),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"AttributeMetadataError")," object contains the following attributes:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"type")),(0,d.mdx)("td",{parentName:"tr",align:null},"AttributeMetadataErrorType!"),(0,d.mdx)("td",{parentName:"tr",align:null},"Attribute metadata retrieval error type")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"message")),(0,d.mdx)("td",{parentName:"tr",align:null},"String!"),(0,d.mdx)("td",{parentName:"tr",align:null},"Attribute metadata retrieval error message")))))}x.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-attributes-queries-custom-attribute-metadata-v-2-md-e4c2b801313a1d150d7d.js.map
"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[7391],{3837:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return o},default:function(){return x}});var n,r=a(87462),d=a(63366),m=(a(15007),a(64983)),l=a(91515),i=["components"],o={},p=(n="InlineAlert",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,m.mdx)("div",e)}),u={_frontmatter:o},s=l.Z;function x(e){var t=e.components,a=(0,d.Z)(e,i);return(0,m.mdx)(s,(0,r.Z)({},u,a,{components:t,mdxType:"MDXLayout"}),(0,m.mdx)("h1",{id:"placeorder-mutation"},"placeOrder mutation"),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"placeOrder")," mutation converts the cart into an order and returns an order ID. You cannot manage orders with GraphQL, because orders are part of the backend. You can use REST or SOAP calls to manage orders to their completion."),(0,m.mdx)("p",null,"Perform the following actions before using the ",(0,m.mdx)("inlineCode",{parentName:"p"},"placeOrder")," mutation:"),(0,m.mdx)("ul",null,(0,m.mdx)("li",{parentName:"ul"},"Create an empty cart"),(0,m.mdx)("li",{parentName:"ul"},"Add one or more products to the cart"),(0,m.mdx)("li",{parentName:"ul"},"Set the billing address"),(0,m.mdx)("li",{parentName:"ul"},"Set the shipping address"),(0,m.mdx)("li",{parentName:"ul"},"Set the shipping method"),(0,m.mdx)("li",{parentName:"ul"},"Set the payment method"),(0,m.mdx)("li",{parentName:"ul"},"For guest customers, assign an email to the cart")),(0,m.mdx)(p,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"placeOrder")," mutation runs asynchronously if the ",(0,m.mdx)("inlineCode",{parentName:"p"},"AsyncOrder")," module has been enabled. By default, the mutation runs synchronously. ",(0,m.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/commerce-operations/performance-best-practices/high-throughput-order-processing.html#asynchronous-order-placement"},"Asynchronous order placement")," describes the benefits of enabling the module."),(0,m.mdx)("h2",{id:"syntax"},"Syntax"),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-graphql"},"mutation {\n  placeOrder(\n    input: PlaceOrderInput\n  ) {\n    PlaceOrderOutput\n  }\n}\n")),(0,m.mdx)("h2",{id:"example-usage"},"Example usage"),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Request:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation {\n  placeOrder(\n    input: {\n      cart_id: "IeTUiU0oCXjm0uRqGCOuhQ2AuQatogjG"\n    }\n  ) {\n    order {\n      order_number\n    }\n  }\n}\n')),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Response:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "placeOrder": {\n      "order": {\n        "order_number": "000000006"\n      }\n    }\n  }\n}\n')),(0,m.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"placeOrderInput")," object must contain the following attribute:"),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,m.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"cart_id")),(0,m.mdx)("td",{parentName:"tr",align:null},"String!"),(0,m.mdx)("td",{parentName:"tr",align:null},"The unique ID that identifies the customer's cart")))),(0,m.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"placeOrderOutput")," object returns an ",(0,m.mdx)("inlineCode",{parentName:"p"},"order")," object."),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,m.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"order")),(0,m.mdx)("td",{parentName:"tr",align:null},"Order!"),(0,m.mdx)("td",{parentName:"tr",align:null},"The unique ID that identifies the order")))),(0,m.mdx)("h3",{id:"order-object"},"Order object"),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,m.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"order_id")),(0,m.mdx)("td",{parentName:"tr",align:null},"String!"),(0,m.mdx)("td",{parentName:"tr",align:null},"Deprecated. Use ",(0,m.mdx)("inlineCode",{parentName:"td"},"order_number")," instead. The unique ID that identifies the order")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"order_number")),(0,m.mdx)("td",{parentName:"tr",align:null},"String"),(0,m.mdx)("td",{parentName:"tr",align:null},"The unique ID that identifies the order")))),(0,m.mdx)("h2",{id:"errors"},"Errors"),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Error"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"Enter a valid payment method and try again")),(0,m.mdx)("td",{parentName:"tr",align:null},"The payment method was not set. See ",(0,m.mdx)("a",{parentName:"td",href:"../../cart/mutations/set-payment-method.md"},"setPaymentMethodOnCart")," mutation.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"Guest email for cart is missing.")),(0,m.mdx)("td",{parentName:"tr",align:null},"The guest attempted to place an order but did not provide an email address. See ",(0,m.mdx)("a",{parentName:"td",href:"../../cart/mutations/set-guest-email.md"},"setGuestEmailOnCart")," mutation.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"Please check the billing address information")),(0,m.mdx)("td",{parentName:"tr",align:null},"The billing address was not set. See ",(0,m.mdx)("a",{parentName:"td",href:"../../cart/mutations/set-billing-address.md"},"setBillingAddressOnCart")," mutation.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},'Required parameter "cart_id" is missing')),(0,m.mdx)("td",{parentName:"tr",align:null},"The mutation does not contain a ",(0,m.mdx)("inlineCode",{parentName:"td"},"cart_id")," parameter.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"Some addresses can't be used due to the configurations for specific countries")),(0,m.mdx)("td",{parentName:"tr",align:null},"The shipping method was not set. See ",(0,m.mdx)("a",{parentName:"td",href:"set-shipping-method.md"},"setShippingMethodsOnCart")," mutation.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"Some of the products are out of stock")),(0,m.mdx)("td",{parentName:"tr",align:null},"One of the products in the shopping cart are currently out of stock.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"The current user cannot perform operations on cart")),(0,m.mdx)("td",{parentName:"tr",align:null},"An unauthorized user (guest) tried to place an order on behalf of an authorized user (customer), or a customer tried to place an order on behalf of another customer.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"The shipping method is missing. Select the shipping method and try again")),(0,m.mdx)("td",{parentName:"tr",align:null},"The shipping method was not set. See ",(0,m.mdx)("a",{parentName:"td",href:"set-shipping-method.md"},"setShippingMethodsOnCart")," mutation.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"Unable to place order: A server error stopped your order from being placed. Please try to place your order again")),(0,m.mdx)("td",{parentName:"tr",align:null},"The shopper tried to place an order when no products are in the shopping cart.")))))}x.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-cart-mutations-place-order-md-c5887d4d81df8cf174be.js.map
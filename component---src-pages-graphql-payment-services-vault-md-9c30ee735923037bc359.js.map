{"version":3,"file":"component---src-pages-graphql-payment-services-vault-md-9c30ee735923037bc359.js","mappings":"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","sources":["webpack://commerce-webapi/./src/pages/graphql/payment-services/vault.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/commerce-webapi/commerce-webapi/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"payment-services-vault-payment-method\"\n    }}>{`Payment Services Vault payment method`}</h1>\n    <p>{`The `}<a parentName=\"p\" {...{\n        \"href\": \"https://experienceleague.adobe.com/docs/commerce-merchant-services/payment-services/payments-checkout/vaulting.html\"\n      }}>{`Payment Services Vault payment method`}</a>{` is a method of storing a transaction in which shoppers can save—or \"vault\"—their credit card credentials during checkout to use in a later purchase.`}</p>\n    <p>{`The following conditions must be true to use this payment method:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`The customer must be logged-in.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`The customer must have previously saved their payment information in the vault.`}</p>\n      </li>\n    </ul>\n    <p>{`You cannot use this payment method if the customer decides to use a credit or debit card that is not stored in the vault.`}</p>\n    <h2 {...{\n      \"id\": \"payment-services-vault-workflow\"\n    }}>{`Payment Services Vault workflow`}</h2>\n    <p>{`The following diagram shows the workflow for placing an order when Payment Services Vault is the selected payment method.`}</p>\n    <p><img parentName=\"p\" {...{\n        \"src\": \"/commerce-webapi/assets/0cde3c665138898f07d8a60f138c879b/payment-services-paypal-vault.svg\",\n        \"alt\": \"Payment Services Vault sequence diagram\"\n      }}></img></p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Use the `}<a parentName=\"p\" {...{\n            \"href\": \"../schema/checkout/queries/customer-payment-tokens.md\"\n          }}><inlineCode parentName=\"a\">{`customerPaymentTokens`}</inlineCode></a>{` query to retrieve the payment tokens the customer stored in the vault.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Commerce returns an array of payment tokens.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`The client integration renders the token information, and the customer selects a payment method.`}</p>\n        <p parentName=\"li\">{`When the customer selects a stored payment method, the client integration uses the `}<a parentName=\"p\" {...{\n            \"href\": \"../schema/cart/mutations/set-payment-method.md\"\n          }}><inlineCode parentName=\"a\">{`setPaymentMethodOnCart`}</inlineCode></a>{` mutation to set the payment method to `}<inlineCode parentName=\"p\">{`payment_services_paypal_vault`}</inlineCode>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Commerce returns a `}<inlineCode parentName=\"p\">{`Cart`}</inlineCode>{` object.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run `}<inlineCode parentName=\"p\">{`placeOrder`}</inlineCode>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Commerce sends an authorization request to PayPal.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`PayPal returns the result to Commerce.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Commerce creates an order.`}</p>\n      </li>\n    </ol>\n    <h2 {...{\n      \"id\": \"additional-payment-information\"\n    }}>{`Additional Payment information`}</h2>\n    <p>{`When you set the payment method to Payment Services Vault in the `}<a parentName=\"p\" {...{\n        \"href\": \"../schema/cart/mutations/set-payment-method.md\"\n      }}><inlineCode parentName=\"a\">{`setPaymentMethodOnCart`}</inlineCode></a>{` mutation, you must supply a value for the `}<inlineCode parentName=\"p\">{`public_hash`}</inlineCode>{` field. Run the `}<a parentName=\"p\" {...{\n        \"href\": \"../schema/checkout/queries/customer-payment-tokens.md\"\n      }}><inlineCode parentName=\"a\">{`customerPaymentTokens`}</inlineCode></a>{` query to retrieve the value.`}</p>\n    <p>{`This `}<inlineCode parentName=\"p\">{`public_hash`}</inlineCode>{` comes from the `}<a parentName=\"p\" {...{\n        \"href\": \"../schema/checkout/queries/customer-payment-tokens.md\"\n      }}><inlineCode parentName=\"a\">{`customerPaymentTokens`}</inlineCode></a>{` query.`}</p>\n    <h3 {...{\n      \"id\": \"payment_services_paypal_vault-attributes\"\n    }}><inlineCode parentName=\"h3\">{`payment_services_paypal_vault`}</inlineCode>{` attributes`}</h3>\n    <p>{`The `}<inlineCode parentName=\"p\">{`setPaymentMethodOnCart`}</inlineCode>{` mutation has a `}<inlineCode parentName=\"p\">{`payment_services_paypal_vault`}</inlineCode>{` object that contains the following attributes:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Attribute`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Data Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`payments_order_id`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The unique order ID generated in Commerce if Payment Services is enabled after PayPal returns the `}<inlineCode parentName=\"td\">{`paypal_order_id`}</inlineCode></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`paypal_order_id`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The unique order ID generated by PayPal when receiving the authorization request`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`payment_source`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The identifiable payment source for the payment method. The possible values are credit card, PayPal, and Apple Pay`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`public_hash`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The public hash of the payment token`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h3 {...{\n      \"id\": \"example-usage\"\n    }}>{`Example usage`}</h3>\n    <p>{`The following example shows the `}<inlineCode parentName=\"p\">{`setPaymentMethodOnCart`}</inlineCode>{` mutation constructed for the Payment Services Vault payment method.`}</p>\n    <p><strong parentName=\"p\">{`Request:`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-graphql\"\n      }}>{`mutation {\n    setPaymentMethodOnCart ( input: {\n        cart_id: \"uocGxUi5H97XFAMhY3s66q4aFYG3Bmdr\",\n        payment_method: {\n            code: \"payment_services_paypal_vault\",\n            payment_services_paypal_vault: {\n                payment_source: \"vault\",\n                payments_order_id: \"mp-order-a4babd34-13d3-4ac0-b1b0-109bb7be1574\",\n                paypal_order_id: \"9R90936863877801D\",\n                public_hash: \"shew83bdbd83y2bdjbwb2ib2ds\"\n            }\n        }\n    }\n    ) {\n        cart {\n            id\n            selected_payment_method {\n                code\n            }\n        }\n    }\n}\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Response:`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"data\": {\n    \"setPaymentMethodOnCart\": {\n      \"cart\": {\n        \"id\": \"r8TKHa58b7Y8VaZHLyABNxrEdS8hJJTZ\",\n        \"selected_payment_method\": {\n          \"code\": \"payment_services_paypal_vault\"\n        }\n      }\n    }\n  }\n}\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}
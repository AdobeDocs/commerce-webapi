"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[16],{34680:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return p},default:function(){return c}});var a,r=t(87462),o=t(63366),l=(t(15007),t(64983)),m=t(91515),i=t(83634),d=["components"],p={},u=(a="InlineAlert",function(e){return console.warn("Component "+a+" was not imported, exported, or provided by MDXProvider as global scope"),(0,l.mdx)("div",e)}),s={_frontmatter:p},h=m.Z;function c(e){var n=e.components,t=(0,o.Z)(e,d);return(0,l.mdx)(h,(0,r.Z)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,l.mdx)("h1",{id:"categorylist-query"},"categoryList query"),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"categoryList")," query searches for categories that match the criteria specified in filters. It replaces the deprecated ",(0,l.mdx)("inlineCode",{parentName:"p"},"category")," query, which allowed you to search by category ID only."),(0,l.mdx)(u,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,l.mdx)("p",null,"This query does not support pagination. Use the ",(0,l.mdx)("a",{parentName:"p",href:"categories.md"},(0,l.mdx)("inlineCode",{parentName:"a"},"categories")," query")," if you expect to return a large number of categories."),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"categoryList")," query supports the following types of filters. You can specify multiple filters in a query."),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},"Category ID"),(0,l.mdx)("li",{parentName:"ul"},"Category name"),(0,l.mdx)("li",{parentName:"ul"},"Parent category ID"),(0,l.mdx)("li",{parentName:"ul"},"URL key"),(0,l.mdx)("li",{parentName:"ul"},"URL path")),(0,l.mdx)("p",null,"If you do not provide any filter input, the query returns the root category."),(0,l.mdx)("p",null,"The query returns a ",(0,l.mdx)("inlineCode",{parentName:"p"},"CategoryTree")," object. The top level of the ",(0,l.mdx)("inlineCode",{parentName:"p"},"CategoryTree")," object provides details about the queried category. This object includes the ",(0,l.mdx)("inlineCode",{parentName:"p"},"children")," attribute, which contains an array of its immediate subcategories."),(0,l.mdx)(u,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,l.mdx)("p",null,"You cannot return the entire category tree if the total number of nodes in the request exceeds the value specified in the ",(0,l.mdx)("inlineCode",{parentName:"p"},"queryDepth")," attribute defined in the GraphQL ",(0,l.mdx)("inlineCode",{parentName:"p"},"di.xml")," file. By default, this value is 20. ",(0,l.mdx)("a",{parentName:"p",href:"../../../usage/security-configuration.md"},"Query security")," further describes query depths."),(0,l.mdx)("p",null,"Use the ",(0,l.mdx)("inlineCode",{parentName:"p"},"breadcrumbs")," attribute to return information about the parent categories of the queried category."),(0,l.mdx)("h2",{id:"syntax"},"Syntax"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},"categoryList (\n   filters: CategoryFilterInput\n): CategoryTree\n")),(0,l.mdx)("h2",{id:"example-usage"},"Example usage"),(0,l.mdx)("h3",{id:"return-the-category-tree-of-a-top-level-category"},"Return the category tree of a top-level category"),(0,l.mdx)("p",null,"The following query returns information about category IDs ",(0,l.mdx)("inlineCode",{parentName:"p"},"12")," and ",(0,l.mdx)("inlineCode",{parentName:"p"},"21")," and two levels of subcategories. In the sample data, category IDs ",(0,l.mdx)("inlineCode",{parentName:"p"},"11")," and ",(0,l.mdx)("inlineCode",{parentName:"p"},"20")," are assigned to the ",(0,l.mdx)("inlineCode",{parentName:"p"},"Men")," and ",(0,l.mdx)("inlineCode",{parentName:"p"},"Women")," categories, respectively."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  categoryList(\n    filters: {\n      ids: {in: ["12", "21"]}\n      parent_id: {in: ["2"]}\n    }\n  ) {\n    children_count\n    children {\n      uid\n      level\n      name\n      path\n      url_path\n      url_key\n      children {\n        uid\n        level\n        name\n        path\n        url_path\n        url_key\n      }\n    }\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "categoryList": [\n      {\n        "children_count": "8",\n        "children": [\n          {\n            "uid": "MjM=",\n            "level": 3,\n            "name": "Bottoms",\n            "path": "1/2/21/23",\n            "url_path": "women/bottoms-women",\n            "url_key": "bottoms-women",\n            "children": [\n              {\n                "uid": "Mjg=",\n                "level": 4,\n                "name": "Pants",\n                "path": "1/2/21/23/28",\n                "url_path": "women/bottoms-women/pants-women",\n                "url_key": "pants-women"\n              },\n              {\n                "uid": "Mjk=",\n                "level": 4,\n                "name": "Shorts",\n                "path": "1/2/21/23/29",\n                "url_path": "women/bottoms-women/shorts-women",\n                "url_key": "shorts-women"\n              }\n            ]\n          },\n          {\n            "uid": "MjI=",\n            "level": 3,\n            "name": "Tops",\n            "path": "1/2/21/22",\n            "url_path": "women/tops-women",\n            "url_key": "tops-women",\n            "children": [\n              {\n                "uid": "MjQ=",\n                "level": 4,\n                "name": "Jackets",\n                "path": "1/2/21/22/24",\n                "url_path": "women/tops-women/jackets-women",\n                "url_key": "jackets-women"\n              },\n              {\n                "uid": "MjU=",\n                "level": 4,\n                "name": "Hoodies & Sweatshirts",\n                "path": "1/2/21/22/25",\n                "url_path": "women/tops-women/hoodies-and-sweatshirts-women",\n                "url_key": "hoodies-and-sweatshirts-women"\n              },\n              {\n                "uid": "MjY=",\n                "level": 4,\n                "name": "Tees",\n                "path": "1/2/21/22/26",\n                "url_path": "women/tops-women/tees-women",\n                "url_key": "tees-women"\n              },\n              {\n                "uid": "Mjc=",\n                "level": 4,\n                "name": "Bras & Tanks",\n                "path": "1/2/21/22/27",\n                "url_path": "women/tops-women/tanks-women",\n                "url_key": "tanks-women"\n              }\n            ]\n          }\n        ]\n      },\n      {\n        "children_count": "8",\n        "children": [\n          {\n            "uid": "MTQ=",\n            "level": 3,\n            "name": "Bottoms",\n            "path": "1/2/12/14",\n            "url_path": "men/bottoms-men",\n            "url_key": "bottoms-men",\n            "children": [\n              {\n                "uid": "MTk=",\n                "level": 4,\n                "name": "Pants",\n                "path": "1/2/12/14/19",\n                "url_path": "men/bottoms-men/pants-men",\n                "url_key": "pants-men"\n              },\n              {\n                "uid": "MjA=",\n                "level": 4,\n                "name": "Shorts",\n                "path": "1/2/12/14/20",\n                "url_path": "men/bottoms-men/shorts-men",\n                "url_key": "shorts-men"\n              }\n            ]\n          },\n          {\n            "uid": "MTM=",\n            "level": 3,\n            "name": "Tops",\n            "path": "1/2/12/13",\n            "url_path": "men/tops-men",\n            "url_key": "tops-men",\n            "children": [\n              {\n                "uid": "MTU=",\n                "level": 4,\n                "name": "Jackets",\n                "path": "1/2/12/13/15",\n                "url_path": "men/tops-men/jackets-men",\n                "url_key": "jackets-men"\n              },\n              {\n                "uid": "MTY=",\n                "level": 4,\n                "name": "Hoodies & Sweatshirts",\n                "path": "1/2/12/13/16",\n                "url_path": "men/tops-men/hoodies-and-sweatshirts-men",\n                "url_key": "hoodies-and-sweatshirts-men"\n              },\n              {\n                "uid": "MTc=",\n                "level": 4,\n                "name": "Tees",\n                "path": "1/2/12/13/17",\n                "url_path": "men/tops-men/tees-men",\n                "url_key": "tees-men"\n              },\n              {\n                "uid": "MTg=",\n                "level": 4,\n                "name": "Tanks",\n                "path": "1/2/12/13/18",\n                "url_path": "men/tops-men/tanks-men",\n                "url_key": "tanks-men"\n              }\n            ]\n          }\n        ]\n      }\n    ]\n  }\n}\n')),(0,l.mdx)("h3",{id:"return-breadcrumb-information"},"Return breadcrumb information"),(0,l.mdx)("p",null,"The following query returns breadcrumb information about categories that have the name ",(0,l.mdx)("inlineCode",{parentName:"p"},"Tops"),"."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  categoryList(filters: {name: {match: "Tops"}}) {\n    uid\n    level\n    name\n    breadcrumbs {\n      category_uid\n      category_name\n      category_level\n      category_url_key\n    }\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "categoryList": [\n      {\n        "uid": "MjI=",\n        "level": 3,\n        "name": "Tops",\n        "breadcrumbs": [\n          {\n            "category_uid": "MjE=",\n            "category_name": "Women",\n            "category_level": 2,\n            "category_url_key": "women"\n          }\n        ]\n      },\n      {\n        "uid": "MTM=",\n        "level": 3,\n        "name": "Tops",\n        "breadcrumbs": [\n          {\n            "category_uid": "MTI=",\n            "category_name": "Men",\n            "category_level": 2,\n            "category_url_key": "men"\n          }\n        ]\n      }\n    ]\n  }\n}\n')),(0,l.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,l.mdx)("p",null,"You must specify the ",(0,l.mdx)("inlineCode",{parentName:"p"},"filters")," attribute as input to your query."),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,l.mdx)("th",{parentName:"tr",align:null},"Data type"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"filters")),(0,l.mdx)("td",{parentName:"tr",align:null},"CategoryFilterInput"),(0,l.mdx)("td",{parentName:"tr",align:null},"Contains filter definitions")))),(0,l.mdx)("h3",{id:"categoryfilterinput-object"},"CategoryFilterInput object"),(0,l.mdx)(i.default,{mdxType:"CategoryFilterInput"}),(0,l.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,l.mdx)("p",null,"The query returns a ",(0,l.mdx)("inlineCode",{parentName:"p"},"CategoryTree")," object, which implements ",(0,l.mdx)("a",{parentName:"p",href:"category.md"},(0,l.mdx)("inlineCode",{parentName:"a"},"CategoryInterface")),". The ",(0,l.mdx)("inlineCode",{parentName:"p"},"CategoryTree")," object can contain the following attribute and all attributes defined in ",(0,l.mdx)("inlineCode",{parentName:"p"},"CategoryInterface"),":"),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,l.mdx)("th",{parentName:"tr",align:null},"Data type"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"children")),(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"CategoryTree")),(0,l.mdx)("td",{parentName:"tr",align:null},"An array containing the next level of subcategories. By default, you can specify up to 10 levels of child categories")))))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-products-queries-category-list-md-2867b793dff22c955b4f.js.map
"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[3783],{2753:function(t,e,n){n.r(e),n.d(e,{_frontmatter:function(){return s},default:function(){return N}});var a,d=n(87462),l=n(63366),o=(n(15007),n(64983)),r=n(91515),i=n(92971),m=n(53965),p=n(48556),u=["components"],s={},c=(a="InlineAlert",function(t){return console.warn("Component "+a+" was not imported, exported, or provided by MDXProvider as global scope"),(0,o.mdx)("div",t)}),x={_frontmatter:s},b=r.Z;function N(t){var e=t.components,n=(0,l.Z)(t,u);return(0,o.mdx)(b,(0,d.Z)({},x,n,{components:e,mdxType:"MDXLayout"}),(0,o.mdx)("h1",{id:"adddownloadableproductstocart-mutation"},"addDownloadableProductsToCart mutation"),(0,o.mdx)(c,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,o.mdx)("p",null,"We recommend using the ",(0,o.mdx)("a",{parentName:"p",href:"add-products.md"},"addProductsToCart mutation")," to add any type of product to the cart."),(0,o.mdx)("p",null,"A downloadable product can be anything that you can deliver as a file, such as an eBook, music, video, software application, or an update. To add a downloadable product to a cart, you must provide the cart ID, the SKU, and the quantity. In some cases, you must include the IDs for downloadable product links. You can also optionally specify customizable options."),(0,o.mdx)("h2",{id:"syntax"},"Syntax"),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-graphql"},"mutation: {\n    addDownloadableProductsToCart(\n        input: AddDownloadableProductsToCartInput\n    ): {\n        AddDownloadableProductsToCartOutput\n    }\n}\n")),(0,o.mdx)("h2",{id:"example-usage"},"Example usage"),(0,o.mdx)("p",null,"The following examples show how to add a downloadable product to a shopping cart , depending on whether the ",(0,o.mdx)("strong",{parentName:"p"},"Links can be purchased separately")," option is selected on the ",(0,o.mdx)("strong",{parentName:"p"},"Downloadable Information")," section of the product page."),(0,o.mdx)("h3",{id:"add-a-downloadable-product-to-a-cart-with-links-can-be-purchased-separately-enabled"},"Add a downloadable product to a cart with ",(0,o.mdx)("inlineCode",{parentName:"h3"},"Links can be purchased separately")," enabled"),(0,o.mdx)("p",null,"The following example shows how to add a downloadable product in which the ",(0,o.mdx)("strong",{parentName:"p"},"Links can be purchased separately")," option is enabled. The payload includes custom downloadable links ",(0,o.mdx)("inlineCode",{parentName:"p"},"Episode 2")," and ",(0,o.mdx)("inlineCode",{parentName:"p"},"Episode 3"),"."),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Request:")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation {\n  addDownloadableProductsToCart(\n    input: {\n      cart_id: "gMV2BFQuNGiQmTnepQlMGko7Xc4P3X1w"\n      cart_items: {\n        data: {\n          sku: "240-LV09"\n          quantity: 1\n        }\n        downloadable_product_links: [\n          {\n            link_id: 7                 # Episode 2\n          }\n          {\n            link_id: 8                 # Episode 3\n          }\n        ]\n      }\n    }\n  ) {\n    cart {\n      items {\n        product {\n          sku\n        }\n        quantity\n        ... on DownloadableCartItem {\n          links {\n            title\n            price\n          }\n          samples {\n            title\n            sample_url\n          }\n        }\n      }\n    }\n  }\n}\n')),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Response:")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-text"},'{\n  "data": {\n    "addDownloadableProductsToCart": {\n      "cart": {\n        "items": [\n          {\n            "product": {\n              "sku": "240-LV09"\n            },\n            "quantity": 1,\n            "links": [\n              {\n                "title": "Episode 2",\n                "price": 9\n              },\n              {\n                "title": "Episode 3",\n                "price": 9\n              }\n            ],\n            "samples": [\n              {\n                "title": "Trailer #1",\n                "sample_url": "https://<M2_INSTANCE>/downloadable/download/sample/sample_id/16/"\n              },\n              {\n                "title": "Trailer #2",\n                "sample_url": "https://<M2_INSTANCE>/downloadable/download/sample/sample_id/17/"\n              },\n              {\n                "title": "Trailer #3",\n                "sample_url": "https://<M2_INSTANCE>/downloadable/download/sample/sample_id/18/"\n              }\n            ]\n          }\n        ]\n      }\n    }\n  }\n}\n')),(0,o.mdx)("h3",{id:"add-a-downloadable-product-to-a-cart-with-disabled-links-can-be-purchased-separately"},"Add a downloadable product to a cart with disabled ",(0,o.mdx)("inlineCode",{parentName:"h3"},"Links can be purchased separately")),(0,o.mdx)("p",null,"The following example shows how to add a downloadable product in which the ",(0,o.mdx)("strong",{parentName:"p"},"Links can be purchased separately")," option is disabled. All downloadable links are added to the cart automatically."),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Request:")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation {\n  addDownloadableProductsToCart(\n    input: {\n      cart_id: "gMV2BFQuNGiQmTnepQlMGko7Xc4P3X1w"\n      cart_items: {\n        data: {\n          sku: "240-LV07"\n          quantity: 1\n        }\n      }\n    }\n  ) {\n    cart {\n      items {\n        product {\n          sku\n        }\n        quantity\n        ... on DownloadableCartItem {\n          links {\n            title\n            price\n          }\n          samples {\n            title\n            sample_url\n          }\n        }\n      }\n    }\n  }\n}\n')),(0,o.mdx)("p",null,(0,o.mdx)("strong",{parentName:"p"},"Response:")),(0,o.mdx)("pre",null,(0,o.mdx)("code",{parentName:"pre",className:"language-text"},'{\n  "data": {\n    "addDownloadableProductsToCart": {\n      "cart": {\n        "items": [\n          {\n            "product": {\n              "sku": "240-LV07"\n            },\n            "quantity": 2,\n            "links": [\n              {\n                "title": "Solo Power Circuit",\n                "price": 14\n              }\n            ],\n            "samples": [\n              {\n                "title": "Trailer #1",\n                "sample_url": "https://<M2_INSTANCE>/downloadable/download/sample/sample_id/10/"\n              },\n              {\n                "title": "Trailer #2",\n                "sample_url": "https://<M2_INSTANCE>/downloadable/download/sample/sample_id/11/"\n              },\n              {\n                "title": "Trailer #3",\n                "sample_url": "https://<M2_INSTANCE>/downloadable/download/sample/sample_id/12/"\n              }\n            ]\n          }\n        ]\n      }\n    }\n  }\n}\n')),(0,o.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,o.mdx)("p",null,"The top-level ",(0,o.mdx)("inlineCode",{parentName:"p"},"AddDownloadableProductsToCartInput")," object is listed first. All child objects are listed in alphabetical order."),(0,o.mdx)("h3",{id:"adddownloadableproductstocartinput-object"},"AddDownloadableProductsToCartInput object"),(0,o.mdx)("p",null,"The ",(0,o.mdx)("inlineCode",{parentName:"p"},"AddDownloadableProductsToCartInput")," object must contain the following attributes:"),(0,o.mdx)("table",null,(0,o.mdx)("thead",{parentName:"table"},(0,o.mdx)("tr",{parentName:"thead"},(0,o.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,o.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,o.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,o.mdx)("tbody",{parentName:"table"},(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},"cart_id")),(0,o.mdx)("td",{parentName:"tr",align:null},"String!"),(0,o.mdx)("td",{parentName:"tr",align:null},"The unique ID that identifies the customer's cart")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},"cart_items")),(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("a",{parentName:"td",href:"#downloadableproductcartiteminput-object"},"[DownloadableProductCartItemInput!]!")),(0,o.mdx)("td",{parentName:"tr",align:null},"Contains the cart item IDs and quantity of each item")))),(0,o.mdx)("h3",{id:"cartiteminput-object"},"CartItemInput object"),(0,o.mdx)("p",null,"The ",(0,o.mdx)("inlineCode",{parentName:"p"},"CartItemInput")," object must contain the following attributes:"),(0,o.mdx)(i.Z,{mdxType:"CartItemInput"}),(0,o.mdx)("h3",{id:"customizableoptioninput-object"},"CustomizableOptionInput object"),(0,o.mdx)("p",null,"The ",(0,o.mdx)("inlineCode",{parentName:"p"},"CustomizableOptionInput")," object can contain the following attributes:"),(0,o.mdx)(m.Z,{mdxType:"CustomizableOptionInput"}),(0,o.mdx)("h3",{id:"downloadableproductcartiteminput-object"},"DownloadableProductCartItemInput object"),(0,o.mdx)("p",null,"The ",(0,o.mdx)("inlineCode",{parentName:"p"},"DownloadableProductCartItemInput")," object can contain the following attribute:"),(0,o.mdx)("table",null,(0,o.mdx)("thead",{parentName:"table"},(0,o.mdx)("tr",{parentName:"thead"},(0,o.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,o.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,o.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,o.mdx)("tbody",{parentName:"table"},(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},"customizable_options")),(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("a",{parentName:"td",href:"#customizableoptioninput-object"},"[CustomizableOptionInput!]")),(0,o.mdx)("td",{parentName:"tr",align:null},"An array that defines customizable options for the product")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},"data")),(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("a",{parentName:"td",href:"#cartiteminput-object"},"CartItemInput!")),(0,o.mdx)("td",{parentName:"tr",align:null},"Required. An object containing the ",(0,o.mdx)("inlineCode",{parentName:"td"},"sku")," and ",(0,o.mdx)("inlineCode",{parentName:"td"},"quantity")," of the product")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},"downloadable_product_links")),(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("a",{parentName:"td",href:"#downloadableproductlinksinput-object"},"[DownloadableProductLinksInput!]")),(0,o.mdx)("td",{parentName:"tr",align:null},"An object containing the ",(0,o.mdx)("inlineCode",{parentName:"td"},"link_id")," of the downloadable product link")))),(0,o.mdx)("h3",{id:"downloadableproductlinksinput-object"},"DownloadableProductLinksInput object"),(0,o.mdx)("p",null,"If specified, the ",(0,o.mdx)("inlineCode",{parentName:"p"},"DownloadableProductLinksInput")," object must contain the following attribute."),(0,o.mdx)("table",null,(0,o.mdx)("thead",{parentName:"table"},(0,o.mdx)("tr",{parentName:"thead"},(0,o.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,o.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,o.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,o.mdx)("tbody",{parentName:"table"},(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},"link_id")),(0,o.mdx)("td",{parentName:"tr",align:null},"Int!"),(0,o.mdx)("td",{parentName:"tr",align:null},"A unique ID (",(0,o.mdx)("inlineCode",{parentName:"td"},"downloadable_link"),".",(0,o.mdx)("inlineCode",{parentName:"td"},"link_id"),") of the downloadable product link")))),(0,o.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,o.mdx)("p",null,"The ",(0,o.mdx)("inlineCode",{parentName:"p"},"AddDownloadableProductsToCartOutput")," object contains the ",(0,o.mdx)("inlineCode",{parentName:"p"},"Cart")," object."),(0,o.mdx)("table",null,(0,o.mdx)("thead",{parentName:"table"},(0,o.mdx)("tr",{parentName:"thead"},(0,o.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,o.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,o.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,o.mdx)("tbody",{parentName:"table"},(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},"cart")),(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("a",{parentName:"td",href:"#cart-object"},"Cart!")),(0,o.mdx)("td",{parentName:"tr",align:null},"Describes the contents of the specified shopping cart")))),(0,o.mdx)("h3",{id:"cart-object"},"Cart object"),(0,o.mdx)(p.Z,{mdxType:"CartObject"}),(0,o.mdx)("h2",{id:"errors"},"Errors"),(0,o.mdx)("table",null,(0,o.mdx)("thead",{parentName:"table"},(0,o.mdx)("tr",{parentName:"thead"},(0,o.mdx)("th",{parentName:"tr",align:null},"Error"),(0,o.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,o.mdx)("tbody",{parentName:"table"},(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},'Could not find a cart with ID "XXX"')),(0,o.mdx)("td",{parentName:"tr",align:null},"The specified ",(0,o.mdx)("inlineCode",{parentName:"td"},"cart_id")," value does not exist in the ",(0,o.mdx)("inlineCode",{parentName:"td"},"quote_id_mask")," database table.")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},'Could not find a product with SKU "YYY"')),(0,o.mdx)("td",{parentName:"tr",align:null},"A product with the SKU specified in the ",(0,o.mdx)("inlineCode",{parentName:"td"},"data"),".",(0,o.mdx)("inlineCode",{parentName:"td"},"sku")," argument does not exist.")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},'Required parameter "cart_id" is missing')),(0,o.mdx)("td",{parentName:"tr",align:null},"The mutation does not contain a ",(0,o.mdx)("inlineCode",{parentName:"td"},"cart_id")," argument.")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},'Required parameter "cart_items" is missing')),(0,o.mdx)("td",{parentName:"tr",align:null},"The ",(0,o.mdx)("inlineCode",{parentName:"td"},"cart_items")," argument is empty or is not of type ",(0,o.mdx)("inlineCode",{parentName:"td"},"array"),".")),(0,o.mdx)("tr",{parentName:"tbody"},(0,o.mdx)("td",{parentName:"tr",align:null},(0,o.mdx)("inlineCode",{parentName:"td"},"Please specify product link(s).")),(0,o.mdx)("td",{parentName:"tr",align:null},"You tried to add a downloadable product in which the ",(0,o.mdx)("inlineCode",{parentName:"td"},"Links can be purchased separately")," option is enabled, but you did not specify individual product links.")))))}N.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-cart-mutations-add-downloadable-products-md-09523d20cd05fb79b7a7.js.map
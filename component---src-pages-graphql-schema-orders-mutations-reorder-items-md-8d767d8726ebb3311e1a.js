"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[8408],{51548:function(e,t,r){r.r(t),r.d(t,{_frontmatter:function(){return i},default:function(){return s}});var a=r(87462),n=r(63366),d=(r(15007),r(64983)),m=r(91515),l=r(87380),o=["components"],i={},p={_frontmatter:i},u=m.Z;function s(e){var t=e.components,r=(0,n.Z)(e,o);return(0,d.mdx)(u,(0,a.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"reorderitems-mutation"},"reorderItems mutation"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"reorderItems")," mutation allows a logged-in user to add all the products from a previous order into their cart. The ",(0,d.mdx)("strong",{parentName:"p"},"Stores")," > Settings > ",(0,d.mdx)("strong",{parentName:"p"},"Sales")," > ",(0,d.mdx)("strong",{parentName:"p"},"Sales")," > ",(0,d.mdx)("strong",{parentName:"p"},"Reorder")," > ",(0,d.mdx)("strong",{parentName:"p"},"Allow Reorder")," field must be set to ",(0,d.mdx)("strong",{parentName:"p"},"Yes")," to enable reorders. You must provide a customer authorization token with the call."),(0,d.mdx)("p",null,"The mutation returns an error if it cannot add a product to the customer's cart:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Error code"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"INSUFFICIENT_STOCK"),(0,d.mdx)("td",{parentName:"tr",align:null},"The requested quantity is greater than the available stock.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"NOT_SALABLE"),(0,d.mdx)("td",{parentName:"tr",align:null},"The product is out of stock, disabled, or otherwise prevented from being sold.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"REORDER_NOT_AVAILABLE"),(0,d.mdx)("td",{parentName:"tr",align:null},"Reorders have been disabled.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"PRODUCT_NOT_FOUND"),(0,d.mdx)("td",{parentName:"tr",align:null},"The product has been deleted.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"UNDEFINED"),(0,d.mdx)("td",{parentName:"tr",align:null},"An unknown error occurred.")))),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"reorderItems")," mutation will not add any products to the cart if it encounters the REORDER_NOT_AVAILABLE error. For any other error code, the mutation will add the product to the cart, if possible, and it will continue adding other products, if applicable."),(0,d.mdx)("h2",{id:"syntax"},"Syntax"),(0,d.mdx)("p",null,(0,d.mdx)("inlineCode",{parentName:"p"},"mutation: {reorderItems(orderNumber: String!) {ReorderItemsOutput}}")),(0,d.mdx)("h2",{id:"example-usage"},"Example usage"),(0,d.mdx)("p",null,"In the following example, the customer previously created an order containing the following items:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Item Name"),(0,d.mdx)("th",{parentName:"tr",align:null},"SKU"),(0,d.mdx)("th",{parentName:"tr",align:null},"Quantity Ordered"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"Aeon Capri"),(0,d.mdx)("td",{parentName:"tr",align:null},"WP07-29-Black"),(0,d.mdx)("td",{parentName:"tr",align:null},"3")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"Dual Handle Cardio Ball"),(0,d.mdx)("td",{parentName:"tr",align:null},"24-UG07"),(0,d.mdx)("td",{parentName:"tr",align:null},"1")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"Elisa EverCool Tee"),(0,d.mdx)("td",{parentName:"tr",align:null},"WS06-S-Gray"),(0,d.mdx)("td",{parentName:"tr",align:null},"1")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"Sprite Foam Yoga Brick"),(0,d.mdx)("td",{parentName:"tr",align:null},"24-WG084"),(0,d.mdx)("td",{parentName:"tr",align:null},"1")))),(0,d.mdx)("p",null,"The customer wants to reorder these items, but the status of some of these items has changed:"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"Aeon Capri (WP07-29-Black) is in stock, but fewer than three items are available for sale."),(0,d.mdx)("li",{parentName:"ul"},"The Sprite Foam Yoga Brick (24-WG084) is out of stock.")),(0,d.mdx)("p",null,"These items will not be added to the cart."),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Request:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation{\n  reorderItems(orderNumber: "000000003"){\n    cart {\n      id\n      items {\n        uid\n        product {\n          sku\n        }\n        quantity\n        prices {\n          price {\n            value\n          }\n        }\n      }\n    }\n    userInputErrors{\n      code\n      message\n      path\n    }\n  }\n}\n')),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Response:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "reorderItems": {\n      "cart": {\n        "id": "LrMHhWHUaOqiBGC6S0KOcnYKsINUHTWz",\n        "items": [\n          {\n            "uid": "NDQ=",\n            "product": {\n              "sku": "24-UG07"\n            },\n            "quantity": 1,\n            "prices": {\n              "price": {\n                "value": 12\n              }\n            }\n          },\n          {\n            "uid": NDU=,\n            "product": {\n              "sku": "WS06"\n            },\n            "quantity": 1,\n            "prices": {\n              "price": {\n                "value": 29\n              }\n            }\n          }\n        ]\n      },\n      "userInputErrors": [\n        {\n          "code": "NOT_SALABLE",\n          "message": "Could not add the product with SKU \\"24-WG084\\" to the shopping cart: Product that you are trying to add is not available.",\n          "path": [\n            "orderNumber"\n          ]\n        },\n        {\n          "code": "INSUFFICIENT_STOCK",\n          "message": "Could not add the product with SKU \\"WP07-29-Black\\" to the shopping cart: The requested qty is not available",\n          "path": [\n            "orderNumber"\n          ]\n        }\n      ]\n    }\n  }\n}\n')),(0,d.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"reorderItems")," mutation requires a valid order number. The customer associated with the authorization token must match the customer who placed the specified order."),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"orderNumber")),(0,d.mdx)("td",{parentName:"tr",align:null},"String!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The ID of the order to be used as the source for reordering products")))),(0,d.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"ReorderItemsOutput")," object contains the following objects:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"cart")),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("a",{parentName:"td",href:"#cart-object"},"Cart!")),(0,d.mdx)("td",{parentName:"tr",align:null},"Describes the contents of the specified shopping cart")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"userInputErrors")),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("a",{parentName:"td",href:"#checkoutuserinputerror-object"},"CheckoutUserInputError!")),(0,d.mdx)("td",{parentName:"tr",align:null},"An array of reordering errors")))),(0,d.mdx)("h3",{id:"cart-object"},"Cart object"),(0,d.mdx)(l.default,{mdxType:"CartObject"}),(0,d.mdx)("p",null,(0,d.mdx)("a",{parentName:"p",href:"../../cart/queries/cart.md#output-attributes"},"Cart query output")," provides more information about the ",(0,d.mdx)("inlineCode",{parentName:"p"},"Cart")," object."),(0,d.mdx)("h3",{id:"userinputerrors-object"},"userInputErrors object"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"userInputErrors")," object contains an array of errors encountered while attempting to reorder products."),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"userInputErrors")),(0,d.mdx)("td",{parentName:"tr",align:null},"[CheckoutUserInputError]","!"),(0,d.mdx)("td",{parentName:"tr",align:null},"An array of reordering errors")))),(0,d.mdx)("h3",{id:"checkoutuserinputerror-object"},"CheckoutUserInputError object"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"message")),(0,d.mdx)("td",{parentName:"tr",align:null},"String!"),(0,d.mdx)("td",{parentName:"tr",align:null},"A localized error message")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"path")),(0,d.mdx)("td",{parentName:"tr",align:null},"[String]","!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The value for this mutation is ",(0,d.mdx)("inlineCode",{parentName:"td"},"orderNumber"))))),(0,d.mdx)("h2",{id:"related-topics"},"Related topics"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("a",{parentName:"li",href:"../../customer/queries/customer.md"},"customer")," query")))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-orders-mutations-reorder-items-md-8d767d8726ebb3311e1a.js.map
"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[8692],{28125:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return o},default:function(){return s}});var a,d=n(87462),l=n(63366),r=(n(15007),n(64983)),m=n(91515),i=["components"],o={},p=(a="CodeBlock",function(e){return console.warn("Component "+a+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.mdx)("div",e)}),u={_frontmatter:o},x=m.Z;function s(e){var t=e.components,n=(0,l.Z)(e,i);return(0,r.mdx)(x,(0,d.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"update-a-negotiable-quote"},"Update a negotiable quote"),(0,r.mdx)("p",null,"Sellers and buyers can edit a negotiable quote at various times during the quote's lifecycle. Both use the ",(0,r.mdx)("inlineCode",{parentName:"p"},"PUT /V1/negotiableQuote/:quoteId")," call to update the quote. This call is defined in the\n",(0,r.mdx)("inlineCode",{parentName:"p"},"quoteCartRepositoryV1")," service and is functionally similar to the\n",(0,r.mdx)("inlineCode",{parentName:"p"},"PUT /V1/carts/mine")," call."),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"quote")," object now contains a set of ",(0,r.mdx)("inlineCode",{parentName:"p"},"negotiable_quote")," extension attributes that can be used to update a quote."),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Name"),(0,r.mdx)("th",{parentName:"tr",align:null},"Description"),(0,r.mdx)("th",{parentName:"tr",align:null},"Format"),(0,r.mdx)("th",{parentName:"tr",align:null},"Requirements"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"quote_id")),(0,r.mdx)("td",{parentName:"tr",align:null},"Negotiable quote ID"),(0,r.mdx)("td",{parentName:"tr",align:null},"integer"),(0,r.mdx)("td",{parentName:"tr",align:null},"Required to create or update a negotiable quote")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"is_regular_quote")),(0,r.mdx)("td",{parentName:"tr",align:null},"Flag for the negotiable quote"),(0,r.mdx)("td",{parentName:"tr",align:null},"boolean"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"status")),(0,r.mdx)("td",{parentName:"tr",align:null},"One of ",(0,r.mdx)("inlineCode",{parentName:"td"},"created"),", ",(0,r.mdx)("inlineCode",{parentName:"td"},"submitted_by_customer"),", ",(0,r.mdx)("inlineCode",{parentName:"td"},"submitted_by_admin"),", ",(0,r.mdx)("inlineCode",{parentName:"td"},"processing_by_customer"),", ",(0,r.mdx)("inlineCode",{parentName:"td"},"processing_by_admin"),", ",(0,r.mdx)("inlineCode",{parentName:"td"},"ordered"),", ",(0,r.mdx)("inlineCode",{parentName:"td"},"expired"),", ",(0,r.mdx)("inlineCode",{parentName:"td"},"declined"),", ",(0,r.mdx)("inlineCode",{parentName:"td"},"closed")),(0,r.mdx)("td",{parentName:"tr",align:null},"string"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"negotiated_price_type")),(0,r.mdx)("td",{parentName:"tr",align:null},"1 - Percentage discount; 2 - Fixed price; 3 - proposed total"),(0,r.mdx)("td",{parentName:"tr",align:null},"integer"),(0,r.mdx)("td",{parentName:"tr",align:null},"Required to set a negotiated price")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"negotiated_price_value")),(0,r.mdx)("td",{parentName:"tr",align:null},"Discount amount defined by the seller"),(0,r.mdx)("td",{parentName:"tr",align:null},"number"),(0,r.mdx)("td",{parentName:"tr",align:null},"Required to set a negotiated price")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"shipping_price")),(0,r.mdx)("td",{parentName:"tr",align:null},"Custom price for shipping defined by the seller"),(0,r.mdx)("td",{parentName:"tr",align:null},"number"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"quote_name")),(0,r.mdx)("td",{parentName:"tr",align:null},"Name assigned to the negotiable quote"),(0,r.mdx)("td",{parentName:"tr",align:null},"string"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"expiration_period")),(0,r.mdx)("td",{parentName:"tr",align:null},"Expiration date for the quote. The format must be ",(0,r.mdx)("inlineCode",{parentName:"td"},"YYYY-MM-DD"),"."),(0,r.mdx)("td",{parentName:"tr",align:null},"string"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"email_notification_status")),(0,r.mdx)("td",{parentName:"tr",align:null},"Recent notifications that have been sent"),(0,r.mdx)("td",{parentName:"tr",align:null},"integer"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"has_unconfirmed_changes")),(0,r.mdx)("td",{parentName:"tr",align:null},"Indicates there are some changes that the Admin has not seen yet"),(0,r.mdx)("td",{parentName:"tr",align:null},"boolean"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"is_shipping_tax_changed")),(0,r.mdx)("td",{parentName:"tr",align:null},"Indicates whether shipping taxes have changed"),(0,r.mdx)("td",{parentName:"tr",align:null},"boolean"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"is_customer_price_changed")),(0,r.mdx)("td",{parentName:"tr",align:null},"Indicates whether the price for the product has changed"),(0,r.mdx)("td",{parentName:"tr",align:null},"boolean"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"notifications")),(0,r.mdx)("td",{parentName:"tr",align:null},"Binary mask where the current notifications are stored"),(0,r.mdx)("td",{parentName:"tr",align:null},"integer"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"applied_rule_ids")),(0,r.mdx)("td",{parentName:"tr",align:null},"Applied shopping cart rules"),(0,r.mdx)("td",{parentName:"tr",align:null},"string"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"is_address_draft")),(0,r.mdx)("td",{parentName:"tr",align:null},"Drop the address if the checkout is not completed."),(0,r.mdx)("td",{parentName:"tr",align:null},"boolean"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"deleted_sku")),(0,r.mdx)("td",{parentName:"tr",align:null},"The SKUs of any deleted products"),(0,r.mdx)("td",{parentName:"tr",align:null},"string"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"creator_id")),(0,r.mdx)("td",{parentName:"tr",align:null},"Quote creator ID"),(0,r.mdx)("td",{parentName:"tr",align:null},"integer"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"creator_type")),(0,r.mdx)("td",{parentName:"tr",align:null},"1 - Integration; 2 - Admin; 3 - Customer; 4 - Guest"),(0,r.mdx)("td",{parentName:"tr",align:null},"integer"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"original_total_price")),(0,r.mdx)("td",{parentName:"tr",align:null},"Original total price"),(0,r.mdx)("td",{parentName:"tr",align:null},"number"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"base_original_total_price")),(0,r.mdx)("td",{parentName:"tr",align:null},"Base original total price"),(0,r.mdx)("td",{parentName:"tr",align:null},"number"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"negotiated_total_price")),(0,r.mdx)("td",{parentName:"tr",align:null},"Negotiated total price"),(0,r.mdx)("td",{parentName:"tr",align:null},"number"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"base_negotiated_total_price")),(0,r.mdx)("td",{parentName:"tr",align:null},"Base negotiated total price"),(0,r.mdx)("td",{parentName:"tr",align:null},"number"),(0,r.mdx)("td",{parentName:"tr",align:null},"Optional")))),(0,r.mdx)("h3",{id:"set-a-negotiated-price"},"Set a negotiated price"),(0,r.mdx)("p",null,"In every successful negotiate quote, the seller must set the negotiated price."),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"negotiated_price_type")," can have one of the following values:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"1")," - Apply a percentage discount to the quote. The ",(0,r.mdx)("inlineCode",{parentName:"li"},"negotiated_price_value")," parameter indicates the percentage."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"2")," - Apply a fixed amount as a discount for the quote. The ",(0,r.mdx)("inlineCode",{parentName:"li"},"negotiated_price_value")," parameter specifies the amount of the discount."),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("inlineCode",{parentName:"li"},"3")," - Set a proposed price for the entire quote. The ",(0,r.mdx)("inlineCode",{parentName:"li"},"negotiated_price_value")," parameter specifies the proposed price.")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Service Name:")),(0,r.mdx)("p",null,(0,r.mdx)("inlineCode",{parentName:"p"},"quoteCartRepositoryV1")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Sample Usage:")),(0,r.mdx)("p",null,(0,r.mdx)("inlineCode",{parentName:"p"},"PUT <host>/rest/<store_code>/V1/negotiableQuote/6")),(0,r.mdx)(p,{slots:"heading, code",repeat:"1",languages:"JSON",mdxType:"CodeBlock"}),(0,r.mdx)("h4",{id:"payload"},"Payload"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "quote": {\n      "id": 6,\n      "extension_attributes": {\n        "negotiable_quote": {\n         "negotiated_price_type": 1,\n          "negotiated_price_value": 5\n        }\n      }\n    }\n}\n')),(0,r.mdx)("h3",{id:"add-a-new-quote-item-to-the-negotiable-quote"},"Add a new quote item to the negotiable quote"),(0,r.mdx)("p",null,"The buyer can add, update, or delete items from the quote under the following conditions:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"The quote is in one of the following system states: ",(0,r.mdx)("inlineCode",{parentName:"li"},"created"),", ",(0,r.mdx)("inlineCode",{parentName:"li"},"processing_by_admin"),", or ",(0,r.mdx)("inlineCode",{parentName:"li"},"submitted_by_customer"),"."),(0,r.mdx)("li",{parentName:"ul"},"The quote doesn't have a negotiated price.")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Sample Usage:")),(0,r.mdx)("p",null,(0,r.mdx)("inlineCode",{parentName:"p"},"POST <host>/rest/<store_code>/V1/carts/mine/items")),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Headers:")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-terminal"},"Content-Type application/json\nAuthorization Bearer <customer token>\n")),(0,r.mdx)(p,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,r.mdx)("h4",{id:"payload-1"},"Payload"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "cartItem": {\n    "sku": "24-MB01",\n    "qty": 1,\n    "quote_id": "7"\n  }\n}\n')),(0,r.mdx)("h4",{id:"response"},"Response"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "item_id": 18,\n    "sku": "24-MB01",\n    "qty": 1,\n    "name": "Joust Duffle Bag",\n    "price": 34,\n    "product_type": "simple",\n    "quote_id": "7",\n    "extension_attributes": {\n        "negotiable_quote_item": {\n            "item_id": 18,\n            "original_price": 34,\n            "original_tax_amount": 0,\n            "original_discount_amount": 0\n        }\n    }\n}\n')),(0,r.mdx)("h3",{id:"change-the-quote-expiration-date"},"Change the quote expiration date"),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Sample Usage:")),(0,r.mdx)("p",null,(0,r.mdx)("inlineCode",{parentName:"p"},"PUT <host>/rest/<store_code>/V1/negotiableQuote/6")),(0,r.mdx)(p,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,r.mdx)("h4",{id:"payload-2"},"Payload"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "quote": {\n      "id": 6,\n      "extension_attributes": {\n        "negotiable_quote": {\n         "expiration_period": "2017-09-30"\n        }\n      }\n    }\n}\n')),(0,r.mdx)("h4",{id:"response-1"},"Response"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},"// an empty array\n")))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-rest-b-2-b-negotiable-update-md-14580ae0c2500445adef.js.map
"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[8657],{63614:function(t,e,a){a.r(e),a.d(e,{_frontmatter:function(){return c},default:function(){return N}});var n,r=a(87462),d=a(63366),m=(a(15007),a(64983)),i=a(91515),o=a(3015),l=a(54368),u=a(54413),p=["components"],c={},s=(n="InlineAlert",function(t){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,m.mdx)("div",t)}),x={_frontmatter:c},h=i.Z;function N(t){var e=t.components,a=(0,d.Z)(t,p);return(0,m.mdx)(h,(0,r.Z)({},x,a,{components:e,mdxType:"MDXLayout"}),(0,m.mdx)("h1",{id:"addvirtualproductstocart-mutation"},"addVirtualProductsToCart mutation"),(0,m.mdx)(s,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"We recommend using the ",(0,m.mdx)("a",{parentName:"p",href:"add-products.md"},"addProductsToCart mutation")," to add any type of product to the cart."),(0,m.mdx)("p",null,"A virtual product represents a saleable item that is not physical, such as a membership, service, warranty, or subscription. Virtual products do not need to be shipped or downloaded, nor do they require stock management."),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"addVirtualProductsToCart")," mutation allows you to add multiple virtual products to the cart at the same time, but you cannot add other product types with this mutation. To add a virtual product to a cart, you must provide the cart ID, the SKU, and the quantity. You can also optionally provide customizable options."),(0,m.mdx)("h2",{id:"syntax"},"Syntax"),(0,m.mdx)("p",null,(0,m.mdx)("inlineCode",{parentName:"p"},"mutation: {addVirtualProductsToCart(input: AddVirtualProductsToCartInput): {AddVirtualProductsToCartOutput}}")),(0,m.mdx)("h2",{id:"example-usage"},"Example usage"),(0,m.mdx)("p",null,"The Luma sample data does not include any virtual products. The following example requires that you create a virtual product with the ",(0,m.mdx)("inlineCode",{parentName:"p"},"sku")," value of ",(0,m.mdx)("inlineCode",{parentName:"p"},"Membership-Gold")," with a price of $49.99."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Request:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-text"},'\nmutation {\n  addVirtualProductsToCart(\n    input: {\n      cart_id: "IeTUiU0oCXjm0uRqGCOuhQ2AuQatogjG",\n      cart_items: [\n        {\n          data: {\n            quantity: 1\n            sku: "Membership-Gold"\n          }\n        }\n       ]\n    }\n  ) {\n    cart {\n      items {\n        product {\n          name\n        }\n        quantity\n      }\n      prices {\n        grand_total {\n          value\n          currency\n        }\n      }\n    }\n  }\n}\n')),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Response:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "addVirtualProductsToCart": {\n      "cart": {\n        "items": [\n          {\n            "product": {\n              "name": "Gold Membership"\n            },\n            "quantity": 1\n          }\n        ],\n        "prices": {\n          "grand_total": {\n            "value": 49.99,\n            "currency": "USD"\n          }\n        }\n      }\n    }\n  }\n}\n')),(0,m.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,m.mdx)("p",null,"The top-level ",(0,m.mdx)("inlineCode",{parentName:"p"},"AddVirtualProductsToCartInput")," object is listed first. All child objects are listed in alphabetical order."),(0,m.mdx)("h3",{id:"addvirtualproductstocartinput-object"},"AddVirtualProductsToCartInput object"),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"AddVirtualProductsToCartInput")," object must contain the following attributes:"),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,m.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"cart_id")),(0,m.mdx)("td",{parentName:"tr",align:null},"String!"),(0,m.mdx)("td",{parentName:"tr",align:null},"The unique ID that identifies the customer's cart")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"cart_items")),(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("a",{parentName:"td",href:"#virtualproductcartiteminput-object"},"VirtualProductCartItemInput!")),(0,m.mdx)("td",{parentName:"tr",align:null},"Contains the cart item IDs and quantity of each item")))),(0,m.mdx)("h3",{id:"cartiteminput-object"},"CartItemInput object"),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"CartItemInput")," object must contain the following attributes:"),(0,m.mdx)(o.default,{mdxType:"CartItemInput"}),(0,m.mdx)("h3",{id:"customizableoptioninput-object"},"CustomizableOptionInput object"),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"CustomizableOptionInput")," object can contain the following attributes:"),(0,m.mdx)(l.default,{mdxType:"CustomizableOptionInput"}),(0,m.mdx)("h3",{id:"virtualproductcartiteminput-object"},"VirtualProductCartItemInput object"),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"VirtualProductCartItemInput")," object must contain the following attributes:"),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,m.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"customizable_options")),(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("a",{parentName:"td",href:"#customizableoptioninput-object"},"[CustomizableOptionInput]")),(0,m.mdx)("td",{parentName:"tr",align:null},"An array that defines customizable options for the product")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"data")),(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("a",{parentName:"td",href:"#cartiteminput-object"},"CartItemInput!")),(0,m.mdx)("td",{parentName:"tr",align:null},"An object containing the ",(0,m.mdx)("inlineCode",{parentName:"td"},"sku")," and ",(0,m.mdx)("inlineCode",{parentName:"td"},"quantity")," of the product")))),(0,m.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"AddVirtualProductsToCartOutput")," object contains the ",(0,m.mdx)("inlineCode",{parentName:"p"},"Cart")," object."),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,m.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"cart")),(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("a",{parentName:"td",href:"#cart-object"},"Cart!")),(0,m.mdx)("td",{parentName:"tr",align:null},"Describes the contents of the specified shopping cart")))),(0,m.mdx)("h3",{id:"cart-object"},"Cart object"),(0,m.mdx)(u.default,{mdxType:"CartObject"}),(0,m.mdx)("p",null,(0,m.mdx)("a",{parentName:"p",href:"../../cart/queries/cart.md#output-attributes"},"Cart query output")," provides more information about the ",(0,m.mdx)("inlineCode",{parentName:"p"},"Cart")," object."),(0,m.mdx)("h2",{id:"errors"},"Errors"),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Error"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},'Could not find a cart with ID "XXX"')),(0,m.mdx)("td",{parentName:"tr",align:null},"The specified ",(0,m.mdx)("inlineCode",{parentName:"td"},"cart_id")," value does not exist in the ",(0,m.mdx)("inlineCode",{parentName:"td"},"quote_id_mask")," table.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},'Could not find a product with SKU "YYY"')),(0,m.mdx)("td",{parentName:"tr",align:null},"A virtual product with the SKU specified in the ",(0,m.mdx)("inlineCode",{parentName:"td"},"data"),".",(0,m.mdx)("inlineCode",{parentName:"td"},"sku")," argument does not exist.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},'Required parameter "cart_id" is missing')),(0,m.mdx)("td",{parentName:"tr",align:null},"The ",(0,m.mdx)("inlineCode",{parentName:"td"},"cart_id")," argument was omitted or contains an empty value.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},'Required parameter "cart_items" is missing')),(0,m.mdx)("td",{parentName:"tr",align:null},"The ",(0,m.mdx)("inlineCode",{parentName:"td"},"cart_items")," argument was omitted or contains an empty value.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"The current user cannot perform operations on cart XXX")),(0,m.mdx)("td",{parentName:"tr",align:null},"An unauthorized user (guest) tried to add the product into a customer's cart, or an authorized user (customer) tried to add the product into the cart of another customer.")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"The product's required option(s) weren't entered. Make sure the options are entered and try again.")),(0,m.mdx)("td",{parentName:"tr",align:null},"A virtual product has customizable options that were not specified in the mutation, but are required for adding the product into the cart.")))))}N.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-cart-mutations-add-virtual-products-md-3d00c928a5953bc977f9.js.map
{"version":3,"file":"component---src-pages-graphql-payment-services-checkout-md-9e267f864afd26dd2a14.js","mappings":"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","sources":["webpack://commerce-webapi/./src/pages/graphql/payment-services/checkout.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/commerce-webapi/commerce-webapi/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"payment-services-during-a-checkout-authorization\"\n    }}>{`Payment services during a checkout authorization`}</h1>\n    <p><a parentName=\"p\" {...{\n        \"href\": \"https://experienceleague.adobe.com/docs/commerce-merchant-services/payment-services/guide-overview.html\"\n      }}>{`Payment Services for Adobe Commerce and Magento Open Source`}</a>{` is your turnkey self-service solution, including sandbox testing and a simple setup, for providing robust and secure payment processing for your Commerce websites.`}</p>\n    <p>{`These steps describe the flow of requests and responses required to complete a typical `}<a parentName=\"p\" {...{\n        \"href\": \"../tutorials/checkout/index.md\"\n      }}>{`checkout`}</a>{` authorization with Payment Services enabled.`}</p>\n    <h2 {...{\n      \"id\": \"checkout-workflow\"\n    }}>{`Checkout workflow`}</h2>\n    <p><img parentName=\"p\" {...{\n        \"src\": \"/commerce-webapi/assets/59d73cf8fa314dcefdaafdb58f0a96a5/payment-services.svg\",\n        \"alt\": \"Payment Services sequence diagram\"\n      }}></img></p>\n    <ol>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run the `}<a parentName=\"p\" {...{\n            \"href\": \"../schema/checkout/queries/get-payment-config.md\"\n          }}><inlineCode parentName=\"a\">{`getPaymentConfig`}</inlineCode></a>{` query to fetch the payment configuration needed to render details about PayPal components, such as hosted fields, smart buttons, and Apple Pay.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Commerce returns payment configuration information.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run `}<a parentName=\"p\" {...{\n            \"href\": \"../schema/cart/mutations/set-payment-method.md\"\n          }}><inlineCode parentName=\"a\">{`setPaymentMethodOnCart`}</inlineCode></a>{` to `}<a parentName=\"p\" {...{\n            \"href\": \"../tutorials/checkout/set-payment-method.md\"\n          }}>{`set the payment method`}</a>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Adobe Commerce returns a `}<inlineCode parentName=\"p\">{`Cart`}</inlineCode>{` object.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run `}<a parentName=\"p\" {...{\n            \"href\": \"../schema/checkout/mutations/create-payment-order.md\"\n          }}><inlineCode parentName=\"a\">{`createPaymentOrder`}</inlineCode></a>{` to begin the authorization process.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Commerce forwards the request to PayPal.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`PayPal returns an `}<inlineCode parentName=\"p\">{`id`}</inlineCode>{` value.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Adobe Commerce generates a `}<inlineCode parentName=\"p\">{`order_id`}</inlineCode>{` and forwards the value in the `}<inlineCode parentName=\"p\">{`mp_order_id`}</inlineCode>{` field and the PayPal response in the `}<inlineCode parentName=\"p\">{`id`}</inlineCode>{` field.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`(Optional) If hosted fields and the Signifyd integration are enabled, run `}<a parentName=\"p\" {...{\n            \"href\": \"../schema/checkout/queries/get-payment-order.md\"\n          }}><inlineCode parentName=\"a\">{`getPaymentOrder`}</inlineCode></a>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`(Optional) Adobe Commerce returns details about the payment order.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Run `}<a parentName=\"p\" {...{\n            \"href\": \"../schema/cart/mutations/place-order.md\"\n          }}><inlineCode parentName=\"a\">{`placeOrder`}</inlineCode></a>{`.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Commerce sends an authorization request to PayPal.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`PayPal returns the result to Commerce.`}</p>\n      </li>\n      <li parentName=\"ol\">\n        <p parentName=\"li\">{`Commerce creates an order.`}</p>\n      </li>\n    </ol>\n    <h2 {...{\n      \"id\": \"setpaymentmethodoncartinput-object\"\n    }}><inlineCode parentName=\"h2\">{`setPaymentMethodOnCartInput`}</inlineCode>{` object`}</h2>\n    <p>{`For the PayPal Smart Buttons and Apple Pay payment methods, you do not need to run the `}<a parentName=\"p\" {...{\n        \"href\": \"../schema/cart/mutations/set-payment-method.md\"\n      }}><inlineCode parentName=\"a\">{`setPaymentMethodOnCart`}</inlineCode></a>{` mutation. The hosted fields payment method requires that you run the mutation only if one of the following conditions are true:`}</p>\n    <ul>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`You intend to vault a card by setting `}<inlineCode parentName=\"p\">{`is_active_payment_token_enabler`}</inlineCode>{` to `}<inlineCode parentName=\"p\">{`true`}</inlineCode>{`.`}</p>\n      </li>\n      <li parentName=\"ul\">\n        <p parentName=\"li\">{`You have a stored payment method checkout where you intend to use a stored card by setting a `}<inlineCode parentName=\"p\">{`public_hash`}</inlineCode>{` value.`}</p>\n      </li>\n    </ul>\n    <p>{`In these cases, the payment_method object must contain a `}<inlineCode parentName=\"p\">{`payment_services_paypal_hosted_fields`}</inlineCode>{` object.`}</p>\n    <h3 {...{\n      \"id\": \"payment_services_paypal_hosted_fields-object\"\n    }}><inlineCode parentName=\"h3\">{`payment_services_paypal_hosted_fields`}</inlineCode>{` object`}</h3>\n    <p>{`The `}<inlineCode parentName=\"p\">{`payment_services_paypal_hosted_fields`}</inlineCode>{` can contain the following attributes:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Attribute`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Data Type`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`cardBin`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Card bin number`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`cardExpiryMonth`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Expiration month of the card`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`cardExpiryYear`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Expiration year of the card`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`cardLast4`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Last four digits of the card`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`holderName`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Name on card`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`is_active_payment_token_enabler`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Boolean`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Indicates whether a customer-entered credit/debit card should be tokenized for later usage. The default value is false. Required only if vaulting is enabled for Payment Services payment integration`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`payments_order_id`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The unique order ID generated in Commerce if Payment Services is enabled after PayPal returns the `}<inlineCode parentName=\"td\">{`paypal_order_id`}</inlineCode></td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`paypal_order_id`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The unique order ID generated by PayPal when receiving the authorization request`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`payment_source`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`String`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`The payment source for the payment method`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h3 {...{\n      \"id\": \"setpaymentmethodoncart-mutation-example\"\n    }}><inlineCode parentName=\"h3\">{`setPaymentMethodOnCart`}</inlineCode>{` mutation example`}</h3>\n    <p>{`The following example shows the `}<inlineCode parentName=\"p\">{`setPaymentMethodOnCart`}</inlineCode>{` mutation constructed for the PayPal Hosted Fields payment method.`}</p>\n    <p><strong parentName=\"p\">{`Request:`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-graphql\"\n      }}>{`mutation {\n    setPaymentMethodOnCart ( input: {\n      cart_id: \"uocGxUi5H97XFAMhY3s66q4aFYG3Bmdr\",\n      payment_method: {\n        code: \"payment_services_paypal_hosted_fields\",\n        payment_services_paypal_hosted_fields: {\n          payment_source: \"cc\",\n          payments_order_id: \"mp-order-a4babd34-13d3-4ac0-b1b0-109bb7be1574\",\n          paypal_order_id: \"9R90936863877801D\",\n          is_active_payment_token_enabler: true\n        }\n      }\n    }\n    ) {\n       cart {\n         id\n         selected_payment_method {\n           code\n         }\n       }\n    }\n  } \n`}</code></pre>\n    <p><strong parentName=\"p\">{`Response:`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n  \"data\": {\n    \"setPaymentMethodOnCart\": {\n      \"cart\": {\n        \"id\": \"r8TKHa58b7Y8VaZHLyABNxrEdS8hJJTZ\",\n        \"selected_payment_method\": {\n          \"code\": \"payment_services_paypal_hosted_fields\"\n        }\n      }\n    }\n  }\n}\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}
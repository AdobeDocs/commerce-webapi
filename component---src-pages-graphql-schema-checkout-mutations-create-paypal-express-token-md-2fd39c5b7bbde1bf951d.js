"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[7390],{44647:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return p},default:function(){return x}});var n,r=a(87462),l=a(63366),d=(a(15007),a(64983)),m=a(91515),i=["components"],p={},o=(n="InlineAlert",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,d.mdx)("div",e)}),s={_frontmatter:p},u=m.Z;function x(e){var t=e.components,a=(0,l.Z)(e,i);return(0,d.mdx)(u,(0,r.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"createpaypalexpresstoken-mutation"},"createPaypalExpressToken mutation"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"createPaypalExpressToken")," mutation begins the authorization process for the following payment methods:"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"PayPal Express Checkout"),(0,d.mdx)("li",{parentName:"ul"},"PayPal Payflow Pro with Express Checkout"),(0,d.mdx)("li",{parentName:"ul"},"PayPal Payflow Link with Express Checkout")),(0,d.mdx)("p",null,"The input includes the cart ID, the payment method code, and a set of URLs that PayPal uses to respond to the token request. If the request is successful, PayPal returns a token. The ",(0,d.mdx)("a",{parentName:"p",href:"../../cart/mutations/set-payment-method.md"},(0,d.mdx)("inlineCode",{parentName:"a"},"setPaymentMethodOnCart"))," mutation uses this token later in the authorization process."),(0,d.mdx)("h2",{id:"syntax"},"Syntax"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},"mutation {\n  createPaypalExpressToken(\n    input: PaypalExpressTokenInput!\n  ) {\n    PaypalExpressTokenOutput\n  }\n}\n")),(0,d.mdx)("h2",{id:"example-usage"},"Example usage"),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Request:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation {\n  createPaypalExpressToken(\n    input: {\n      cart_id: "rMQdWEecBZr4SVWZwj2AF6y0dNCKQ8uH"\n      code: "paypal_express"\n      express_button: true\n      urls: {\n        return_url: "paypal/action/return.html"\n        cancel_url: "paypal/action/cancel.html"\n      }\n    }\n  ) {\n    token\n    paypal_urls {\n      start\n      edit\n    }\n  }\n}\n')),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Response:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "createPaypalExpressToken": {\n      "token": "<PayPal_Token>",\n      "paypal_urls": {\n        "start": "https://www.sandbox.paypal.com/checkoutnow?token=<PayPal_Token>",\n        "edit": "https://www.sandbox.paypal.com/cgi-bin/webscr?cmd=_express-checkout&useraction=continue&token=<PayPal_Token>"\n      }\n    }\n  }\n}\n')),(0,d.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,d.mdx)("h3",{id:"paypalexpresstokeninput"},"PaypalExpressTokenInput"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"PaypalExpressTokenInput")," object defines the attributes required to receive a payment token from PayPal."),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"cart_id")),(0,d.mdx)("td",{parentName:"tr",align:null},"String!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The unique ID that identifies the customer's cart")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"code")),(0,d.mdx)("td",{parentName:"tr",align:null},"String!"),(0,d.mdx)("td",{parentName:"tr",align:null},"Payment method code")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"express_button")),(0,d.mdx)("td",{parentName:"tr",align:null},"Boolean"),(0,d.mdx)("td",{parentName:"tr",align:null},"Indicates whether the buyer selected the PayPal Express Checkout button. The default value is ",(0,d.mdx)("inlineCode",{parentName:"td"},"false"))),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"urls")),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("a",{parentName:"td",href:"#PaypalExpressUrlsInput"},(0,d.mdx)("inlineCode",{parentName:"a"},"PaypalExpressUrlsInput!"))),(0,d.mdx)("td",{parentName:"tr",align:null},"A set of relative URLs that PayPal will use in response to various actions during the authorization process.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"use_paypal_credit")),(0,d.mdx)("td",{parentName:"tr",align:null},"Boolean"),(0,d.mdx)("td",{parentName:"tr",align:null},"Indicates whether the buyer clicked the PayPal credit button. The default value is ",(0,d.mdx)("inlineCode",{parentName:"td"},"false"))))),(0,d.mdx)("h3",{id:"paypalexpressurlsinput"},"PaypalExpressUrlsInput"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"PaypalExpressUrlsInput")," object contains a set of relative URLs that PayPal will use in response to various actions during the authorization process. The application prepends the base URL to this value to create a full URL. For example, if the full URL is ",(0,d.mdx)("inlineCode",{parentName:"p"},"https://www.example.com/path/to/page.html"),", the relative URL is ",(0,d.mdx)("inlineCode",{parentName:"p"},"path/to/page.html"),". Use this input for Express Checkout and Payments Standard payment methods."),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"cancel_url")),(0,d.mdx)("td",{parentName:"tr",align:null},"String!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The relative URL of the page that PayPal will redirect to when the buyer cancels the transaction in order to choose a different payment method. If the full URL to this page is ",(0,d.mdx)("inlineCode",{parentName:"td"},"https://www.example.com/paypal/action/cancel.html"),", the relative URL is ",(0,d.mdx)("inlineCode",{parentName:"td"},"paypal/action/cancel.html"),".")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"pending_url")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The relative URL of the page that PayPal will redirect to when the payment has been put on hold for additional review. This condition mostly applies to ACH transactions, and is not applicable to most PayPal solutions. If the full URL to this page is ",(0,d.mdx)("inlineCode",{parentName:"td"},"https://www.example.com/paypal/action/success_pending.html"),", the relative URL is ",(0,d.mdx)("inlineCode",{parentName:"td"},"paypal/action/success_pending.html"),".")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"return_url")),(0,d.mdx)("td",{parentName:"tr",align:null},"String!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The relative URL of the final confirmation page that PayPal will redirect to upon payment success. If the full URL is ",(0,d.mdx)("inlineCode",{parentName:"td"},"https://www.example.com/paypal/action/success_review.html"),", the relative URL is ",(0,d.mdx)("inlineCode",{parentName:"td"},"paypal/action/success_review.html"),".")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"success_url")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The relative URL of the order confirmation page that PayPal will redirect to when the payment is successful and additional confirmation is not needed. Not applicable to most PayPal solutions. If the full URL to this page is ",(0,d.mdx)("inlineCode",{parentName:"td"},"https://www.example.com/paypal/action/success.html"),", the relative URL is ",(0,d.mdx)("inlineCode",{parentName:"td"},"paypal/action/success.html"),".")))),(0,d.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,d.mdx)(o,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"createPaypalExpressToken")," mutation previously returned a ",(0,d.mdx)("inlineCode",{parentName:"p"},"PaypalExpressToken")," object, which has been deprecated. The mutation now returns a ",(0,d.mdx)("inlineCode",{parentName:"p"},"PaypalExpressTokenOutput")," object. The contents of these objects are identical."),(0,d.mdx)("h3",{id:"paypalexpresstokenoutput"},"PaypalExpressTokenOutput"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"PaypalExpressToken")," object contains a token returned by PayPal and a set of URLs that allow the buyer to authorize payment and adjust checkout details."),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"paypal_urls")),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("a",{parentName:"td",href:"#PaypalExpressUrlList"},"PaypalExpressUrlList")),(0,d.mdx)("td",{parentName:"tr",align:null},"A set of URLs that allow the buyer to authorize payment and adjust checkout details")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"token")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The token returned by PayPal")))),(0,d.mdx)("h3",{id:"paypalexpressurllist"},"PaypalExpressUrlList"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"PaypalExpressUrlList")," object defines a set of URLs that allow the buyer to authorize payment and adjust checkout details."),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"edit")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The PayPal URL that allows the buyer to edit their checkout details")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"start")),(0,d.mdx)("td",{parentName:"tr",align:null},"String"),(0,d.mdx)("td",{parentName:"tr",align:null},"The URL to the PayPal login page")))),(0,d.mdx)("h2",{id:"errors"},"Errors"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Error"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},'Required parameter "cart_id" is missing')),(0,d.mdx)("td",{parentName:"tr",align:null},"The mutation does not contain a ",(0,d.mdx)("inlineCode",{parentName:"td"},"cart_id")," argument.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},'Could not find a cart with ID "XXX"')),(0,d.mdx)("td",{parentName:"tr",align:null},"The specified ",(0,d.mdx)("inlineCode",{parentName:"td"},"cart_id")," value does not exist in the ",(0,d.mdx)("inlineCode",{parentName:"td"},"quote_id_mask")," table.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"Field PaypalExpressTokenInput.code of required type String! was not provided.")),(0,d.mdx)("td",{parentName:"tr",align:null},"The required attribute ",(0,d.mdx)("inlineCode",{parentName:"td"},"code")," is missing.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"The requested Payment Method is not available.")),(0,d.mdx)("td",{parentName:"tr",align:null},"The payment method is not configured.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"Field PaypalExpressUrlsInput.cancel_url of required type String! was not provided.")),(0,d.mdx)("td",{parentName:"tr",align:null},"The required attribute ",(0,d.mdx)("inlineCode",{parentName:"td"},"cancel_url")," is missing.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"Field PaypalExpressUrlsInput.return_url of required type String! was not provided.")),(0,d.mdx)("td",{parentName:"tr",align:null},"The required attribute ",(0,d.mdx)("inlineCode",{parentName:"td"},"return_url")," is missing.")))))}x.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-checkout-mutations-create-paypal-express-token-md-2fd39c5b7bbde1bf951d.js.map
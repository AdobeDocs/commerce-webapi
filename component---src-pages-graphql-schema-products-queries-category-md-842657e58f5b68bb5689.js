"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[5935],{38969:function(e,n,a){a.r(n),a.d(n,{_frontmatter:function(){return m},default:function(){return u}});var t=a(58168),r=a(80045),d=(a(88763),a(15680)),o=a(83407);const l=["components"],m={},i=(p="InlineAlert",function(e){return console.warn("Component "+p+" was not imported, exported, or provided by MDXProvider as global scope"),(0,d.mdx)("div",e)});var p;const c={_frontmatter:m},s=o.A;function u(e){let{components:n}=e,a=(0,r.A)(e,l);return(0,d.mdx)(s,(0,t.A)({},c,a,{components:n,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"category-query"},"category query"),(0,d.mdx)(i,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"category")," query has been deprecated. Use the ",(0,d.mdx)("a",{parentName:"p",href:"categories.md"},"categories")," query instead."),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"category")," query allows you to search for a single category definition or the entire category tree."),(0,d.mdx)(i,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,d.mdx)("p",null,"You cannot return the entire category tree if the total number of nodes in the request exceeds the value specified in the ",(0,d.mdx)("inlineCode",{parentName:"p"},"queryDepth")," attribute defined in the GraphQL ",(0,d.mdx)("inlineCode",{parentName:"p"},"di.xml")," file. By default, this value is 20. ",(0,d.mdx)("a",{parentName:"p",href:"../../../usage/security-configuration.md"},"Query security")," further describes query depths."),(0,d.mdx)("h2",{id:"syntax"},"Syntax"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},"category (\n  id: int\n): CategoryTree\n")),(0,d.mdx)("h2",{id:"reference"},"Reference"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-category"},(0,d.mdx)("inlineCode",{parentName:"a"},"category"))," reference provides detailed information about the types and fields defined in this query."),(0,d.mdx)("h2",{id:"example-usage"},"Example usage"),(0,d.mdx)("h3",{id:"return-the-category-tree-of-a-top-level-category"},"Return the category tree of a top-level category"),(0,d.mdx)("p",null,"The following query returns information about category ID ",(0,d.mdx)("inlineCode",{parentName:"p"},"20")," and four levels of subcategories. In the sample data, category ID ",(0,d.mdx)("inlineCode",{parentName:"p"},"20")," is assigned to the ",(0,d.mdx)("inlineCode",{parentName:"p"},"Women")," category."),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Request:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},"{\n  category(id: 20) {\n    products {\n      total_count\n      page_info {\n        current_page\n        page_size\n      }\n    }\n    children_count\n    children {\n      id\n      level\n      name\n      path\n      children {\n        id\n        level\n        name\n        path\n        children {\n          id\n          level\n          name\n          path\n          children {\n            id\n            level\n            name\n            path\n          }\n        }\n      }\n    }\n  }\n}\n")),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Response:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "category": {\n      "products": {\n        "total_count": 0,\n        "page_info": {\n          "current_page": 1,\n          "page_size": 20\n        }\n      },\n      "children_count": "8",\n      "children": [\n        {\n          "id": 22,\n          "level": 3,\n          "name": "Bottoms",\n          "path": "1/2/20/22",\n          "children": [\n            {\n              "id": 27,\n              "level": 4,\n              "name": "Pants",\n              "path": "1/2/20/22/27",\n              "children": []\n            },\n            {\n              "id": 28,\n              "level": 4,\n              "name": "Shorts",\n              "path": "1/2/20/22/28",\n              "children": []\n            }\n          ]\n        },\n        {\n          "id": 21,\n          "level": 3,\n          "name": "Tops",\n          "path": "1/2/20/21",\n          "children": [\n            {\n              "id": 23,\n              "level": 4,\n              "name": "Jackets",\n              "path": "1/2/20/21/23",\n              "children": []\n            },\n            {\n              "id": 24,\n              "level": 4,\n              "name": "Hoodies & Sweatshirts",\n              "path": "1/2/20/21/24",\n              "children": []\n            },\n            {\n              "id": 25,\n              "level": 4,\n              "name": "Tees",\n              "path": "1/2/20/21/25",\n              "children": []\n            },\n            {\n              "id": 26,\n              "level": 4,\n              "name": "Bras & Tanks",\n              "path": "1/2/20/21/26",\n              "children": []\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n')),(0,d.mdx)("h3",{id:"return-breadcrumb-information"},"Return breadcrumb information"),(0,d.mdx)("p",null,"The following query returns breadcrumb information about the women's ",(0,d.mdx)("inlineCode",{parentName:"p"},"Tops")," category (",(0,d.mdx)("inlineCode",{parentName:"p"},"id")," = 25)."),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Request:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},"{\n  category (\n   id: 25\n) {\n    id\n    level\n    name\n    breadcrumbs {\n      category_id\n      category_name\n      category_level\n      category_url_key\n      category_url_path\n    }\n  }\n}\n")),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Response:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "category": {\n      "id": 25,\n      "level": 4,\n      "name": "Tees",\n      "breadcrumbs": [\n        {\n          "category_id": 20,\n          "category_name": "Women",\n          "category_level": 2,\n          "category_url_key": "women",\n          "category_url_path": "women"\n        },\n        {\n          "category_id": 21,\n          "category_name": "Tops",\n          "category_level": 3,\n          "category_url_key": "tops-women",\n          "category_url_path": "women/tops-women"\n        }\n      ]\n    }\n  }\n}\n')),(0,d.mdx)("h2",{id:"errors"},"Errors"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Error"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"Category doesn't exist")),(0,d.mdx)("td",{parentName:"tr",align:null},"The specified category ID value does not exist.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},'Field "category" argument "id" requires type Int, found "XXX"')),(0,d.mdx)("td",{parentName:"tr",align:null},"The specified ",(0,d.mdx)("inlineCode",{parentName:"td"},"id")," argument value has the wrong type.")))))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-products-queries-category-md-842657e58f5b68bb5689.js.map
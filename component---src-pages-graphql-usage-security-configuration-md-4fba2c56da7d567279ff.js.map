{"version":3,"file":"component---src-pages-graphql-usage-security-configuration-md-4fba2c56da7d567279ff.js","mappings":"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","sources":["webpack://commerce-webapi/./src/pages/graphql/usage/security-configuration.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/commerce-webapi/commerce-webapi/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"graphql-security-configuration\"\n    }}>{`GraphQL security configuration`}</h1>\n    <p>{`The Framework and `}<inlineCode parentName=\"p\">{`GraphQl`}</inlineCode>{` module `}<inlineCode parentName=\"p\">{`di.xml`}</inlineCode>{` files define several security-related configuration values that you should review to ensure they align with types of mutations and queries that you run.`}</p>\n    <p>{`To override these default values, create a custom module and provide a new value in the appropriate `}<a parentName=\"p\" {...{\n        \"href\": \"https://developer.adobe.com/commerce/php/development/build/dependency-injection-file/\"\n      }}>{`di.xml`}</a>{` file.`}</p>\n    <h2 {...{\n      \"id\": \"input-limiting\"\n    }}>{`Input limiting`}</h2>\n    <p>{`In GraphQL, you can limit the maximum page size allowed. For information about how to enable and configure this feature, as well as additional arguments that are applicable to web APIs in general, see `}<a parentName=\"p\" {...{\n        \"href\": \"../../get-started/api-security.md\"\n      }}>{`API security`}</a>{`.`}</p>\n    <h2 {...{\n      \"id\": \"graphql-module-configuration\"\n    }}>{`GraphQl module configuration`}</h2>\n    <p>{`The `}<inlineCode parentName=\"p\">{`GraphQl/etc/di.xml`}</inlineCode>{` file contains two arguments that can be overridden to enhance security and prevent performance bottlenecks:`}</p>\n    <table>\n      <thead parentName=\"table\">\n        <tr parentName=\"thead\">\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Attribute`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Default value`}</th>\n          <th parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Description`}</th>\n        </tr>\n      </thead>\n      <tbody parentName=\"table\">\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`queryComplexity`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`300`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Defines the maximum number of fields, objects, and fragments that a query can contain.`}</td>\n        </tr>\n        <tr parentName=\"tbody\">\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}><inlineCode parentName=\"td\">{`queryDepth`}</inlineCode></td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`20`}</td>\n          <td parentName=\"tr\" {...{\n            \"align\": null\n          }}>{`Defines the maximum depth of nodes that query can return.`}</td>\n        </tr>\n      </tbody>\n    </table>\n    <h3 {...{\n      \"id\": \"query-complexity\"\n    }}>{`Query complexity`}</h3>\n    <p>{`A complex GraphQL query, such as the `}<a parentName=\"p\" {...{\n        \"href\": \"../schema/cart/queries/cart.md\"\n      }}><inlineCode parentName=\"a\">{`cart`}</inlineCode></a>{` or `}<a parentName=\"p\" {...{\n        \"href\": \"../schema/products/queries/products.md\"\n      }}><inlineCode parentName=\"a\">{`products`}</inlineCode></a>{` query, can potentially generate a heavy workload on the server. Complex queries can potentially be used to create distributed denial of service (DDoS) attacks by overloading the server with specious requests.`}</p>\n    <p>{`Each instance of the following items adds 1 to the complexity score:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`A field and parent field in the body of the query.`}</li>\n      <li parentName=\"ul\">{`A field in an inline fragment.`}</li>\n      <li parentName=\"ul\">{`A field in a fragment spread. If a fragment spread is used multiple times, each field within is counted that number of times.`}</li>\n    </ul>\n    <p>{`The following items do not count toward the complexity score:`}</p>\n    <ul>\n      <li parentName=\"ul\">{`The root `}<inlineCode parentName=\"li\">{`query`}</inlineCode>{` field`}</li>\n      <li parentName=\"ul\">{`Fragment declarations`}</li>\n      <li parentName=\"ul\">{`Fragment spread declarations`}</li>\n    </ul>\n    <p>{`The following sample query contains all of the items listed above.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-graphql\"\n      }}>{`query {\n  countries {\n    full_name_english\n    name1: full_name_english\n    ...on Country {\n        two_letter_abbreviation\n    }\n    ...myFrag\n    ...myFrag\n  }\n}\nfragment myFrag on Country {\n    three_letter_abbreviation\n}\n`}</code></pre>\n    <p>{`The complexity count for the query is 6. These lines contributed to the count:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`countries {}`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`full_name_english`}</inlineCode>{` (first instance)`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`name1: full_name_english`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`two_letter_abbreviation`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`three_letter_abbreviation`}</inlineCode>{` (first instance of `}<inlineCode parentName=\"li\">{`...myFrag`}</inlineCode>{`)`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`three_letter_abbreviation`}</inlineCode>{` (second instance of `}<inlineCode parentName=\"li\">{`...myFrag`}</inlineCode>{`)`}</li>\n    </ul>\n    <p>{`Creating the `}<inlineCode parentName=\"p\">{`name1`}</inlineCode>{` alias did not cause the system to double count the entry.`}</p>\n    <p>{`If the count does not exceed the threshold set by the `}<inlineCode parentName=\"p\">{`queryComplexity`}</inlineCode>{` attribute, the application validates and processes the query.`}</p>\n    <h3 {...{\n      \"id\": \"query-depth\"\n    }}>{`Query depth`}</h3>\n    <p>{`The `}<inlineCode parentName=\"p\">{`queryDepth`}</inlineCode>{` attribute specifies the maximum depth a query can return. This can be an issue for queries that return objects that show a hierarchy, such as `}<a parentName=\"p\" {...{\n        \"href\": \"../schema/products/queries/categories.md\"\n      }}><inlineCode parentName=\"a\">{`CategoryTree`}</inlineCode></a>{`, or queries that return detailed data on complex `}<a parentName=\"p\" {...{\n        \"href\": \"../schema/products/queries/products.md\"\n      }}>{`products`}</a>{`. The default value of 20 allows for deep hierarchies and products, but you might want to reduce this number if you know that legitimate queries will never reach that depth.`}</p>\n    <p>{`The following query has a maximum depth of 5.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-graphql\"\n      }}>{`{\n  categories(\n    filters: {\n      parent_id: {in: [\"2\"]}\n    }\n  ) {\n    total_count\n    items {\n      uid\n      level\n      name\n      path\n      children_count\n      children {\n        uid\n        level\n        name\n        path\n        children_count\n        children {\n          uid\n          level\n          name\n          path\n          children_count\n          children {\n            uid\n            level\n            name\n            path\n          }\n        }\n      }\n    }\n    page_info {\n      current_page\n      page_size\n      total_pages\n    }\n  }\n}\n`}</code></pre>\n    <p>{`These fields contribute to the depth:`}</p>\n    <ul>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`items`}</inlineCode></li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`children`}</inlineCode>{` (first instance)`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`children`}</inlineCode>{` (second instance)`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`children`}</inlineCode>{` (third instance)`}</li>\n      <li parentName=\"ul\"><inlineCode parentName=\"li\">{`uid`}</inlineCode>{` and other fields in this node`}</li>\n    </ul>\n    <p>{`If the depth of the query exceeds the value  `}<inlineCode parentName=\"p\">{`queryDepth`}</inlineCode>{`, the system returns an error.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","parentName","isMDXComponent"],"sourceRoot":""}
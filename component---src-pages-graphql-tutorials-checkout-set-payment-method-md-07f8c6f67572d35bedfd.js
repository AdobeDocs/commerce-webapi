"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[8109],{72591:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return p},default:function(){return c}});var a=t(58168),o=t(80045),m=(t(88763),t(15680)),r=t(83407);const d=["components"],p={},i=(s="InlineAlert",function(e){return console.warn("Component "+s+" was not imported, exported, or provided by MDXProvider as global scope"),(0,m.mdx)("div",e)});var s;const l={_frontmatter:p},h=r.A;function c(e){let{components:n}=e,t=(0,o.A)(e,d);return(0,m.mdx)(h,(0,a.A)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,m.mdx)("h1",{id:"step-9-set-the-payment-method"},"Step 9. Set the payment method"),(0,m.mdx)(i,{variant:"success",slots:"text",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"You must always set a payment method for an order."),(0,m.mdx)("p",null,"Use the following ",(0,m.mdx)("inlineCode",{parentName:"p"},"cart")," query to determine which payment methods which are available for your order."),(0,m.mdx)("p",null,(0,m.mdx)("inlineCode",{parentName:"p"},"{ CART_ID }")," is the unique shopping cart ID from ",(0,m.mdx)("a",{parentName:"p",href:"../../tutorials/checkout/add-product-to-cart.md"},"Step 2. Create empty cart"),"."),(0,m.mdx)("p",null,"For logged-in customers, send the customer's authorization token in the ",(0,m.mdx)("inlineCode",{parentName:"p"},"Authorization")," parameter of the header. See ",(0,m.mdx)("a",{parentName:"p",href:"../../usage/authorization-tokens.md"},"Authorization tokens")," for more information."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Request:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-graphql"},'query {\n  cart(cart_id: "{ CART_ID }") {\n    available_payment_methods {\n      code\n      title\n    }\n  }\n}\n')),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Response:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "cart": {\n      "available_payment_methods": [\n        {\n          "code": "checkmo",\n          "title": "Check / Money order"\n        }\n      ]\n    }\n  }\n}\n')),(0,m.mdx)("h3",{id:"set-payment-method-on-cart"},"Set payment method on cart"),(0,m.mdx)("p",null,"Use the ",(0,m.mdx)("inlineCode",{parentName:"p"},"setPaymentMethodOnCart")," mutation to set the payment method for your order. The value ",(0,m.mdx)("inlineCode",{parentName:"p"},"checkmo"),' ("Check / Money order" payment method code) was returned in the query.'),(0,m.mdx)("p",null,"Send the customer's authorization token in the ",(0,m.mdx)("inlineCode",{parentName:"p"},"Authorization")," parameter of the header. See ",(0,m.mdx)("a",{parentName:"p",href:"../../usage/authorization-tokens.md"},"Authorization tokens")," for more information."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Request:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation {\n  setPaymentMethodOnCart(input: {\n      cart_id: "{ CART_ID }"\n      payment_method: {\n          code: "checkmo"\n      }\n  }) {\n    cart {\n      selected_payment_method {\n        code\n      }\n    }\n  }\n}\n')),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Response:")),(0,m.mdx)("p",null,"If the operation is successful, the response contains the code of the selected payment method."),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "setPaymentMethodOnCart": {\n      "cart": {\n        "selected_payment_method": {\n          "code": "checkmo"\n        }\n      }\n    }\n  }\n}\n')),(0,m.mdx)("h2",{id:"verify-this-step"},"Verify this step"),(0,m.mdx)("ol",null,(0,m.mdx)("li",{parentName:"ol"},(0,m.mdx)("p",{parentName:"li"},"Sign in as a customer to the website using the email ",(0,m.mdx)("inlineCode",{parentName:"p"},"john.doe@example.com")," and password ",(0,m.mdx)("inlineCode",{parentName:"p"},"b1b2b3l@w+"),".")),(0,m.mdx)("li",{parentName:"ol"},(0,m.mdx)("p",{parentName:"li"},"Go to Checkout.")),(0,m.mdx)("li",{parentName:"ol"},(0,m.mdx)("p",{parentName:"li"},"The selected payment method is displayed in the Payment Method section on the Review & Payments step."))))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-tutorials-checkout-set-payment-method-md-07f8c6f67572d35bedfd.js.map
"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[1777],{37059:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return i},default:function(){return c}});var a,o=t(87462),m=t(63366),r=(t(15007),t(64983)),d=t(91515),p=["components"],i={},s=(a="InlineAlert",function(e){return console.warn("Component "+a+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.mdx)("div",e)}),l={_frontmatter:i},h=d.Z;function c(e){var n=e.components,t=(0,m.Z)(e,p);return(0,r.mdx)(h,(0,o.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"step-9-set-the-payment-method"},"Step 9. Set the payment method"),(0,r.mdx)(s,{variant:"success",slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,"You must always set a payment method for an order."),(0,r.mdx)("p",null,"Use the following ",(0,r.mdx)("inlineCode",{parentName:"p"},"cart")," query to determine which payment methods which are available for your order."),(0,r.mdx)("p",null,(0,r.mdx)("inlineCode",{parentName:"p"},"{ CART_ID }")," is the unique shopping cart ID from ",(0,r.mdx)("a",{parentName:"p",href:"../../tutorials/checkout/add-product-to-cart.md"},"Step 2. Create empty cart"),"."),(0,r.mdx)("p",null,"For logged-in customers, send the customer's authorization token in the ",(0,r.mdx)("inlineCode",{parentName:"p"},"Authorization")," parameter of the header. See ",(0,r.mdx)("a",{parentName:"p",href:"../../usage/authorization-tokens.md"},"Authorization tokens")," for more information."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Request:")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-graphql"},'query {\n  cart(cart_id: "{ CART_ID }") {\n    available_payment_methods {\n      code\n      title\n    }\n  }\n}\n')),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Response:")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "cart": {\n      "available_payment_methods": [\n        {\n          "code": "checkmo",\n          "title": "Check / Money order"\n        }\n      ]\n    }\n  }\n}\n')),(0,r.mdx)("h3",{id:"set-payment-method-on-cart"},"Set payment method on cart"),(0,r.mdx)("p",null,"Use the ",(0,r.mdx)("inlineCode",{parentName:"p"},"setPaymentMethodOnCart")," mutation to set the payment method for your order. The value ",(0,r.mdx)("inlineCode",{parentName:"p"},"checkmo"),' ("Check / Money order" payment method code) was returned in the query.'),(0,r.mdx)("p",null,"Send the customer's authorization token in the ",(0,r.mdx)("inlineCode",{parentName:"p"},"Authorization")," parameter of the header. See ",(0,r.mdx)("a",{parentName:"p",href:"../../usage/authorization-tokens.md"},"Authorization tokens")," for more information."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Request:")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation {\n  setPaymentMethodOnCart(input: {\n      cart_id: "{ CART_ID }"\n      payment_method: {\n          code: "checkmo"\n      }\n  }) {\n    cart {\n      selected_payment_method {\n        code\n      }\n    }\n  }\n}\n')),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Response:")),(0,r.mdx)("p",null,"If the operation is successful, the response contains the code of the selected payment method."),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "setPaymentMethodOnCart": {\n      "cart": {\n        "selected_payment_method": {\n          "code": "checkmo"\n        }\n      }\n    }\n  }\n}\n')),(0,r.mdx)("h2",{id:"verify-this-step"},"Verify this step"),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"Sign in as a customer to the website using the email ",(0,r.mdx)("inlineCode",{parentName:"p"},"john.doe@example.com")," and password ",(0,r.mdx)("inlineCode",{parentName:"p"},"b1b2b3l@w+"),".")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"Go to Checkout.")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"The selected payment method is displayed in the Payment Method section on the Review & Payments step."))))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-tutorials-checkout-set-payment-method-md-96507f7b48ad8ce27228.js.map
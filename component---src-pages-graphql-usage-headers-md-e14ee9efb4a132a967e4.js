"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[8451],{6403:function(e,a,t){t.r(a),t.d(a,{_frontmatter:function(){return m},default:function(){return l}});var n=t(58168),r=t(80045),d=(t(88763),t(15680)),o=t(83407);const i=["components"],m={},s={_frontmatter:m},p=o.A;function l(e){let{components:a}=e,t=(0,r.A)(e,i);return(0,d.mdx)(p,(0,n.A)({},s,t,{components:a,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"graphql-headers"},"GraphQL headers"),(0,d.mdx)("p",null,"Adobe Commerce and Magento Open Source GraphQL supports the HTTP GET and POST methods. You can send a query as a GET or POST request. Mutations must be POST requests. You can optionally send a GET query request in a URL. In these requests, you must specify ",(0,d.mdx)("inlineCode",{parentName:"p"},"query")," as the query string. You might need to encode the query, as shown below:"),(0,d.mdx)("p",null,(0,d.mdx)("inlineCode",{parentName:"p"},"http://<host>/graphql?query=%7Bproducts(filter%3A%7Bsku%3A%7Beq%3A%2224-WB01%22%7D%7D)%7Bitems%7Bname%20sku%7D%7D%7D")),(0,d.mdx)("p",null,"The previous example is equivalent to the following query. You could send the query as either a GET or POST request."),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Request:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  products(\n    filter: { sku: { eq: "24-WB01" } }\n  ) {\n    items {\n      name\n      sku\n    }\n  }\n}\n')),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Response:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "products": {\n      "items": [\n        {\n          "name": "Voyage Yoga Bag",\n          "sku": "24-WB01"\n        }\n      ]\n    }\n  }\n}\n')),(0,d.mdx)("p",null,"Some queries sent as a GET request can be cached. See ",(0,d.mdx)("a",{parentName:"p",href:"../usage/caching.md"},"GraphQL caching")," for more information."),(0,d.mdx)("h2",{id:"request-headers"},"Request headers"),(0,d.mdx)("p",null,"The application accepts the following headers in a GraphQL request:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Header name"),(0,d.mdx)("th",{parentName:"tr",align:null},"Value"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"Authorization")),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"Bearer <authorization_token>")),(0,d.mdx)("td",{parentName:"tr",align:null},"A customer or admin token. ",(0,d.mdx)("a",{parentName:"td",href:"authorization-tokens.md"},"Authorization tokens")," describes how to generate tokens.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"Content-Currency")),(0,d.mdx)("td",{parentName:"tr",align:null},"A valid currency code, such as ",(0,d.mdx)("inlineCode",{parentName:"td"},"USD")),(0,d.mdx)("td",{parentName:"tr",align:null},"This header is required only if the currency is not the store view's default currency.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"Content-Type")),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"application/json")),(0,d.mdx)("td",{parentName:"tr",align:null},"Required for all requests.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"Preview-Version")),(0,d.mdx)("td",{parentName:"tr",align:null},"A timestamp (seconds since January 1, 1970)."),(0,d.mdx)("td",{parentName:"tr",align:null},"Use this header to query products, categories, price rules, and other entities that are scheduled to be in a campaign (staged content). Staging is supported in Adobe Commerce only.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"Store")),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"<store_view_code>")),(0,d.mdx)("td",{parentName:"tr",align:null},"The store view code on which to perform the request. The value can be ",(0,d.mdx)("inlineCode",{parentName:"td"},"default")," or the code that is defined when a store view is created.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"X-Captcha")),(0,d.mdx)("td",{parentName:"tr",align:null},"Shopper-entered CAPTCHA value"),(0,d.mdx)("td",{parentName:"tr",align:null},"Required when a shopper enters a CAPTCHA value on the frontend, unless an integration token is provided. Forms requiring CAPTCHA values are configured at ",(0,d.mdx)("strong",{parentName:"td"},"Stores")," > ",(0,d.mdx)("strong",{parentName:"td"},"Configuration")," > ",(0,d.mdx)("strong",{parentName:"td"},"Customers")," > ",(0,d.mdx)("strong",{parentName:"td"},"Customer Configuration")," > ",(0,d.mdx)("strong",{parentName:"td"},"CAPTCHA")," > ",(0,d.mdx)("strong",{parentName:"td"},"Forms"),".")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"X-Magento-Cache-Id")),(0,d.mdx)("td",{parentName:"tr",align:null},"A Secure Hash Algorithm value."),(0,d.mdx)("td",{parentName:"tr",align:null},"Used for logged-in customers only. It is a hash value that identifies a customer based on factors such as the store ID, the store's currency code, whether the customer is logged in, the customer group, and the tax rate. The cache ID provides a way to serve cached query results to customers that share the same identifying factors. ",(0,d.mdx)("a",{parentName:"td",href:"../usage/caching.md#caching-for-logged-in-customers"},"Caching for logged-in customers")," provides additional information.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"X-ReCaptcha")),(0,d.mdx)("td",{parentName:"tr",align:null},"A value generated by the Google reCAPTCHA API. It is required when reCAPTCHA is enabled for certain forms, unless an integration token is provided. Forms requiring reCAPTCHA values are configured at ",(0,d.mdx)("strong",{parentName:"td"},"Stores")," > ",(0,d.mdx)("strong",{parentName:"td"},"Security")," > ",(0,d.mdx)("strong",{parentName:"td"},"Google reCAPTCHA Storefront")," > ",(0,d.mdx)("strong",{parentName:"td"},"Storefront"),"."),(0,d.mdx)("td",{parentName:"tr",align:null},"String")))),(0,d.mdx)("h3",{id:"specify-request-headers-in-a-graphql-browser"},"Specify request headers in a GraphQL browser"),(0,d.mdx)("p",null,"GraphQL browsers, such as GraphiQL, allow you to enter a set of header name/value pairs. The following example shows an example customer authorization token and content type headers."),(0,d.mdx)("p",null,(0,d.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"845px"}},"\n      ",(0,d.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"28.750000000000004%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,d.mdx)("picture",{parentName:"span"},"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/commerce-webapi/static/84da91e4ba026a305d86bbdc82b7cd34/5530d/graphql-authorization.webp 320w","/commerce-webapi/static/84da91e4ba026a305d86bbdc82b7cd34/0c8fb/graphql-authorization.webp 640w","/commerce-webapi/static/84da91e4ba026a305d86bbdc82b7cd34/3a5f0/graphql-authorization.webp 845w"],sizes:"(max-width: 845px) 100vw, 845px",type:"image/webp"}),"\n          ",(0,d.mdx)("source",{parentName:"picture",srcSet:["/commerce-webapi/static/84da91e4ba026a305d86bbdc82b7cd34/dd4a7/graphql-authorization.png 320w","/commerce-webapi/static/84da91e4ba026a305d86bbdc82b7cd34/0f09e/graphql-authorization.png 640w","/commerce-webapi/static/84da91e4ba026a305d86bbdc82b7cd34/13d24/graphql-authorization.png 845w"],sizes:"(max-width: 845px) 100vw, 845px",type:"image/png"}),"\n          ",(0,d.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-webapi/static/84da91e4ba026a305d86bbdc82b7cd34/13d24/graphql-authorization.png",alt:"GraphiQL Authorization Bearer",title:"GraphiQL Authorization Bearer",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,d.mdx)("h3",{id:"specify-request-headers-with-the-curl-command"},"Specify request headers with the ",(0,d.mdx)("inlineCode",{parentName:"h3"},"curl")," command"),(0,d.mdx)("p",null,"Use the curl command with a separate ",(0,d.mdx)("inlineCode",{parentName:"p"},"-H")," argument to specify each request header. The following example uses the same request headers as those used in the GraphQL browser."),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-bash"},"curl 'http://magento.config/graphql' -H 'Authorization: Bearer hoyz7k697ubv5hcpq92yrtx39i7x10um' -H 'Content-Type: application/json'  --data-binary '{\"query\":\"query {\\n  customer {\\n    firstname\\n    lastname\\n    email\\n  }\\n}\"}'\n")))}l.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-usage-headers-md-e14ee9efb4a132a967e4.js.map
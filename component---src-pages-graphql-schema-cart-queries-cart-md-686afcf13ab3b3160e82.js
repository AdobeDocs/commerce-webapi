"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[2291],{52397:function(n,e,t){t.r(e),t.d(e,{_frontmatter:function(){return m},default:function(){return u}});var a=t(58168),r=t(80045),i=(t(88763),t(15680)),l=t(83407);const d=["components"],m={},o={_frontmatter:m},p=l.A;function u(n){let{components:e}=n,t=(0,r.A)(n,d);return(0,i.mdx)(p,(0,a.A)({},o,t,{components:e,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"cart-query"},"cart query"),(0,i.mdx)("p",null,"Use the ",(0,i.mdx)("inlineCode",{parentName:"p"},"cart")," query to retrieve information about a particular cart."),(0,i.mdx)("p",null,"Cart functionality is defined in the ",(0,i.mdx)("inlineCode",{parentName:"p"},"Quote")," module. A Quote represents the contents of a customer's shopping cart. It is responsible for performing tasks such as:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"Tracking each item in the cart, including the quantity and base cost"),(0,i.mdx)("li",{parentName:"ul"},"Determining estimated shipping costs"),(0,i.mdx)("li",{parentName:"ul"},"Calculating subtotals, computing additional costs, applying coupons, and determining the payment method")),(0,i.mdx)("h2",{id:"syntax"},"Syntax"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"{cart(cart_id: String!) {Cart}}")),(0,i.mdx)("h2",{id:"reference"},"Reference"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-cart"},(0,i.mdx)("inlineCode",{parentName:"a"},"cart"))," reference provides detailed information about the types and fields defined in this query."),(0,i.mdx)("h2",{id:"sample-queries"},"Sample queries"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/developer/commerce/storefront/playgrounds/commerce-services/"},"Commerce API playground")," provides a sample ",(0,i.mdx)("inlineCode",{parentName:"p"},"cart")," query that you can run against a live instance of Adobe Commerce with Luma sample data."),(0,i.mdx)("p",null,"You can convert the hardcoded ",(0,i.mdx)("inlineCode",{parentName:"p"},"cart_id")," values in the following sample queries to a ",(0,i.mdx)("a",{parentName:"p",href:"../../../usage/index.md#query-variables"},"variable")," and run them in the API playground. Note that the responses may vary, depending on the configuration of the Commerce instance."),(0,i.mdx)("h3",{id:"cart-ready-for-checkout"},"Cart ready for checkout"),(0,i.mdx)("p",null,"The following query shows the status of a cart that is ready to be converted into an order."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Request:")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  cart(cart_id: "CYmiiQRjPVc2gJUc5r7IsBmwegVIFO43") {\n    email\n    billing_address {\n      city\n      country {\n        code\n        label\n      }\n      firstname\n      lastname\n      postcode\n      region {\n        code\n        label\n      }\n      street\n      telephone\n    }\n    shipping_addresses {\n      firstname\n      lastname\n      street\n      city\n      region {\n        code\n        label\n      }\n      country {\n        code\n        label\n      }\n      telephone\n      available_shipping_methods {\n        amount {\n          currency\n          value\n        }\n        available\n        carrier_code\n        carrier_title\n        error_message\n        method_code\n        method_title\n        price_excl_tax {\n          value\n          currency\n        }\n        price_incl_tax {\n          value\n          currency\n        }\n      }\n      selected_shipping_method {\n        amount {\n          value\n          currency\n        }\n        carrier_code\n        carrier_title\n        method_code\n        method_title\n      }\n    }\n    itemsV2 {\n      total_count\n      items {\n        id\n        product {\n          name\n          sku\n        }\n        quantity\n      }\n      page_info {\n        page_size\n        current_page\n        total_pages\n      }\n    }      \n    available_payment_methods {\n      code\n      title\n    }\n    selected_payment_method {\n      code\n      title\n    }\n    applied_coupons {\n      code\n    }\n    prices {\n      grand_total {\n        value\n        currency\n      }\n    }\n  }\n}\n')),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Response:")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "cart": {\n      "email": "roni_cost@example.com",\n      "billing_address": {\n        "city": "Calder",\n        "country": {\n          "code": "US",\n          "label": "US"\n        },\n        "firstname": "Veronica",\n        "lastname": "Costello",\n        "postcode": "49628-7978",\n        "region": {\n          "code": "MI",\n          "label": "Michigan"\n        },\n        "street": [\n          "6146 Honey Bluff Parkway"\n        ],\n        "telephone": "(555) 229-3326"\n      },\n      "shipping_addresses": [\n        {\n          "firstname": "Veronica",\n          "lastname": "Costello",\n          "street": [\n            "6146 Honey Bluff Parkway"\n          ],\n          "city": "Calder",\n          "region": {\n            "code": "MI",\n            "label": "Michigan"\n          },\n          "country": {\n            "code": "US",\n            "label": "US"\n          },\n          "telephone": "(555) 229-3326",\n          "available_shipping_methods": [\n            {\n              "amount": {\n                "currency": "USD",\n                "value": 10\n              },\n              "available": true,\n              "carrier_code": "tablerate",\n              "carrier_title": "Best Way",\n              "error_message": "",\n              "method_code": "bestway",\n              "method_title": "Table Rate",\n              "price_excl_tax": {\n                "value": 10,\n                "currency": "USD"\n              },\n              "price_incl_tax": {\n                "value": 10,\n                "currency": "USD"\n              }\n            },\n            {\n              "amount": {\n                "currency": "USD",\n                "value": 15\n              },\n              "available": true,\n              "carrier_code": "flatrate",\n              "carrier_title": "Flat Rate",\n              "error_message": "",\n              "method_code": "flatrate",\n              "method_title": "Fixed",\n              "price_excl_tax": {\n                "value": 15,\n                "currency": "USD"\n              },\n              "price_incl_tax": {\n                "value": 15,\n                "currency": "USD"\n              }\n            }\n          ],\n          "selected_shipping_method": {\n            "amount": {\n              "value": 10,\n              "currency": "USD"\n            },\n            "carrier_code": "tablerate",\n            "carrier_title": "Best Way",\n            "method_code": "bestway",\n            "method_title": "Table Rate"\n          }\n        }\n      ],\n      "itemsV2": {\n        "total_count": 2,\n        "items": [\n          {\n            "uid": "Mg==",\n            "product": {\n              "name": "Strive Shoulder Pack",\n              "sku": "24-MB04"\n            },\n            "quantity": 2\n          },\n          {\n            "uid": "17",\n            "product": {\n              "name": "Savvy Shoulder Tote",\n              "sku": "24-WB05"\n            },\n            "quantity": 1\n          }\n        ],\n        "page_info": {\n          "page_size": 20,\n          "current_page": 1,\n          "total_pages": 1\n        }\n      },\n      "available_payment_methods": [\n        {\n          "code": "braintree_cc_vault",\n          "title": "Stored Cards (Braintree)"\n        },\n        {\n          "code": "braintree",\n          "title": "Credit Card (Braintree)"\n        },\n        {\n          "code": "checkmo",\n          "title": "Check / Money order"\n        }\n      ],\n      "selected_payment_method": {\n        "code": "checkmo",\n        "title": "Check / Money order"\n      },\n      "applied_coupons": null,\n      "prices": {\n        "grand_total": {\n          "value": 105.26,\n          "currency": "USD"\n        }\n      }\n    }\n  }\n}\n')),(0,i.mdx)("h3",{id:"cart-discounts"},"Cart discounts"),(0,i.mdx)("p",null,"In this query, the ",(0,i.mdx)("strong",{parentName:"p"},"Buy 3 tee shirts and get the 4th free")," cart price rule from the sample data is active. This rule was modified slightly to add the label ",(0,i.mdx)("inlineCode",{parentName:"p"},"3T1free"),".  (If a cart price rule does not have a label, the application returns a default label of ",(0,i.mdx)("inlineCode",{parentName:"p"},"Discount"),".) A custom rule in which the customer saves 10% on the order by applying a discount code is also in effect."),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"3T1free")," rule is applied first, and the application returns the price of a single shirt, $29, as the discount. The application then applies a 10% discount to the remaining total of the products in the cart."),(0,i.mdx)("p",null,"If other promotions or price adjustments are applied to the cart through either store credit or gift cards, these are reflected under the ",(0,i.mdx)("inlineCode",{parentName:"p"},"discounts")," object with the appropriate label."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Request:")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  cart(cart_id: "v7jYJUjvPeHbdMJRcOfZIeQhs2Xc2ZKT") {\n    email\n    itemsV2 {\n      total_count\n      items {\n        uid\n        prices {\n          total_item_discount {\n            value\n          }\n          price {\n            value\n          }\n          discounts {\n            label\n            amount {\n              value\n            }\n          }\n        }\n        product {\n          name\n          sku\n        }\n        quantity\n      },\n      page_info {\n          page_size\n          current_page\n          total_pages\n      }\n    }\n    applied_coupons {\n      code\n    }\n    prices {\n      discounts {\n        amount {\n          value\n        }\n        applied_to\n        label\n      }\n      grand_total {\n        value\n      }\n    }\n  }\n}\n')),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Response:")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "cart": {\n      "email": "roni_cost@example.com",\n      "itemsV2": {\n        "total_count": 1,\n        "items": [\n          {\n            "uid": "MjY=",\n            "prices": {\n              "total_item_discount": {\n                "value": 37.7\n              },\n              "price": {\n                "value": 29\n              },\n              "discounts": [\n                {\n                  "label": "Discount (3T1free, 10% Off for New Customers)",\n                  "amount": {\n                    "value": 37.7\n                  }\n                },\n                {\n                  "label": "Gift Card",\n                  "amount": {\n                    "value": 0.1\n                  }\n                },\n                {\n                  "label": "Store Credit",\n                  "amount": {\n                    "value": 0.1\n                  }\n                }\n              ]\n            },\n            "product": {\n              "name": "Elisa EverCool&trade; Tee",\n              "sku": "WS06"\n            },\n            "quantity": 4\n          }\n        ],\n        "page_info": {\n          "page_size": 20,\n          "current_page": 1,\n          "total_pages": 1\n        }\n      },\n      "applied_coupons": [\n        {\n          "code": "NEW"\n        }\n      ],\n      "prices": {\n        "discounts": [\n          {\n            "amount": {\n              "value": 29\n            },\n            "applied_to": "ITEM",\n            "label": "3T1free"\n          },\n          {\n            "amount": {\n              "value": 8.7\n            },\n            "applied_to": "ITEM",\n            "label": "10% Off for New Customers"\n          }\n        ],\n        "grand_total": {\n          "value": 84.76\n        }\n      }\n    }\n  }\n}\n')),(0,i.mdx)("h3",{id:"tier-price-example"},"Tier price example"),(0,i.mdx)("p",null,"In the following example, tier prices has been established for product ",(0,i.mdx)("inlineCode",{parentName:"p"},"24-UG01")," and ",(0,i.mdx)("inlineCode",{parentName:"p"},"24-UG05"),", as shown in the following table:"),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:null},"Product"),(0,i.mdx)("th",{parentName:"tr",align:null},"Quantity"),(0,i.mdx)("th",{parentName:"tr",align:null},"Fixed/Discount"),(0,i.mdx)("th",{parentName:"tr",align:null},"Amount"))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"24-UG01"),(0,i.mdx)("td",{parentName:"tr",align:null},"5"),(0,i.mdx)("td",{parentName:"tr",align:null},"Discount"),(0,i.mdx)("td",{parentName:"tr",align:null},"5%")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"24-UG01"),(0,i.mdx)("td",{parentName:"tr",align:null},"10"),(0,i.mdx)("td",{parentName:"tr",align:null},"Discount"),(0,i.mdx)("td",{parentName:"tr",align:null},"10%")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"24-UG01"),(0,i.mdx)("td",{parentName:"tr",align:null},"15"),(0,i.mdx)("td",{parentName:"tr",align:null},"Discount"),(0,i.mdx)("td",{parentName:"tr",align:null},"15%")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"24-UG05"),(0,i.mdx)("td",{parentName:"tr",align:null},"5"),(0,i.mdx)("td",{parentName:"tr",align:null},"Fixed"),(0,i.mdx)("td",{parentName:"tr",align:null},"$16")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"24-UG05"),(0,i.mdx)("td",{parentName:"tr",align:null},"10"),(0,i.mdx)("td",{parentName:"tr",align:null},"Fixed"),(0,i.mdx)("td",{parentName:"tr",align:null},"$11")))),(0,i.mdx)("p",null,"The cart in the example contains 12 units of ",(0,i.mdx)("inlineCode",{parentName:"p"},"24-UG05")," and 8 units of ",(0,i.mdx)("inlineCode",{parentName:"p"},"24-UG-01"),", so the price of ",(0,i.mdx)("inlineCode",{parentName:"p"},"24-UG05")," is $11, and the price of ",(0,i.mdx)("inlineCode",{parentName:"p"},"24-UG01")," is $18.05 (5% off)."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Request:")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-graphql"},'query {\n  cart(cart_id: "v7jYJUjvPeHbdMJRcOfZIeQhs2Xc2ZKT"){\n    itemsV2 {\n      total_count\n      items {\n        uid\n        quantity\n        product {\n          name\n          sku\n          price_tiers {\n            quantity\n            final_price {\n              value\n            }\n            discount {\n              amount_off\n              percent_off\n            }\n          }\n        }\n        prices{\n          price{\n            value\n          }\n        }\n      }\n      page_info {\n        page_size\n        current_page\n        total_pages\n      }\n    }\n    prices {\n      discounts {\n        label\n        applied_to\n        amount {\n          value\n        }\n      }\n      subtotal_excluding_tax {\n        value\n      }\n      applied_taxes {\n        label\n        amount {\n          value\n        }\n      }\n    }\n  }\n}\n')),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Response:")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "cart": {\n      "itemsV2": {\n        "total_count": 2,\n        "items": [\n          {\n            "uid": "NjU=",\n            "quantity": 12,\n            "product": {\n              "name": "Go-Get\'r Pushup Grips",\n              "sku": "24-UG05",\n              "price_tiers": [\n                {\n                  "quantity": 5,\n                  "final_price": {\n                    "value": 16\n                  },\n                  "discount": {\n                    "amount_off": 3,\n                    "percent_off": 15.79\n                  }\n                },\n                {\n                  "quantity": 10,\n                  "final_price": {\n                    "value": 11\n                  },\n                  "discount": {\n                    "amount_off": 8,\n                    "percent_off": 42.11\n                  }\n                }\n              ]\n            },\n            "prices": {\n              "price": {\n                "value": 11\n              }\n            }\n          },\n          {\n            "uid": "NjY=",\n            "quantity": 8,\n            "product": {\n              "name": "Quest Lumaflex&trade; Band",\n              "sku": "24-UG01",\n              "price_tiers": [\n                {\n                  "quantity": 5,\n                  "final_price": {\n                    "value": 18.05\n                  },\n                  "discount": {\n                    "amount_off": 0.95,\n                    "percent_off": 5\n                  }\n                },\n                {\n                  "quantity": 10,\n                  "final_price": {\n                    "value": 17.1\n                  },\n                  "discount": {\n                    "amount_off": 1.9,\n                    "percent_off": 10\n                  }\n                },\n                {\n                  "quantity": 15,\n                  "final_price": {\n                    "value": 16.15\n                  },\n                  "discount": {\n                    "amount_off": 2.85,\n                    "percent_off": 15\n                  }\n                }\n              ]\n            },\n            "prices": {\n              "price": {\n                "value": 18.05\n              }\n            }\n          }\n        ],\n        "page_info": {\n          "page_size": 20,\n          "current_page": 1,\n          "total_pages": 1\n        }\n      },\n      "prices": {\n        "discounts": [\n          {\n            "label": "200",\n            "applied_to": "ITEM",\n            "amount": {\n              "value": 55.28\n            }\n          }\n        ],\n        "subtotal_excluding_tax": {\n          "value": 276.4\n        },\n        "applied_taxes": [\n          {\n            "label": "US-MI-*-Rate 1",\n            "amount": {\n              "value": 18.24\n            }\n          }\n        ]\n      }\n    }\n  }\n}\n')),(0,i.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,i.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,i.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},"cart_id")),(0,i.mdx)("td",{parentName:"tr",align:null},"String!"),(0,i.mdx)("td",{parentName:"tr",align:null},"A 32-character string that is created when you ",(0,i.mdx)("a",{parentName:"td",href:"../mutations/create-empty-cart.md"},"create a cart"))))),(0,i.mdx)("h2",{id:"errors"},"Errors"),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:null},"Error"),(0,i.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},'Could not find a cart with ID \\"xxxxx\\"')),(0,i.mdx)("td",{parentName:"tr",align:null},"The ID provided in the ",(0,i.mdx)("inlineCode",{parentName:"td"},"cart_id")," field is invalid or the cart does not exist for the customer.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},"The cart isn't active")),(0,i.mdx)("td",{parentName:"tr",align:null},"The cart with the specified cart ID is unavailable, because the items have been purchased and the cart ID becomes inactive.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},"Field cart.cart_id of required type String! was not provided")),(0,i.mdx)("td",{parentName:"tr",align:null},"The value specified in the ",(0,i.mdx)("inlineCode",{parentName:"td"},"cart.cart_id")," argument is empty.")))),(0,i.mdx)("h2",{id:"related-topics"},"Related topics"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"../mutations/create-empty-cart.md"},"createEmptyCart mutation")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"../mutations/add-simple-products.md"},"addSimpleProductsToCart mutation")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"../mutations/set-shipping-address.md"},"setShippingAddressesOnCart mutation")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"../mutations/set-shipping-method.md"},"setShippingMethodsOnCart mutation")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"../mutations/set-billing-address.md"},"setBillingAddressOnCart mutation")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("a",{parentName:"li",href:"../mutations/set-payment-method.md"},"setPaymentMethodOnCart mutation"))))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-cart-queries-cart-md-686afcf13ab3b3160e82.js.map
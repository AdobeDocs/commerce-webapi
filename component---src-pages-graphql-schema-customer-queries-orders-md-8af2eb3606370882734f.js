"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[9620],{87140:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return o},default:function(){return x}});var a,r=n(87462),d=n(63366),m=(n(15007),n(64983)),l=n(91515),i=["components"],o={},s=(a="InlineAlert",function(e){return console.warn("Component "+a+" was not imported, exported, or provided by MDXProvider as global scope"),(0,m.mdx)("div",e)}),p={_frontmatter:o},u=l.Z;function x(e){var t=e.components,n=(0,d.Z)(e,i);return(0,m.mdx)(u,(0,r.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,m.mdx)("h1",{id:"customerorders-query"},"customerOrders query"),(0,m.mdx)(s,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"customerOrders")," query has been deprecated. Specify the ",(0,m.mdx)("inlineCode",{parentName:"p"},"orders")," object in the ",(0,m.mdx)("a",{parentName:"p",href:"../../customer/queries/customer.md"},(0,m.mdx)("inlineCode",{parentName:"a"},"customer"))," query instead."),(0,m.mdx)("p",null,"The Sales module performs a wide variety of functions, including order, invoice, and shipment management. However, most of these functions are performed on the backend, and the customer does not have access to this information. By returning a list of customer orders, the ",(0,m.mdx)("inlineCode",{parentName:"p"},"customerOrders")," query allows a customer to retrieve their order histories."),(0,m.mdx)("p",null,"We recommend you use customer tokens in the header of your GraphQL calls. However, you also can use ",(0,m.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/commerce/webapi/get-started/authentication/gs-authentication-session"},"session authentication"),"."),(0,m.mdx)("h2",{id:"syntax"},"Syntax"),(0,m.mdx)("p",null,(0,m.mdx)("inlineCode",{parentName:"p"},"{customerOrders {CustomerOrders}}")),(0,m.mdx)("h2",{id:"example-usage"},"Example usage"),(0,m.mdx)("p",null,"The following query returns the order history of the logged in customer."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Request:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-graphql"},"{\n  customerOrders {\n    items {\n      order_number\n      id\n      created_at\n      grand_total\n      status\n    }\n  }\n}\n")),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Response:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "customerOrders": {\n      "items": [\n        {\n          "order_number": "000000001",\n          "id": 1,\n          "created_at": "2019-02-21 00:24:34",\n          "grand_total": 36.39,\n          "status": "processing"\n        },\n        {\n          "order_number": "000000002",\n          "id": 2,\n          "created_at": "2019-02-21 00:24:35",\n          "grand_total": 39.64,\n          "status": "closed"\n        }\n      ]\n    }\n  }\n}\n')),(0,m.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"CustomerOrders")," object contains the ",(0,m.mdx)("inlineCode",{parentName:"p"},"items")," attribute."),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,m.mdx)("th",{parentName:"tr",align:null},"Data type"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"items")),(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("a",{parentName:"td",href:"#customerorders-query"},(0,m.mdx)("inlineCode",{parentName:"a"},"[CustomerOrder]"))),(0,m.mdx)("td",{parentName:"tr",align:null},"An array of customer orders")))),(0,m.mdx)("h3",{id:"customer-order-items-attributes"},"Customer order items attributes"),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"CustomerOrder")," object defines details about each order the customer has placed."),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,m.mdx)("th",{parentName:"tr",align:null},"Data type"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"created_at")),(0,m.mdx)("td",{parentName:"tr",align:null},"String"),(0,m.mdx)("td",{parentName:"tr",align:null},"A timestamp indicating when the order was placed")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"gift_message")),(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("a",{parentName:"td",href:"orders.md#giftmessage-object"},"GiftMessage")),(0,m.mdx)("td",{parentName:"tr",align:null},"The entered gift message for the order")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"grand_total")),(0,m.mdx)("td",{parentName:"tr",align:null},"Float"),(0,m.mdx)("td",{parentName:"tr",align:null},"The total of the order")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"id")),(0,m.mdx)("td",{parentName:"tr",align:null},"Int"),(0,m.mdx)("td",{parentName:"tr",align:null},"The ID assigned to the customer's order")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"increment_id")),(0,m.mdx)("td",{parentName:"tr",align:null},"String"),(0,m.mdx)("td",{parentName:"tr",align:null},"Deprecated. Use ",(0,m.mdx)("inlineCode",{parentName:"td"},"order_number")," instead. An ID that indicates the sequence of the order in the customer's order history")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"order_number")),(0,m.mdx)("td",{parentName:"tr",align:null},"String!"),(0,m.mdx)("td",{parentName:"tr",align:null},"The order number assigned to the order")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"status")),(0,m.mdx)("td",{parentName:"tr",align:null},"String"),(0,m.mdx)("td",{parentName:"tr",align:null},"The status of the order, such as ",(0,m.mdx)("inlineCode",{parentName:"td"},"open"),", ",(0,m.mdx)("inlineCode",{parentName:"td"},"processing"),", or ",(0,m.mdx)("inlineCode",{parentName:"td"},"closed"))))),(0,m.mdx)("h4",{id:"giftmessage-object"},"GiftMessage object"),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"GiftMessage")," object contains the following required attributes."),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,m.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"to")),(0,m.mdx)("td",{parentName:"tr",align:null},"String!"),(0,m.mdx)("td",{parentName:"tr",align:null},"Recipient name")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"from")),(0,m.mdx)("td",{parentName:"tr",align:null},"String!"),(0,m.mdx)("td",{parentName:"tr",align:null},"Sender name")),(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"message")),(0,m.mdx)("td",{parentName:"tr",align:null},"String!"),(0,m.mdx)("td",{parentName:"tr",align:null},"Gift message text")))),(0,m.mdx)("h2",{id:"errors"},"Errors"),(0,m.mdx)("table",null,(0,m.mdx)("thead",{parentName:"table"},(0,m.mdx)("tr",{parentName:"thead"},(0,m.mdx)("th",{parentName:"tr",align:null},"Error"),(0,m.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,m.mdx)("tbody",{parentName:"table"},(0,m.mdx)("tr",{parentName:"tbody"},(0,m.mdx)("td",{parentName:"tr",align:null},(0,m.mdx)("inlineCode",{parentName:"td"},"The current customer isn't authorized.")),(0,m.mdx)("td",{parentName:"tr",align:null},"The current customer is not currently logged in, or the customer's token does not exist in the ",(0,m.mdx)("inlineCode",{parentName:"td"},"oauth_token")," table.")))))}x.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-customer-queries-orders-md-8af2eb3606370882734f.js.map
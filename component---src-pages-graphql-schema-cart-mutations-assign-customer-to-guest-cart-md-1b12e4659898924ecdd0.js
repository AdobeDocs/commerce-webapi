"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[4743],{11536:function(t,e,a){a.r(e),a.d(e,{_frontmatter:function(){return s},default:function(){return x}});var n,r=a(87462),m=a(63366),d=(a(15007),a(64983)),i=a(91515),o=a(69115),l=["components"],s={},u=(n="InlineAlert",function(t){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,d.mdx)("div",t)}),p={_frontmatter:s},c=i.Z;function x(t){var e=t.components,a=(0,m.Z)(t,l);return(0,d.mdx)(c,(0,r.Z)({},p,a,{components:e,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"assigncustomertoguestcart-mutation"},"assignCustomerToGuestCart mutation"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"assignCustomerToGuestCart")," mutation merges a logged-in customer's shopping cart into the specified guest cart. The mutation inactivates the customer's shopping cart and moves the products to the guest cart. The guest cart is then assigned to the customer."),(0,d.mdx)(u,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"masked_id")," of the guest cart contains a new value. The ",(0,d.mdx)("inlineCode",{parentName:"p"},"quote_id")," remains the same."),(0,d.mdx)("p",null,"This mutation requires a valid ",(0,d.mdx)("a",{parentName:"p",href:"../../customer/mutations/generate-token.md"},"customer authentication token"),"."),(0,d.mdx)(u,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,d.mdx)("p",null,"Use the ",(0,d.mdx)("a",{parentName:"p",href:"merge.md"},"mergeCarts")," mutation to transfer the contents of a guest cart into a customer's cart."),(0,d.mdx)("h2",{id:"syntax"},"Syntax"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},"mutation {\n    assignCustomerToGuestCart(\n        cart_id: String!\n    ) {\n        Cart!\n    }\n}\n")),(0,d.mdx)("h2",{id:"example-usage"},"Example usage"),(0,d.mdx)("p",null,"In the following example, the customer and guest carts each contain one item. The mutation merges the customer's cart to the guest cart. As a result, the guest cart contains two items."),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Request:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation {\n  assignCustomerToGuestCart(\n    cart_id: "MDYKgqIdWMKr7VD1zlYwxrB7kuX8lR5s"\n  ) {\n    items {\n      quantity\n      product {\n        sku\n      }\n    }\n  }\n}\n')),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Response:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "assignCustomerToGuestCart": {\n      "items": [\n        {\n          "quantity": 1,\n          "product": {\n            "sku": "customer_item"\n          }\n        },\n        {\n          "quantity": 1,\n          "product": {\n            "sku": "guest_item"\n          }\n        }\n      ]\n    }\n  }\n}\n')),(0,d.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"cart_id")),(0,d.mdx)("td",{parentName:"tr",align:null},"String!"),(0,d.mdx)("td",{parentName:"tr",align:null},"The unique ID that identifies the guest's cart")))),(0,d.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"assignCustomerToGuestCart")," mutation returns a ",(0,d.mdx)("inlineCode",{parentName:"p"},"Cart")," object."),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,d.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"cart")),(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("a",{parentName:"td",href:"#cart-object"},"Cart!")),(0,d.mdx)("td",{parentName:"tr",align:null},"Describes the contents of the specified shopping cart")))),(0,d.mdx)("h3",{id:"cart-object"},"Cart object"),(0,d.mdx)(o.default,{mdxType:"CartObject"}),(0,d.mdx)("p",null,(0,d.mdx)("a",{parentName:"p",href:"../../cart/queries/cart.md#output-attributes"},"Cart query output")," provides more information about the ",(0,d.mdx)("inlineCode",{parentName:"p"},"Cart")," object."),(0,d.mdx)("h2",{id:"errors"},"Errors"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Error"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"The current customer isn't authorized.")),(0,d.mdx)("td",{parentName:"tr",align:null},"The current customer is not currently logged in.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"Unable to assign the customer to the guest cart")),(0,d.mdx)("td",{parentName:"tr",align:null},"The current customer can't be assigned to the provided guest cart.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"The cart isn't active")),(0,d.mdx)("td",{parentName:"tr",align:null},"The cart with the specified cart ID is unavailable, because the items have been purchased and the cart ID becomes inactive.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},'Could not find a cart with ID "XXX"')),(0,d.mdx)("td",{parentName:"tr",align:null},"The specified ",(0,d.mdx)("inlineCode",{parentName:"td"},"cart_id")," value does not exist in the ",(0,d.mdx)("inlineCode",{parentName:"td"},"quote_id_mask")," table.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},'The current user cannot perform operations on cart "XXX"')),(0,d.mdx)("td",{parentName:"tr",align:null},"Tried to assign the customer to the customer's cart.")))))}x.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-cart-mutations-assign-customer-to-guest-cart-md-1b12e4659898924ecdd0.js.map
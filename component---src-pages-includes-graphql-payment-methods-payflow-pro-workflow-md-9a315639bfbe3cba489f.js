"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[9518],{92828:function(e,a,t){t.r(a),t.d(a,{_frontmatter:function(){return p},default:function(){return d}});var n=t(87462),o=t(63366),r=(t(15007),t(64983)),i=t(91515),m=["components"],p={},s={_frontmatter:p},l=i.Z;function d(e){var a=e.components,t=(0,o.Z)(e,m);return(0,r.mdx)(l,(0,n.Z)({},s,t,{components:a,mdxType:"MDXLayout"}),(0,r.mdx)("ol",null,(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"On the checkout page, the customer selects ",(0,r.mdx)("strong",{parentName:"p"},"Credit Card")," as the payment method and enters the credit card information as well as the billing and shipping addresses. When the customer clicks ",(0,r.mdx)("strong",{parentName:"p"},"Place Order"),", the PWA client uses the ",(0,r.mdx)("a",{parentName:"p",href:"/commerce-webapi/src/pages/graphql/schema/cart/mutations/set-payment-method.md"},(0,r.mdx)("inlineCode",{parentName:"a"},"setPaymentMethodOnCart"))," mutation to set the payment method to ",(0,r.mdx)("inlineCode",{parentName:"p"},"payflowpro"),".")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"The mutation returns a ",(0,r.mdx)("inlineCode",{parentName:"p"},"Cart")," object.")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"The client runs the ",(0,r.mdx)("a",{parentName:"p",href:"/commerce-webapi/src/pages/graphql/schema/checkout/mutations/create-payflow-pro-token.md"},(0,r.mdx)("inlineCode",{parentName:"a"},"createPayflowProToken"))," mutation to initiate a transaction.")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"The application requests a secure token from the PayPal gateway. The request also contains billing and shipping information, which the application extracts from the ",(0,r.mdx)("inlineCode",{parentName:"p"},"Cart")," object.")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"The gateway response includes a secure token, a secure token ID, and result codes and descriptions.")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"The application returns the secure token, a secure token ID, and result codes and descriptions in response to the ",(0,r.mdx)("inlineCode",{parentName:"p"},"createPayflowProToken")," mutation.")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"The client uses a hidden iframe to send a silent post request directly to the PayPal gateway for account verification. For live requests, send the silent post to ",(0,r.mdx)("inlineCode",{parentName:"p"},"https://payflowlink.paypal.com"),". Send test requests to ",(0,r.mdx)("inlineCode",{parentName:"p"},"https://pilot-payflowlink.paypal.com"),".")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"The gateway responds directly to the client. The response contains a payload that includes secure token information and billing and shipping information.")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"The client uses the ",(0,r.mdx)("a",{parentName:"p",href:"/commerce-webapi/src/pages/graphql/schema/checkout/mutations/handle-payflow-pro-response.md"},(0,r.mdx)("inlineCode",{parentName:"a"},"handlePayflowProResponse"))," mutation to send the payload to the applicaion. The application stores this information without modifying the cart.")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"The mutation returns a ",(0,r.mdx)("inlineCode",{parentName:"p"},"Cart")," object.")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"The client runs the ",(0,r.mdx)("a",{parentName:"p",href:"/commerce-webapi/src/pages/graphql/schema/cart/mutations/place-order.md"},(0,r.mdx)("inlineCode",{parentName:"a"},"placeOrder"))," mutation, which creates an order and begins the authorization process.")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"The application sends an authorization request to the gateway.")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"The gateway sends the response to Magento.")),(0,r.mdx)("li",{parentName:"ol"},(0,r.mdx)("p",{parentName:"li"},"The application creates an order and sends an order ID in response to the ",(0,r.mdx)("inlineCode",{parentName:"p"},"placeOrder")," mutation."))))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-includes-graphql-payment-methods-payflow-pro-workflow-md-9a315639bfbe3cba489f.js.map
"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[9703],{70543:function(e,a,t){t.r(a),t.d(a,{_frontmatter:function(){return m},default:function(){return p}});var n=t(87462),o=t(63366),r=(t(15007),t(64983)),i=t(91515),s=["components"],m={},c={_frontmatter:m},d=i.Z;function p(e){var a=e.components,t=(0,o.Z)(e,s);return(0,r.mdx)(d,(0,n.Z)({},c,t,{components:a,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"inventory-management"},"Inventory Management"),(0,r.mdx)("p",null,"Magento Open Source and Adobe Commerce v2.3 include new and expanded features and APIs for inventory management. Inventory Management replaces all core APIs in the Open Source ",(0,r.mdx)("inlineCode",{parentName:"p"},"CatalogInventory")," module and the ",(0,r.mdx)("inlineCode",{parentName:"p"},"ScalableInventory")," module in Commerce. It also provides additional APIs to extend and add functionality."),(0,r.mdx)("p",null,"Inventory Management features include:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},"Different configurations for merchants whose inventory originates from a single source and from multiple sources"),(0,r.mdx)("li",{parentName:"ul"},"Stocks for tracking available aggregated quantities through assigned sources"),(0,r.mdx)("li",{parentName:"ul"},"Concurrent checkout protection"),(0,r.mdx)("li",{parentName:"ul"},"Shipment matching algorithms")),(0,r.mdx)("p",null,"Merchants install Inventory Management as part of v2.3.x and upgrades with the name ",(0,r.mdx)("inlineCode",{parentName:"p"},"magento/inventory-composer-metapackage"),". For details, see ",(0,r.mdx)("a",{parentName:"p",href:"https://experienceleague.adobe.com/docs/commerce-admin/inventory/get-started/install-update.html"},"Install and Update Inventory Management"),"."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Magento Community Contribution")," – Adobe thanks the many contributors to the ",(0,r.mdx)("a",{parentName:"p",href:"https://github.com/magento/inventory"},"Magento Inventory (was MSI) project"),", developing these features as part of the Magento Community Engineering program."),(0,r.mdx)("h2",{id:"terminology"},"Terminology"),(0,r.mdx)("p",null,"The following terms are important as you work with Inventory Management APIs:"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("strong",{parentName:"p"},"Sources")," represent physical locations that store and ship available products. These locations can include warehouses, brick-and-mortar stores, distribution centers, and drop shippers. (Any location can be designated as a source for virtual products.)")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("strong",{parentName:"p"},"Stocks")," map a sales channel (currently limited to websites) to source locations and on-hand inventory. A stock can map to multiple sales channels, but a sales channel can be assigned to only one stock.")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("strong",{parentName:"p"},"Aggregate Salable Quantity")," is the total virtual inventory that can be sold through a sales channel. The amount is calculated across all sources assigned to a stock.")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("strong",{parentName:"p"},"Reservations")," track deductions from the salable quantity as customers add products to carts and complete checkout. When an order ships, the reservation clears and deducts the shipped amounts from specific source inventory quantities."))),(0,r.mdx)("h2",{id:"a-simple-scenario"},"A simple scenario"),(0,r.mdx)("p",null,"The following diagram illustrates the relationship between source stocks, aggregate stocks, and sales channels:"),(0,r.mdx)("p",null,(0,r.mdx)("span",{parentName:"p",className:"gatsby-resp-image-wrapper",style:{position:"relative",display:"block",marginLeft:"auto",marginRight:"auto",maxWidth:"656px"}},"\n      ",(0,r.mdx)("span",{parentName:"span",className:"gatsby-resp-image-background-image",style:{paddingBottom:"76.875%",position:"relative",bottom:"0",left:"0",display:"block",transition:"opacity 0.5s 0.5s",pointerEvents:"none"}}),"\n  ",(0,r.mdx)("picture",{parentName:"span"},"\n          ",(0,r.mdx)("source",{parentName:"picture",srcSet:["/commerce-webapi/static/d4771f062f13343a2f61ec3cb6fc79d9/5530d/inventory-diagram-stock.webp 320w","/commerce-webapi/static/d4771f062f13343a2f61ec3cb6fc79d9/0c8fb/inventory-diagram-stock.webp 640w","/commerce-webapi/static/d4771f062f13343a2f61ec3cb6fc79d9/0ccf2/inventory-diagram-stock.webp 656w"],sizes:"(max-width: 656px) 100vw, 656px",type:"image/webp"}),"\n          ",(0,r.mdx)("source",{parentName:"picture",srcSet:["/commerce-webapi/static/d4771f062f13343a2f61ec3cb6fc79d9/dd4a7/inventory-diagram-stock.png 320w","/commerce-webapi/static/d4771f062f13343a2f61ec3cb6fc79d9/0f09e/inventory-diagram-stock.png 640w","/commerce-webapi/static/d4771f062f13343a2f61ec3cb6fc79d9/5ad6b/inventory-diagram-stock.png 656w"],sizes:"(max-width: 656px) 100vw, 656px",type:"image/png"}),"\n          ",(0,r.mdx)("img",{parentName:"picture",className:"gatsby-resp-image-image",src:"/commerce-webapi/static/d4771f062f13343a2f61ec3cb6fc79d9/5ad6b/inventory-diagram-stock.png",alt:"Source and aggregate stock",title:"Source and aggregate stock",loading:"lazy",style:{width:"100%",height:"100%",margin:"0",verticalAlign:"middle",position:"absolute",opacity:"0",transition:"opacity 0.5s",color:"inherit",boxShadow:"inset 0px 0px 0px 400px none",top:"0",left:"0"}}),"\n        "),"\n    ")),(0,r.mdx)("p",null,"In this diagram, a bicycle merchant has inventory for a mountain bike in two warehouses and a drop shipper. He has two stocks with configured website sales channels and sources. When a customer shops through the UK website, Magento aggregates bike inventory from the UK warehouse and the drop shipper sources, for a salable quantity of 95. The bike can be shipped from either the warehouse or the drop shipper, but not the NY warehouse. Amazon Marketplace has the same stock, drawing from the same aggregate stock as the UK website."),(0,r.mdx)("h2",{id:"important-inventory-management-objects"},"Important Inventory Management objects"),(0,r.mdx)("ul",null,(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("inlineCode",{parentName:"p"},"Source")," – Defines a physical stock.")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("inlineCode",{parentName:"p"},"SourceItem")," – A relation object that represents the amount of a specific product at a physical source. We use this entity for updating inventory on each source. Quantities might change as a result of synchronizing with an external Product Information Management (PIM) or Enterprise Resource Planning (ERP) system, or internally as a stock deduction during the checkout process. A ",(0,r.mdx)("inlineCode",{parentName:"p"},"SourceItem")," cannot be used for retrieving data that must be rendered on front-end, because only aggregated data should be used for all validations and UI representation.")),(0,r.mdx)("li",{parentName:"ul"},(0,r.mdx)("p",{parentName:"li"},(0,r.mdx)("inlineCode",{parentName:"p"},"StockItem")," – Also known as Aggregated Virtual Stock. This is read-only data that the re-indexation process generates. Based on a pre-defined mapping, we define what sources are assigned to the current scope (sales channel) and aggregate quantities from all assigned sources. We also use ",(0,r.mdx)("inlineCode",{parentName:"p"},"StockItem")," to check if a product is in or out of stock.  Making this segregation by Read-Only interface (",(0,r.mdx)("inlineCode",{parentName:"p"},"StockItem"),") and Write-Only interface (",(0,r.mdx)("inlineCode",{parentName:"p"},"SourceItem"),"), the Inventory architecture achieves Command Query Responsibility Segregation (CQRS). As a result, all ",(0,r.mdx)("inlineCode",{parentName:"p"},"GET")," HTTP requests should use ",(0,r.mdx)("inlineCode",{parentName:"p"},"StockItem")," entity, and all ",(0,r.mdx)("inlineCode",{parentName:"p"},"POST/PUT")," should use ",(0,r.mdx)("inlineCode",{parentName:"p"},"SourceItem"),"."))),(0,r.mdx)("h2",{id:"shipping-algorithms"},"Shipping algorithms"),(0,r.mdx)("p",null,"When merchants are ready to make a partial or full shipment, they select the source or sources from which to send the products. Customers typically want low-cost shipping and a guarantee of safe arrival of products, while the merchant needs to ensure minimal overhead for the inventory storage and shipping costs. Inventory Management includes an algorithm that takes these considerations into account and recommends the best shipping option or options. The application provides an algorithm for Priority, using the source priority per stock, where each source is given a priority in the scope of a specific sales channel, and for Distance, using the locations of sources and shipping destinations. Invenotry Management also supports developer-provided extensions for other algorithms based on criteria such as cheapest shipping and closest GPS location."))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-rest-inventory-index-md-90a4b3f10ac35aae84ef.js.map
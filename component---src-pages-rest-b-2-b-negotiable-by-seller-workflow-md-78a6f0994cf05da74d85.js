"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[6552],{13738:function(e,t,a){a.r(t),a.d(t,{_frontmatter:function(){return s},default:function(){return h}});var n,o=a(87462),d=a(63366),l=(a(15007),a(64983)),r=a(91515),m=a(8673),i=a(767),p=["components"],s={},u=(n="CodeBlock",function(e){return console.warn("Component "+n+" was not imported, exported, or provided by MDXProvider as global scope"),(0,l.mdx)("div",e)}),c={_frontmatter:s},x=r.Z;function h(e){var t=e.components,a=(0,d.Z)(e,p);return(0,l.mdx)(x,(0,o.Z)({},c,a,{components:t,mdxType:"MDXLayout"}),(0,l.mdx)("h1",{id:"initiate-a-negotiable-quote-order-by-seller"},"Initiate a negotiable quote order by seller"),(0,l.mdx)("p",null,"This topic describes how a seller can use REST calls to create a negotiable quote for a specific buyer in Draft state, add products to the quote, update quote data such as name and expiration date, and apply a discount."),(0,l.mdx)(i.default,{mdxType:"BetaNote"}),(0,l.mdx)("h2",{id:"prerequisites"},"Prerequisites"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},"You have ",(0,l.mdx)("a",{parentName:"li",href:"https://experienceleague.adobe.com/docs/commerce-admin/b2b/install.html"},"installed and enabled")," ",(0,l.mdx)(m.sitedatavarb2b,null),"."),(0,l.mdx)("li",{parentName:"ul"},"You have ",(0,l.mdx)("a",{parentName:"li",href:"company-object.md"},"created a company"),"."),(0,l.mdx)("li",{parentName:"ul"},"You have an integration or ",(0,l.mdx)("a",{parentName:"li",href:"https://developer.adobe.com/commerce/webapi/rest/tutorials/orders/order-admin-token.html"},"admin authorization token")," to make calls on behalf of seller")),(0,l.mdx)("h2",{id:"create-a-negotiable-quote"},"Create a negotiable quote"),(0,l.mdx)("p",null,"The following example shows the API request workflow for a seller to complete the following tasks:"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},"Initiate a negotiable quote for a company buyer by creating an empty draft quote"),(0,l.mdx)("li",{parentName:"ul"},"Update the draft quote to add items and modify the quote name"),(0,l.mdx)("li",{parentName:"ul"},"Apply a discount to the quote"),(0,l.mdx)("li",{parentName:"ul"},"Send the quote to the buyer for review")),(0,l.mdx)("h3",{id:"initiate-a-negotiable-quote"},"Initiate a negotiable quote"),(0,l.mdx)("p",null,"The seller initiates a negotiable quote by creating a quote for a company buyer."),(0,l.mdx)("p",null,"The new quote is empty with a ",(0,l.mdx)("inlineCode",{parentName:"p"},"draft_by_admin")," system state. In the interface, the quote has a ",(0,l.mdx)("inlineCode",{parentName:"p"},"Draft")," status and is visible only to the seller."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Endpoint:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"POST <host>/rest/default/V1/negotiableQuote/draft")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Headers:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-txt"},"Content-Type application/json\nAuthorization Bearer <admin token>\n")),(0,l.mdx)(u,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,l.mdx)("h4",{id:"payload"},"Payload"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "customerId": 5\n}\n')),(0,l.mdx)("h4",{id:"response"},"Response"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},"`31` // An integer indicating the new quoteId\n")),(0,l.mdx)("h3",{id:"update-negotiable-quote"},"Update negotiable quote"),(0,l.mdx)("p",null,"The seller can now update the quote to add products, and optionally change the negotiable quote name."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Headers:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-txt"},"Content-Type application/json\nAuthorization Bearer <admin token>\n")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Endpoint:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"PUT /V1/negotiableQuote/31")),(0,l.mdx)(u,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,l.mdx)("h4",{id:"payload-1"},"Payload"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "quote": {\n    "id": 31,\n    "items": [\n      {\n        "sku": "24-UG02",\n        "qty": 1\n      },\n      {\n        "sku": "24-MB01",\n        "qty": 100\n      }\n    ],\n    "extension_attributes": {\n      "negotiable_quote": {\n        "quote_name": "5% for bags"\n      }\n    }\n  }\n}\n')),(0,l.mdx)("h4",{id:"response-1"},"Response"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},"// an empty array\n")),(0,l.mdx)("h3",{id:"adjust-the-negotiable-quote"},"Adjust the negotiable quote"),(0,l.mdx)("p",null,"The seller updates the quote to provide a 5% discount that applies to the entire quote. The ",(0,l.mdx)("inlineCode",{parentName:"p"},"negotiated_price_type")," value of ",(0,l.mdx)("inlineCode",{parentName:"p"},"1")," indicates a percentage discount."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Headers:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-txt"},"Content-Type application/json\nAuthorization Bearer <admin token>\n")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Endpoint:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"PUT /V1/negotiableQuote/31")),(0,l.mdx)(u,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,l.mdx)("h4",{id:"payload-2"},"Payload"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "quote": {\n      "id": 31,\n      "extension_attributes": {\n        "negotiable_quote": {\n         "negotiated_price_type": 1,\n          "negotiated_price_value": 5\n        }\n      }\n    }\n}\n')),(0,l.mdx)("h4",{id:"response-2"},"Response"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},"// an empty array\n")),(0,l.mdx)("h3",{id:"recalculate-prices"},"Recalculate prices"),(0,l.mdx)("p",null,"Before sending the quote to the buyer, the seller recalculates the prices to reflect the discount."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Headers:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-txt"},"Content-Type application/json\nAuthorization Bearer <admin token>\n")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Endpoint:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"POST /V1/negotiableQuote/pricesUpdated")),(0,l.mdx)(u,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,l.mdx)("h4",{id:"payload-3"},"Payload"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "quoteIds": [31]\n}\n')),(0,l.mdx)("h4",{id:"response-3"},"Response"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},"`true` // indicating the request was successful\n")),(0,l.mdx)("h3",{id:"send-the-negotiable-quote-to-the-buyer"},"Send the negotiable quote to the buyer"),(0,l.mdx)("p",null,"After completing updates to the quote, the seller can submit the quote to the buyer for review, including any relevant comments. Then, the buyer can either accept the offer and begin the checkout process, or request further negotiations."),(0,l.mdx)("p",null,"This call places the quote in the ",(0,l.mdx)("inlineCode",{parentName:"p"},"submitted_by_admin")," state. In the interface, the buyer quote status is ",(0,l.mdx)("inlineCode",{parentName:"p"},"Updated"),". The seller quote status is ",(0,l.mdx)("inlineCode",{parentName:"p"},"Submitted"),". At this point, the quote is locked and can be updated only by the buyer."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Headers:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-txt"},"Content-Type application/json\nAuthorization Bearer <admin token>\n")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Endpoint:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"POST /V1/negotiableQuote/submitToCustomer")),(0,l.mdx)(u,{slots:"heading, code",repeat:"2",languages:"JSON, JSON",mdxType:"CodeBlock"}),(0,l.mdx)("h4",{id:"payload-4"},"Payload"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "quoteId": 31,\n  "comment": "We have provided a 5% discount to your order."\n}\n')),(0,l.mdx)("h4",{id:"response-4"},"Response"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},"`true` // indicating the request was successful\n")),(0,l.mdx)("h2",{id:"related-information"},"Related information"),(0,l.mdx)("ul",null,(0,l.mdx)("li",{parentName:"ul"},(0,l.mdx)("a",{parentName:"li",href:"negotiable-order-workflow.md"},"Negotiable quote order")),(0,l.mdx)("li",{parentName:"ul"},(0,l.mdx)("a",{parentName:"li",href:"../tutorials/orders/index.md"},"Order processing tutorial"))))}h.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-rest-b-2-b-negotiable-by-seller-workflow-md-78a6f0994cf05da74d85.js.map
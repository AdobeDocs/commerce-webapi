"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[4301],{93982:function(n,e,a){a.r(e),a.d(e,{_frontmatter:function(){return i},default:function(){return d}});var t=a(87462),r=a(63366),m=(a(15007),a(64983)),c=a(91515),o=a(34445),l=["components"],i={},u={_frontmatter:i},p=c.Z;function d(n){var e=n.components,a=(0,r.Z)(n,l);return(0,m.mdx)(p,(0,t.Z)({},u,a,{components:e,mdxType:"MDXLayout"}),(0,m.mdx)("h1",{id:"company-query"},"company query"),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"company")," query returns details about the user's company. The request must include the customer token of a company user."),(0,m.mdx)("p",null,"A company structure can contain multiple levels of teams, with company users assigned at each level. To query on a company structure, specify fragments on the ",(0,m.mdx)("inlineCode",{parentName:"p"},"Customer")," and ",(0,m.mdx)("inlineCode",{parentName:"p"},"CompanyTeam")," objects. The application returns a ",(0,m.mdx)("a",{parentName:"p",href:"https://graphql.org/learn/schema/#union-types"},"union")," of these objects. Specify the ",(0,m.mdx)("inlineCode",{parentName:"p"},"__typename")," attribute to distinguish the object types in the response."),(0,m.mdx)("h2",{id:"syntax"},"Syntax"),(0,m.mdx)("p",null,(0,m.mdx)("inlineCode",{parentName:"p"},"{company: {Company}}")),(0,m.mdx)("h2",{id:"example-usage"},"Example usage"),(0,m.mdx)("h3",{id:"return-information-about-a-newly-created-company"},"Return information about a newly-created company"),(0,m.mdx)("p",null,"The following call returns basic information about the customer's company."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Request:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-graphql"},"query{\n  company{\n    company_admin {\n      firstname\n      lastname\n      email\n    }\n    email\n    id\n    legal_address {\n      street\n       city\n      region {\n        region_id\n        region_code\n      }\n      postcode\n      country_code\n      telephone\n    }\n    legal_name\n    name\n  }\n}\n")),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Response:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "company": {\n      "company_admin": {\n        "firstname": "Taina",\n        "lastname": "Garofalo",\n        "email": "tgarofalo@example.com"\n      },\n      "email": "tgarofalo@example.com",\n      "id": "MQ==",\n      "legal_address": {\n        "street": [\n          "265 Cambridge Ave"\n        ],\n        "city": "Palo Alto",\n        "region": {\n          "region_id": 12,\n          "region_code": "CA"\n        },\n        "postcode": "94306",\n        "country_code": "US",\n        "telephone": "555 867-5309"\n      },\n      "legal_name": "TestCo Inc.",\n      "name": "TestCo"\n    }\n  }\n}\n')),(0,m.mdx)("h3",{id:"return-the-company-structure"},"Return the company structure"),(0,m.mdx)("p",null,"The following query returns the customer's company structure."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Request:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-graphql"},"query{\n  company{\n    id\n    name\n    structure{\n      items {\n        entity {\n          __typename\n          ... on Customer {\n            firstname\n            lastname\n            email\n          }\n          ... on CompanyTeam {\n            name\n            description\n            id\n          }\n        }\n      }\n    }\n  }\n}\n")),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Response:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "company": {\n      "id": "Ng==",\n      "name": "TestCo2",\n      "structure": {\n        "items": [\n          {\n            "entity": {\n              "__typename": "Customer",\n              "firstname": "Taina",\n              "lastname": "Garofalo",\n              "email": "donadmin@example.com"\n            }\n          },\n          {\n            "entity": {\n              "__typename": "CompanyTeam",\n              "name": "Y Team",\n              "description": "Y Team description",\n              "id": "Ng=="\n            }\n          },\n          {\n            "entity": {\n              "__typename": "Customer",\n              "firstname": "B",\n              "lastname": "BB",\n              "email": "bbb@example.com"\n            }\n          },\n          {\n            "entity": {\n              "__typename": "CompanyTeam",\n              "name": "X team",\n              "description": "X team description",\n              "id": "Nw=="\n            }\n          },\n          {\n            "entity": {\n              "__typename": "Customer",\n              "firstname": "A",\n              "lastname": "AA",\n              "email": "aa@example.com"\n            }\n          },\n          {\n            "entity": {\n              "__typename": "CompanyTeam",\n              "name": "Z Team",\n              "description": "Z team description",\n              "id": "NQ=="\n            }\n          },\n          {\n            "entity": {\n              "__typename": "Customer",\n              "firstname": "C",\n              "lastname": "CC",\n              "email": "ccc@example.com"\n            }\n          }\n        ]\n      }\n    }\n  }\n}\n')),(0,m.mdx)("h3",{id:"return-the-company-credit-history"},"Return the company credit history"),(0,m.mdx)("p",null,"The following query returns a company's current company credit balance as well as a record of all company credit events."),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Request:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-graphql"},"query{\n  company{\n    name\n    id\n    credit {\n      available_credit {\n        value\n        currency\n      }\n      credit_limit {\n        value\n        currency\n      }\n      outstanding_balance {\n        value\n        currency\n      }\n    }\n    credit_history{\n      items {\n        date\n        type\n        amount {\n          value\n          currency\n        }\n        balance {\n          outstanding_balance {\n            value\n            currency\n          }\n          available_credit {\n            value\n            currency\n          }\n          credit_limit {\n            value\n            currency\n          }\n        }\n      }\n    }\n\n    payment_methods\n\n  }\n}\n")),(0,m.mdx)("p",null,(0,m.mdx)("strong",{parentName:"p"},"Response:")),(0,m.mdx)("pre",null,(0,m.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "company": {\n      "name": "TestCo",\n      "id": "MQ==",\n      "credit": {\n        "available_credit": {\n          "value": 436,\n          "currency": "USD"\n        },\n        "credit_limit": {\n          "value": 500,\n          "currency": "USD"\n        },\n        "outstanding_balance": {\n          "value": -64,\n          "currency": "USD"\n        }\n      },\n      "credit_history": {\n        "items": [\n          {\n            "date": "2020-12-02 16:38:11",\n            "type": "ALLOCATION",\n            "amount": {\n              "value": 0,\n              "currency": "USD"\n            },\n            "balance": {\n              "outstanding_balance": {\n                "value": 0,\n                "currency": "USD"\n              },\n              "available_credit": {\n                "value": 500,\n                "currency": "USD"\n              },\n              "credit_limit": {\n                "value": 500,\n                "currency": "USD"\n              }\n            }\n          },\n          {\n            "date": "2020-12-02 17:05:12",\n            "type": "PURCHASE",\n            "amount": {\n              "value": -192,\n              "currency": "USD"\n            },\n            "balance": {\n              "outstanding_balance": {\n                "value": -192,\n                "currency": "USD"\n              },\n              "available_credit": {\n                "value": 308,\n                "currency": "USD"\n              },\n              "credit_limit": {\n                "value": 500,\n                "currency": "USD"\n              }\n            }\n          },\n          {\n            "date": "2020-12-02 17:27:57",\n            "type": "PURCHASE",\n            "amount": {\n              "value": -64,\n              "currency": "USD"\n            },\n            "balance": {\n              "outstanding_balance": {\n                "value": -256,\n                "currency": "USD"\n              },\n              "available_credit": {\n                "value": 244,\n                "currency": "USD"\n              },\n              "credit_limit": {\n                "value": 500,\n                "currency": "USD"\n              }\n            }\n          },\n          {\n            "date": "2020-12-02 17:35:47",\n            "type": "REIMBURSEMENT",\n            "amount": {\n              "value": 192,\n              "currency": "USD"\n            },\n            "balance": {\n              "outstanding_balance": {\n                "value": -64,\n                "currency": "USD"\n              },\n              "available_credit": {\n                "value": 436,\n                "currency": "USD"\n              },\n              "credit_limit": {\n                "value": 500,\n                "currency": "USD"\n              }\n            }\n          }\n        ]\n      },\n      "payment_methods": []\n    }\n  }\n}\n')),(0,m.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,m.mdx)("p",null,"The ",(0,m.mdx)("inlineCode",{parentName:"p"},"company")," object returns the ",(0,m.mdx)("inlineCode",{parentName:"p"},"Company")," object."),(0,m.mdx)(o.Z,{mdxType:"Company"}))}d.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-b-2-b-company-queries-company-md-bd2c7245a4efb18e0507.js.map
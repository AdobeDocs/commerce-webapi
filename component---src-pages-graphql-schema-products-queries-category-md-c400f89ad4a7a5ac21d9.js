"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[7043],{71853:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return i},default:function(){return s}});var a,r=t(87462),d=t(63366),l=(t(15007),t(64983)),m=t(91515),o=["components"],i={},p=(a="InlineAlert",function(e){return console.warn("Component "+a+" was not imported, exported, or provided by MDXProvider as global scope"),(0,l.mdx)("div",e)}),u={_frontmatter:i},c=m.Z;function s(e){var n=e.components,t=(0,d.Z)(e,o);return(0,l.mdx)(c,(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,l.mdx)("h1",{id:"category-query"},"category query"),(0,l.mdx)(p,{variant:"warning",slots:"text",mdxType:"InlineAlert"}),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"category")," query has been deprecated. Use the ",(0,l.mdx)("a",{parentName:"p",href:"categories.md"},"categories")," query instead."),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"category")," query allows you to search for a single category definition or the entire category tree."),(0,l.mdx)(p,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,l.mdx)("p",null,"You cannot return the entire category tree if the total number of nodes in the request exceeds the value specified in the ",(0,l.mdx)("inlineCode",{parentName:"p"},"queryDepth")," attribute defined in the GraphQL ",(0,l.mdx)("inlineCode",{parentName:"p"},"di.xml")," file. By default, this value is 20. ",(0,l.mdx)("a",{parentName:"p",href:"../../../usage/security-configuration.md"},"Query security")," further describes query depths."),(0,l.mdx)("h2",{id:"syntax"},"Syntax"),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},"category (\n  id: int\n): CategoryTree\n")),(0,l.mdx)("h2",{id:"example-usage"},"Example usage"),(0,l.mdx)("h3",{id:"return-the-category-tree-of-a-top-level-category"},"Return the category tree of a top-level category"),(0,l.mdx)("p",null,"The following query returns information about category ID ",(0,l.mdx)("inlineCode",{parentName:"p"},"20")," and four levels of subcategories. In the sample data, category ID ",(0,l.mdx)("inlineCode",{parentName:"p"},"20")," is assigned to the ",(0,l.mdx)("inlineCode",{parentName:"p"},"Women")," category."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},"{\n  category(id: 20) {\n    products {\n      total_count\n      page_info {\n        current_page\n        page_size\n      }\n    }\n    children_count\n    children {\n      id\n      level\n      name\n      path\n      children {\n        id\n        level\n        name\n        path\n        children {\n          id\n          level\n          name\n          path\n          children {\n            id\n            level\n            name\n            path\n          }\n        }\n      }\n    }\n  }\n}\n")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "category": {\n      "products": {\n        "total_count": 0,\n        "page_info": {\n          "current_page": 1,\n          "page_size": 20\n        }\n      },\n      "children_count": "8",\n      "children": [\n        {\n          "id": 22,\n          "level": 3,\n          "name": "Bottoms",\n          "path": "1/2/20/22",\n          "children": [\n            {\n              "id": 27,\n              "level": 4,\n              "name": "Pants",\n              "path": "1/2/20/22/27",\n              "children": []\n            },\n            {\n              "id": 28,\n              "level": 4,\n              "name": "Shorts",\n              "path": "1/2/20/22/28",\n              "children": []\n            }\n          ]\n        },\n        {\n          "id": 21,\n          "level": 3,\n          "name": "Tops",\n          "path": "1/2/20/21",\n          "children": [\n            {\n              "id": 23,\n              "level": 4,\n              "name": "Jackets",\n              "path": "1/2/20/21/23",\n              "children": []\n            },\n            {\n              "id": 24,\n              "level": 4,\n              "name": "Hoodies & Sweatshirts",\n              "path": "1/2/20/21/24",\n              "children": []\n            },\n            {\n              "id": 25,\n              "level": 4,\n              "name": "Tees",\n              "path": "1/2/20/21/25",\n              "children": []\n            },\n            {\n              "id": 26,\n              "level": 4,\n              "name": "Bras & Tanks",\n              "path": "1/2/20/21/26",\n              "children": []\n            }\n          ]\n        }\n      ]\n    }\n  }\n}\n')),(0,l.mdx)("h3",{id:"return-breadcrumb-information"},"Return breadcrumb information"),(0,l.mdx)("p",null,"The following query returns breadcrumb information about the women's ",(0,l.mdx)("inlineCode",{parentName:"p"},"Tops")," category (",(0,l.mdx)("inlineCode",{parentName:"p"},"id")," = 25)."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},"{\n  category (\n   id: 25\n) {\n    id\n    level\n    name\n    breadcrumbs {\n      category_id\n      category_name\n      category_level\n      category_url_key\n      category_url_path\n    }\n  }\n}\n")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "category": {\n      "id": 25,\n      "level": 4,\n      "name": "Tees",\n      "breadcrumbs": [\n        {\n          "category_id": 20,\n          "category_name": "Women",\n          "category_level": 2,\n          "category_url_key": "women",\n          "category_url_path": "women"\n        },\n        {\n          "category_id": 21,\n          "category_name": "Tops",\n          "category_level": 3,\n          "category_url_key": "tops-women",\n          "category_url_path": "women/tops-women"\n        }\n      ]\n    }\n  }\n}\n')),(0,l.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,l.mdx)("th",{parentName:"tr",align:null},"Data type"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"id")),(0,l.mdx)("td",{parentName:"tr",align:null},"Int"),(0,l.mdx)("td",{parentName:"tr",align:null},"The category ID to use as the starting point of your category search")))),(0,l.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,l.mdx)("p",null,"The query returns a ",(0,l.mdx)("inlineCode",{parentName:"p"},"CategoryTree")," object, which implements ",(0,l.mdx)("a",{parentName:"p",href:"category.md"},(0,l.mdx)("inlineCode",{parentName:"a"},"CategoryInterface")),". The ",(0,l.mdx)("inlineCode",{parentName:"p"},"CategoryTree")," object can contain the following attribute, as we as all attributes defined in ",(0,l.mdx)("inlineCode",{parentName:"p"},"CategoryInterface"),":"),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,l.mdx)("th",{parentName:"tr",align:null},"Data type"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"children")),(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"CategoryTree")),(0,l.mdx)("td",{parentName:"tr",align:null},"An array containing the next level of subcategories. By default, you can specify up to 10 levels of child categories")))),(0,l.mdx)("h2",{id:"errors"},"Errors"),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Error"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"Category doesn't exist")),(0,l.mdx)("td",{parentName:"tr",align:null},"The specified category ID value does not exist.")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},'Field "category" argument "id" requires type Int, found "XXX"')),(0,l.mdx)("td",{parentName:"tr",align:null},"The specified ",(0,l.mdx)("inlineCode",{parentName:"td"},"id")," argument value has the wrong type.")))))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-products-queries-category-md-c400f89ad4a7a5ac21d9.js.map
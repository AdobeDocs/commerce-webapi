"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[7424],{18620:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return l},default:function(){return c}});var a,r=n(87462),d=n(63366),i=(n(15007),n(64983)),m=n(91515),p=["components"],l={},o=(a="CartObject",function(e){return console.warn("Component "+a+" was not imported, exported, or provided by MDXProvider as global scope"),(0,i.mdx)("div",e)}),u={_frontmatter:l},s=m.Z;function c(e){var t=e.components,n=(0,d.Z)(e,p);return(0,i.mdx)(s,(0,r.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"applyrewardpointstocart-mutation"},"applyRewardPointsToCart mutation"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"applyRewardPointsToCart")," mutation applies reward points to the customer's cart. You cannot specify a quantity of reward points. If the reward points balance is less than the cart total, the application applies the entire reward points balance. Otherwise, the application applies as many reward points needed to bring the total to 0. Fractional reward points are discarded."),(0,i.mdx)("p",null,"Use the ",(0,i.mdx)("a",{parentName:"p",href:"remove-reward-points.md"},(0,i.mdx)("inlineCode",{parentName:"a"},"removeRewardPointsFromCart")," mutation")," to undo the results of the ",(0,i.mdx)("inlineCode",{parentName:"p"},"applyRewardPointsToCart")," mutation."),(0,i.mdx)("h2",{id:"syntax"},"Syntax"),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"mutation: applyRewardPointsToCart(cartId: ID!): ApplyRewardPointsToCartOutput")),(0,i.mdx)("h2",{id:"example-usage"},"Example usage"),(0,i.mdx)("p",null,"The following example applies $5 to the cart. In this example, the exchange rate is defined as 25 reward points equals $5."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Request:")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation {\n  applyRewardPointsToCart(cartId: "8k0Q4MpH2IGahWrTRtqM61YV2MtLPApz")\n  {\n    cart {\n      items {\n        quantity\n        product {\n          sku\n          name\n          price_range {\n            maximum_price {\n              final_price {\n                currency\n                value\n              }\n            }\n          }\n        }\n      }\n      applied_reward_points {\n        money {\n          currency\n          value\n        }\n        points\n      }\n      prices {\n        grand_total {\n          currency\n          value\n        }\n        applied_taxes {\n          amount {\n            currency\n            value\n          }\n        }\n      }\n    }\n  }\n}\n')),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Response:")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "applyRewardPointsToCart": {\n      "cart": {\n        "items": [\n          {\n            "quantity": 1,\n            "product": {\n              "sku": "WJ04",\n              "name": "Ingrid Running Jacket",\n              "price_range": {\n                "maximum_price": {\n                  "final_price": {\n                    "currency": "USD",\n                    "value": 84\n                  }\n                }\n              }\n            }\n          }\n        ],\n        "applied_reward_points": {\n          "money": {\n            "currency": "USD",\n            "value": 5\n          },\n          "points": 25\n        },\n        "prices": {\n          "grand_total": {\n            "currency": "USD",\n            "value": 90.93\n          },\n          "applied_taxes": [\n            {\n              "amount": {\n                "currency": "USD",\n                "value": 6.93\n              }\n            }\n          ]\n        }\n      }\n    }\n  }\n}\n')),(0,i.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"applyRewardPointsToCart")," mutation requires the ",(0,i.mdx)("inlineCode",{parentName:"p"},"cart_id")," attribute."),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,i.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,i.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},"cart_id")),(0,i.mdx)("td",{parentName:"tr",align:null},"String!"),(0,i.mdx)("td",{parentName:"tr",align:null},"The unique ID that identifies the customer's cart")))),(0,i.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"ApplyRewardPointsToCartOutput")," object contains the ",(0,i.mdx)("inlineCode",{parentName:"p"},"Cart")," object."),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,i.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,i.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},"cart")),(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("a",{parentName:"td",href:"#cart-object"},"Cart!")),(0,i.mdx)("td",{parentName:"tr",align:null},"Describes the contents of the specified shopping cart")))),(0,i.mdx)("h3",{id:"cart-object"},"Cart object"),(0,i.mdx)("p",null," import CartObject from '/src/pages/_includes/graphql/cart-object-24.md'"),(0,i.mdx)(o,{mdxType:"CartObject"}),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"../../cart/queries/cart.md#output-attributes"},"Cart query output")," provides more information about the ",(0,i.mdx)("inlineCode",{parentName:"p"},"Cart")," object."),(0,i.mdx)("h2",{id:"errors"},"Errors"),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:null},"Error"),(0,i.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},'Required parameter "cart_id" is missing')),(0,i.mdx)("td",{parentName:"tr",align:null},"The mutation does not contain a ",(0,i.mdx)("inlineCode",{parentName:"td"},"cart_id")," argument.")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},(0,i.mdx)("inlineCode",{parentName:"td"},'Could not find a cart with ID "XXX"')),(0,i.mdx)("td",{parentName:"tr",align:null},"The specified ",(0,i.mdx)("inlineCode",{parentName:"td"},"cart_id")," value does not exist in the ",(0,i.mdx)("inlineCode",{parentName:"td"},"quote_id_mask")," table.")))))}c.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-cart-mutations-apply-reward-points-md-3f1bf164affaeff794f0.js.map
"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[4409],{47560:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return p},default:function(){return s}});var a,d=n(87462),m=n(63366),r=(n(15007),n(64983)),i=n(91515),l=["components"],p={},o=(a="InlineAlert",function(e){return console.warn("Component "+a+" was not imported, exported, or provided by MDXProvider as global scope"),(0,r.mdx)("div",e)}),x={_frontmatter:p},u=i.Z;function s(e){var t=e.components,n=(0,m.Z)(e,l);return(0,r.mdx)(u,(0,d.Z)({},x,n,{components:t,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"sendemailtofriend-mutation"},"sendEmailToFriend mutation"),(0,r.mdx)("p",null,"Use the ",(0,r.mdx)("inlineCode",{parentName:"p"},"sendEmailToFriend")," mutation to allow the application send a message on behalf of a customer to the specified email addresses."),(0,r.mdx)(o,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,r.mdx)("p",null,"The ",(0,r.mdx)("strong",{parentName:"p"},"Stores")," > ",(0,r.mdx)("strong",{parentName:"p"},"Configuration")," > ",(0,r.mdx)("strong",{parentName:"p"},"Catalog")," > ",(0,r.mdx)("strong",{parentName:"p"},"Email to a friend")," > ",(0,r.mdx)("strong",{parentName:"p"},"Enabled")," field must be set to ",(0,r.mdx)("strong",{parentName:"p"},"Yes")," to implement this mutation."),(0,r.mdx)("h2",{id:"syntax"},"Syntax"),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-graphql"},"mutation {\n  sendEmailToFriend(\n    input: SendEmailToFriendInput\n  ) {\n    SendEmailToFriendOutput\n  }\n}\n")),(0,r.mdx)("h2",{id:"example-usage"},"Example usage"),(0,r.mdx)("p",null,"The following example sends a message to two friends."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Request:")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation {\n  sendEmailToFriend(\n    input: {\n      product_id: 10\n      sender: {\n        name: "Veronica Cost"\n        email: "roni_cost@example.com"\n        message: "Sarah needs this! http://luma.example.com/savvy-shoulder-tote.html"\n      }\n      recipients: [\n        { name: "Amie Franklin", email: "afranklin@example.com" }\n        { name: "Tomoko", email: "tomoko@example.com" }\n      ]\n    }\n  ) {\n    sender {\n      name\n      email\n    }\n    recipients {\n      name\n      email\n    }\n  }\n}\n')),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Response:")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "sendEmailToFriend": {\n      "sender": {\n        "name": "Veronica Cost",\n        "email": "roni_cost@example.com",\n      },\n      "recipients": [\n        {\n          "name": "Amie Franklin",\n          "email": "afranklin@example.com"\n        },\n        {\n          "name": "Tomoko",\n          "email": "tomoko@example.com"\n        }\n      ]\n    }\n  }\n}\n')),(0,r.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"SendEmailToFriendInput")," object contains the following attributes:"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,r.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,r.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"product_id")),(0,r.mdx)("td",{parentName:"tr",align:null},"Int!"),(0,r.mdx)("td",{parentName:"tr",align:null},"The ID of the product that the customer is referencing")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"recipients")),(0,r.mdx)("td",{parentName:"tr",align:null},"[SendEmailToFriendRecipientInput]","!"),(0,r.mdx)("td",{parentName:"tr",align:null},"An array containing information about each recipient")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"sender")),(0,r.mdx)("td",{parentName:"tr",align:null},"SendEmailToFriendSenderInput!"),(0,r.mdx)("td",{parentName:"tr",align:null},"Information about the customer and the content of the message")))),(0,r.mdx)("h3",{id:"sendemailtofriendrecipientinput-object"},"SendEmailToFriendRecipientInput object"),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"SendEmailToFriendRecipientInput")," object must contain the following attributes:"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,r.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,r.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"email")),(0,r.mdx)("td",{parentName:"tr",align:null},"String!"),(0,r.mdx)("td",{parentName:"tr",align:null},"The email address of the recipient")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"name")),(0,r.mdx)("td",{parentName:"tr",align:null},"String!"),(0,r.mdx)("td",{parentName:"tr",align:null},"The name of the recipient")))),(0,r.mdx)("h3",{id:"sendemailtofriendsenderinput-object"},"SendEmailToFriendSenderInput object"),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"SendEmailToFriendSenderInput")," object must contain the following attributes:"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,r.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,r.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"email")),(0,r.mdx)("td",{parentName:"tr",align:null},"String!"),(0,r.mdx)("td",{parentName:"tr",align:null},"The email address of the sender")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"message")),(0,r.mdx)("td",{parentName:"tr",align:null},"String!"),(0,r.mdx)("td",{parentName:"tr",align:null},"The text of the message to be sent")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"name")),(0,r.mdx)("td",{parentName:"tr",align:null},"String!"),(0,r.mdx)("td",{parentName:"tr",align:null},"The name of the sender")))),(0,r.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"SendEmailToFriendOutput")," object contains the following attributes:"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,r.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,r.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"recipients")),(0,r.mdx)("td",{parentName:"tr",align:null},"[SendEmailToFriendRecipient]"),(0,r.mdx)("td",{parentName:"tr",align:null},"An array containing information about each recipient")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"sender")),(0,r.mdx)("td",{parentName:"tr",align:null},"SendEmailToFriendSender"),(0,r.mdx)("td",{parentName:"tr",align:null},"Information about the customer and the content of the message")))),(0,r.mdx)("h3",{id:"sendemailtofriendrecipient-object"},"SendEmailToFriendRecipient object"),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"SendEmailToFriendRecipientInput")," object can contain the following attributes:"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,r.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,r.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"email")),(0,r.mdx)("td",{parentName:"tr",align:null},"String"),(0,r.mdx)("td",{parentName:"tr",align:null},"The email address of the recipient")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"name")),(0,r.mdx)("td",{parentName:"tr",align:null},"String"),(0,r.mdx)("td",{parentName:"tr",align:null},"The name of the recipient")))),(0,r.mdx)("h3",{id:"sendemailtofriendsender-object"},"SendEmailToFriendSender object"),(0,r.mdx)("p",null,"The ",(0,r.mdx)("inlineCode",{parentName:"p"},"SendEmailToFriendSender")," object can contain the following attributes:"),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,r.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,r.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"email")),(0,r.mdx)("td",{parentName:"tr",align:null},"String"),(0,r.mdx)("td",{parentName:"tr",align:null},"The email address of the sender")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"message")),(0,r.mdx)("td",{parentName:"tr",align:null},"String"),(0,r.mdx)("td",{parentName:"tr",align:null},"The text of the message")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"name")),(0,r.mdx)("td",{parentName:"tr",align:null},"String"),(0,r.mdx)("td",{parentName:"tr",align:null},"The name of the sender")))),(0,r.mdx)("h2",{id:"errors"},"Errors"),(0,r.mdx)("p",null,"Some errors occur because the ",(0,r.mdx)("strong",{parentName:"p"},"Email a friend")," feature is not properly configured. Go to ",(0,r.mdx)("strong",{parentName:"p"},"Stores")," > ",(0,r.mdx)("strong",{parentName:"p"},"Configuration")," > ",(0,r.mdx)("strong",{parentName:"p"},"Catalog")," > ",(0,r.mdx)("strong",{parentName:"p"},"Email to a friend")," in the Admin to adjust the settings."),(0,r.mdx)("table",null,(0,r.mdx)("thead",{parentName:"table"},(0,r.mdx)("tr",{parentName:"thead"},(0,r.mdx)("th",{parentName:"tr",align:null},"Error"),(0,r.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,r.mdx)("tbody",{parentName:"table"},(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},'"Email to a Friend" is not enabled.')),(0,r.mdx)("td",{parentName:"tr",align:null},'"Email to a Friend" is disabled.  To activate it, use the Admin to set the ',(0,r.mdx)("strong",{parentName:"td"},"Enabled")," field to ",(0,r.mdx)("strong",{parentName:"td"},"Yes"),".")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"Please provide Name of sender.")),(0,r.mdx)("td",{parentName:"tr",align:null},"The value specified in the ",(0,r.mdx)("inlineCode",{parentName:"td"},"input"),".",(0,r.mdx)("inlineCode",{parentName:"td"},"sender"),".",(0,r.mdx)("inlineCode",{parentName:"td"},"name")," argument is empty.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"Please provide Email of sender.")),(0,r.mdx)("td",{parentName:"tr",align:null},"The value specified in the ",(0,r.mdx)("inlineCode",{parentName:"td"},"input"),".",(0,r.mdx)("inlineCode",{parentName:"td"},"sender"),".",(0,r.mdx)("inlineCode",{parentName:"td"},"email")," argument is empty.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"Please provide Message.")),(0,r.mdx)("td",{parentName:"tr",align:null},"The value specified in the ",(0,r.mdx)("inlineCode",{parentName:"td"},"input"),".",(0,r.mdx)("inlineCode",{parentName:"td"},"sender"),".",(0,r.mdx)("inlineCode",{parentName:"td"},"message")," argument is empty.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"Please provide Name for all of recipients.")),(0,r.mdx)("td",{parentName:"tr",align:null},"The value specified in the ",(0,r.mdx)("inlineCode",{parentName:"td"},"input"),".",(0,r.mdx)("inlineCode",{parentName:"td"},"recipients"),"[].",(0,r.mdx)("inlineCode",{parentName:"td"},"name")," argument is empty.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"Please provide Email for all of recipients.")),(0,r.mdx)("td",{parentName:"tr",align:null},"The value specified in the ",(0,r.mdx)("inlineCode",{parentName:"td"},"input"),".",(0,r.mdx)("inlineCode",{parentName:"td"},"recipients"),"[].",(0,r.mdx)("inlineCode",{parentName:"td"},"email")," argument is empty.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"The current customer isn't authorized.")),(0,r.mdx)("td",{parentName:"tr",align:null},'"Email to a Friend" is available for registered users only. To make it available for guests, use the Admin to set the  ',(0,r.mdx)("strong",{parentName:"td"},"Allow for Guests")," option to ",(0,r.mdx)("strong",{parentName:"td"},"Yes"),".")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"The product that was requested doesn't exist. Verify the product and try again.")),(0,r.mdx)("td",{parentName:"tr",align:null},"The product specified in the ",(0,r.mdx)("inlineCode",{parentName:"td"},"product_id")," argument is not visible in the current website.")),(0,r.mdx)("tr",{parentName:"tbody"},(0,r.mdx)("td",{parentName:"tr",align:null},(0,r.mdx)("inlineCode",{parentName:"td"},"You can't send messages more than XXX times an hour.")),(0,r.mdx)("td",{parentName:"tr",align:null},"The user cannot send more messages in an hour than specified in the  ",(0,r.mdx)("strong",{parentName:"td"},"Max Products Sent in 1 Hour")," option in the Admin.")))))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-customer-mutations-send-email-to-friend-md-39cace69fd319e8f9586.js.map
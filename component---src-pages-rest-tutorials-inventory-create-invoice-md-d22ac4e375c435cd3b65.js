"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[3904],{44533:function(n,e,t){t.r(e),t.d(e,{_frontmatter:function(){return m},default:function(){return _}});var a=t(87462),o=t(63366),i=(t(15007),t(64983)),r=t(91515),p=["components"],m={},d={_frontmatter:m},s=r.Z;function _(n){var e=n.components,t=(0,o.Z)(n,p);return(0,i.mdx)(s,(0,a.Z)({},d,t,{components:e,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"step-10-create-an-invoice"},"Step 10. Create an invoice"),(0,i.mdx)("p",null,"You create an invoice after you receive payment for an order. In this example, the order was paid offline via a bank transfer. Therefore, you must tell Adobe Commerce that payment for the order has been captured."),(0,i.mdx)("p",null,"After you submit the invoice, Commerce adjusts the Quantity per Source value for non-physical products."),(0,i.mdx)("h2",{id:"capture-payment"},"Capture payment"),(0,i.mdx)("p",null,"This example creates a full invoice."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Endpoint:")),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"POST <host>/rest/default/V1/order/3/invoice")),(0,i.mdx)("p",null,"where ",(0,i.mdx)("inlineCode",{parentName:"p"},"3")," is the ",(0,i.mdx)("inlineCode",{parentName:"p"},"orderid")),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Scope:")),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"default")," store view"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Headers:")),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"Content-Type"),": ",(0,i.mdx)("inlineCode",{parentName:"p"},"application/json")),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"Authorization"),": ",(0,i.mdx)("inlineCode",{parentName:"p"},"Bearer <admin token>")),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Payload:")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "capture": true,\n  "notify": true\n}\n')),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Response:")),(0,i.mdx)("p",null,"An invoice ",(0,i.mdx)("inlineCode",{parentName:"p"},"id"),", such as ",(0,i.mdx)("inlineCode",{parentName:"p"},"3"),"."),(0,i.mdx)("h2",{id:"retrieve-the-order-item-ids"},"Retrieve the order item IDs"),(0,i.mdx)("p",null,"When you create an order, Commerce generates an ",(0,i.mdx)("inlineCode",{parentName:"p"},"order_item_id")," for each product. These values will be used in ",(0,i.mdx)("a",{parentName:"p",href:"/commerce-webapi/rest/tutorials/inventory/create-shipment/"},"Step 12. Create a shipment"),"."),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Endpoint:")),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"GET <host>/rest/default/V1/invoices/3")),(0,i.mdx)("p",null,"where ",(0,i.mdx)("inlineCode",{parentName:"p"},"3")," is the invoice ID"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Scope:")),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"default")," store view"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Headers:")),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"Content-Type"),": ",(0,i.mdx)("inlineCode",{parentName:"p"},"application/json")),(0,i.mdx)("p",null,(0,i.mdx)("inlineCode",{parentName:"p"},"Authorization"),": ",(0,i.mdx)("inlineCode",{parentName:"p"},"Bearer <admin token>")),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Payload:")),(0,i.mdx)("p",null,"Not applicable"),(0,i.mdx)("p",null,(0,i.mdx)("strong",{parentName:"p"},"Response:")),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "base_currency_code": "USD",\n    "base_discount_amount": -404.4,\n    "base_grand_total": 1917.6,\n    "base_discount_tax_compensation_amount": 0,\n    "base_shipping_amount": 300,\n    "base_shipping_discount_tax_compensation_amnt": 0,\n    "base_shipping_incl_tax": 300,\n    "base_shipping_tax_amount": 0,\n    "base_subtotal": 2022,\n    "base_subtotal_incl_tax": 2022,\n    "base_tax_amount": 0,\n    "base_to_global_rate": 1,\n    "base_to_order_rate": 1,\n    "billing_address_id": 6,\n    "can_void_flag": 0,\n    "created_at": "2020-07-23 16:59:20",\n    "discount_amount": -404.4,\n    "email_sent": 1,\n    "entity_id": 3,\n    "global_currency_code": "USD",\n    "grand_total": 1917.6,\n    "discount_tax_compensation_amount": 0,\n    "increment_id": "000000003",\n    "order_currency_code": "USD",\n    "order_id": 3,\n    "shipping_address_id": 5,\n    "shipping_amount": 300,\n    "shipping_discount_tax_compensation_amount": 0,\n    "shipping_incl_tax": 300,\n    "shipping_tax_amount": 0,\n    "state": 2,\n    "store_currency_code": "USD",\n    "store_id": 1,\n    "store_to_base_rate": 0,\n    "store_to_order_rate": 0,\n    "subtotal": 2022,\n    "subtotal_incl_tax": 2022,\n    "tax_amount": 0,\n    "total_qty": 61,\n    "updated_at": "2020-07-23 16:59:21",\n    "items": [\n        {\n            "base_discount_amount": 144,\n            "base_discount_tax_compensation_amount": 0,\n            "base_price": 36,\n            "base_price_incl_tax": 36,\n            "base_row_total": 720,\n            "base_row_total_incl_tax": 720,\n            "base_tax_amount": 0,\n            "discount_amount": 144,\n            "entity_id": 3,\n            "discount_tax_compensation_amount": 0,\n            "name": "Driven Backpack",\n            "parent_id": 3,\n            "price": 36,\n            "price_incl_tax": 36,\n            "product_id": 12,\n            "row_total": 720,\n            "row_total_incl_tax": 720,\n            "sku": "24-WB03",\n            "tax_amount": 0,\n            "order_item_id": 3,\n            "qty": 20\n        },\n        {\n            "base_discount_amount": 256,\n            "base_discount_tax_compensation_amount": 0,\n            "base_price": 32,\n            "base_price_incl_tax": 32,\n            "base_row_total": 1280,\n            "base_row_total_incl_tax": 1280,\n            "base_tax_amount": 0,\n            "discount_amount": 256,\n            "entity_id": 4,\n            "discount_tax_compensation_amount": 0,\n            "name": "Voyage Yoga Bag",\n            "parent_id": 3,\n            "price": 32,\n            "price_incl_tax": 32,\n            "product_id": 8,\n            "row_total": 1280,\n            "row_total_incl_tax": 1280,\n            "sku": "24-WB01",\n            "tax_amount": 0,\n            "order_item_id": 4,\n            "qty": 40\n        },\n        {\n            "base_discount_amount": 4.4,\n            "base_discount_tax_compensation_amount": 0,\n            "base_price": 22,\n            "base_price_incl_tax": 22,\n            "base_row_total": 22,\n            "base_row_total_incl_tax": 22,\n            "base_tax_amount": 0,\n            "discount_amount": 4.4,\n            "entity_id": 5,\n            "discount_tax_compensation_amount": 0,\n            "name": "Yoga Adventure",\n            "parent_id": 3,\n            "price": 22,\n            "price_incl_tax": 22,\n            "product_id": 47,\n            "row_total": 22,\n            "row_total_incl_tax": 22,\n            "sku": "240-LV06",\n            "tax_amount": 0,\n            "order_item_id": 5,\n            "qty": 1\n        }\n    ],\n    "comments": []\n}\n')),(0,i.mdx)("h2",{id:"verify-this-step"},"Verify this step"),(0,i.mdx)("ol",null,(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("p",{parentName:"li"},"Click ",(0,i.mdx)("strong",{parentName:"p"},"Sales")," > ",(0,i.mdx)("strong",{parentName:"p"},"Invoices"),". The invoice displays in the grid with a status of Paid. Then click ",(0,i.mdx)("strong",{parentName:"p"},"Sales")," > ",(0,i.mdx)("strong",{parentName:"p"},"Orders"),". The status is Processing.")),(0,i.mdx)("li",{parentName:"ol"},(0,i.mdx)("p",{parentName:"li"},"Click ",(0,i.mdx)("strong",{parentName:"p"},"Catalog")," > ",(0,i.mdx)("strong",{parentName:"p"},"Products"),". For ",(0,i.mdx)("inlineCode",{parentName:"p"},"vp1"),", Commerce adjusted the value of ",(0,i.mdx)("strong",{parentName:"p"},"Quantity per Source")," and ",(0,i.mdx)("strong",{parentName:"p"},"Salable Quantity")," to 9998 for all sources and stocks."))))}_.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-rest-tutorials-inventory-create-invoice-md-d22ac4e375c435cd3b65.js.map
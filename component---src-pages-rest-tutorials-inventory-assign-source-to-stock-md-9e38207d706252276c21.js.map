{"version":3,"file":"component---src-pages-rest-tutorials-inventory-assign-source-to-stock-md-9e38207d706252276c21.js","mappings":"4MAOsBA,E,wEADTC,EAAe,CAAC,EAKvBC,GAJgBF,EAIY,cAJJ,SAA6BG,GAEzD,OADAC,QAAQC,KAAK,aAAeL,EAAO,4EAC5B,eAASG,EAClB,GAEMG,EAAc,CAClBL,aAAAA,GAEIM,EAAYC,EAAAA,EACH,SAASC,EAAW,GAGhC,IAFDC,EAAU,EAAVA,WACGP,GAAK,YAER,OAAO,SAACI,GAAS,UAAKD,EAAiBH,EAAK,CAAEO,WAAYA,EAAYC,QAAQ,eAG5E,eACE,GAAM,kCAAgC,oCAExC,gEAAiD,cAAGC,WAAW,IAC3D,KAAQ,4DAA0D,0BACnC,mCAAmC,cAAGA,WAAW,IAChF,KAAQ,2DAAyD,yBACnC,MAClC,wKACA,SAACV,EAAW,CAACW,QAAQ,UAAUC,MAAM,OAAOH,QAAQ,iBACpD,mFACA,eACE,GAAM,qBAAmB,sBAE3B,wEAAyD,uBAAYC,WAAW,KAAG,eAA6B,MAAM,uBAAYA,WAAW,KAAG,YAA0B,UAAU,uBAAYA,WAAW,KAAG,YAA0B,qBAAqB,uBAAYA,WAAW,KAAG,YAA0B,2NACjT,0BAAW,uBAAYA,WAAW,KAAG,wCAAsD,4IAA4I,uBAAYA,WAAW,KAAG,YAA0B,iCAAiC,uBAAYA,WAAW,KAAG,KAAmB,cAAc,uBAAYA,WAAW,KAAG,YAA0B,0BAA0B,uBAAYA,WAAW,KAAG,KAAmB,gDAClf,6VACA,mBAAG,mBAAQA,WAAW,KAAG,eACzB,mBAAG,uBAAYA,WAAW,KAAG,8DAC7B,mBAAG,mBAAQA,WAAW,KAAG,YACzB,mBAAG,uBAAYA,WAAW,KAAG,WAAyB,iBACtD,mBAAG,mBAAQA,WAAW,KAAG,cACzB,mBAAG,uBAAYA,WAAW,KAAG,gBAA8B,MAAM,uBAAYA,WAAW,KAAG,sBAC3F,mBAAG,uBAAYA,WAAW,KAAG,iBAA+B,MAAM,uBAAYA,WAAW,KAAG,0BAC5F,mBAAG,mBAAQA,WAAW,KAAG,cACzB,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBAAe,w2BA8ChC,mBAAG,mBAAQA,WAAW,KAAG,eACzB,oDACA,yBACA,eACE,GAAM,2BAAyB,4BAEjC,mBAAG,mBAAQA,WAAW,KAAG,aAAuB,2IAChD,qBAAK,iBAAMA,WAAW,MAClB,UAAa,iBAAe,8DAGhC,eACE,GAAM,oBAAkB,qBAE1B,sCAAuB,mBAAQA,WAAW,KAAG,UAAoB,mBAAmB,mBAAQA,WAAW,KAAG,UAAoB,UAAU,mBAAQA,WAAW,KAAG,kBAA4B,oDAG9L,CAEAH,EAAWM,gBAAiB,C","sources":["webpack://commerce-webapi/./src/pages/rest/tutorials/inventory/assign-source-to-stock.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/commerce-webapi/commerce-webapi/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\nconst InlineAlert = makeShortcode(\"InlineAlert\");\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"step-4-link-stocks-and-sources\"\n    }}>{`Step 4. Link stocks and sources`}</h1>\n    <p>{`This step links the sources we created in `}<a parentName=\"p\" {...{\n        \"href\": \"/commerce-webapi/rest/tutorials/inventory/create-sources\"\n      }}>{`Step 2. Create sources`}</a>{` with the stocks we created in `}<a parentName=\"p\" {...{\n        \"href\": \"/commerce-webapi/rest/tutorials/inventory/create-stock/\"\n      }}>{`Step 3. Create stocks`}</a>{`.`}</p>\n    <p>{`Each stock can be assigned one or more sources. Adobe Commerce uses these associations to calculate the virtual aggregated inventory per product.`}</p>\n    <InlineAlert variant=\"success\" slots=\"text\" mdxType=\"InlineAlert\" />\n    <p>{`You must reindex and flush cache after performing this step.`}</p>\n    <h2 {...{\n      \"id\": \"assign-the-source\"\n    }}>{`Assign the source`}</h2>\n    <p>{`To link a source to a stock, you must specify the `}<inlineCode parentName=\"p\">{`source_code`}</inlineCode>{`, `}<inlineCode parentName=\"p\">{`stock_id`}</inlineCode>{`, and `}<inlineCode parentName=\"p\">{`priority`}</inlineCode>{` attributes. The `}<inlineCode parentName=\"p\">{`priority`}</inlineCode>{` value indicates where the source ranks in descending order. The Source Selection Algorithm uses this priority order when recommending order fulfillment. All added sources display in prioritized order in the Admin.`}</p>\n    <p>{`The `}<inlineCode parentName=\"p\">{`POST V1/inventory/stock-source-links`}</inlineCode>{` endpoint accepts an array of links, so we can link all the stocks and sources we created in the previous steps with a single call. The `}<inlineCode parentName=\"p\">{`stock_id`}</inlineCode>{` of \"North America Stock\" is `}<inlineCode parentName=\"p\">{`2`}</inlineCode>{`, and the `}<inlineCode parentName=\"p\">{`stock_id`}</inlineCode>{` of \"Europe Stock\" is `}<inlineCode parentName=\"p\">{`3`}</inlineCode>{`. The HQ source is assigned to both stocks.`}</p>\n    <p>{`In this example, we configure the Northeast warehouse to be the primary source for North America orders. The stores located in the New York City area are other available sources in North America. In Europe, the Leipzig warehouse is preferred, followed by the Berlin and Frankfurt stores. HQ is the last choice for both stocks.`}</p>\n    <p><strong parentName=\"p\">{`Endpoint:`}</strong></p>\n    <p><inlineCode parentName=\"p\">{`POST <host>/rest/default/V1/inventory/stock-source-links`}</inlineCode></p>\n    <p><strong parentName=\"p\">{`Scope:`}</strong></p>\n    <p><inlineCode parentName=\"p\">{`default`}</inlineCode>{` store views`}</p>\n    <p><strong parentName=\"p\">{`Headers:`}</strong></p>\n    <p><inlineCode parentName=\"p\">{`Content-Type`}</inlineCode>{`: `}<inlineCode parentName=\"p\">{`application/json`}</inlineCode></p>\n    <p><inlineCode parentName=\"p\">{`Authorization`}</inlineCode>{`: `}<inlineCode parentName=\"p\">{`Bearer <admin_token>`}</inlineCode></p>\n    <p><strong parentName=\"p\">{`Payload:`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n   \"links\" : [\n      {\n         \"source_code\" : \"ne_wh\",\n         \"stock_id\" : 2,\n         \"priority\" : 1\n      },\n      {\n        \"source_code\" : \"west_wh\",\n        \"stock_id\" : 2,\n        \"priority\" : 2\n      },\n      {\n        \"source_code\" : \"brooklyn\",\n        \"stock_id\" : 2,\n        \"priority\" : 3\n      },\n      {\n        \"source_code\" : \"manhattan\",\n        \"stock_id\" : 2,\n        \"priority\" : 4\n      },\n      {\n        \"source_code\" : \"huntington\",\n        \"stock_id\" : 2,\n        \"priority\": 5\n      },\n      {\n        \"source_code\" : \"berkeley\",\n        \"stock_id\" : 2,\n        \"priority\" : 6\n      },\n      {\n         \"source_code\" : \"sausalito\",\n         \"stock_id\" : 2,\n         \"priority\" : 7\n      },\n      {\n        \"source_code\" : \"hq\",\n        \"stock_id\" : 2,\n        \"priority\" : 8\n      }\n   ]\n}\n`}</code></pre>\n    <p><strong parentName=\"p\">{`Response:`}</strong></p>\n    <p>{`Commerce returns empty array.`}</p>\n    <p>{`[]`}</p>\n    <h2 {...{\n      \"id\": \"reindex-and-flush-cache\"\n    }}>{`Reindex and flush cache`}</h2>\n    <p><strong parentName=\"p\">{`Required:`}</strong>{` After you have assigned a source to stock, use the following command to perform a full reindex and flush the cache. This is required!`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-bash\"\n      }}>{`bin/magento indexer:reindex && bin/magento cache:flush\n`}</code></pre>\n    <h3 {...{\n      \"id\": \"verify-this-step\"\n    }}>{`Verify this step`}</h3>\n    <p>{`In Admin, click `}<strong parentName=\"p\">{`Stores`}</strong>{` > Inventory > `}<strong parentName=\"p\">{`Stocks`}</strong>{`. The `}<strong parentName=\"p\">{`Assign Sources`}</strong>{` column lists the linked sources for each stock.`}</p>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["name","_frontmatter","InlineAlert","props","console","warn","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","mdxType","parentName","variant","slots","isMDXComponent"],"sourceRoot":""}
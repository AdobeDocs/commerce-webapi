"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[1588],{84220:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return u},default:function(){return p}});var a=t(87462),o=t(63366),r=(t(15007),t(64983)),m=t(91515),s=["components"],u={},i={_frontmatter:u},d=m.Z;function p(e){var n=e.components,t=(0,o.Z)(e,s);return(0,r.mdx)(d,(0,a.Z)({},i,t,{components:n,mdxType:"MDXLayout"}),(0,r.mdx)("h1",{id:"step-1-create-a-customer"},"Step 1. Create a customer"),(0,r.mdx)("p",null,"This step creates a customer account and generates an authentication token for that customer. You can skip this step if you want to perform this tutorial as a guest user."),(0,r.mdx)("h2",{id:"create-a-customer"},"Create a customer"),(0,r.mdx)("p",null,"Use the ",(0,r.mdx)("inlineCode",{parentName:"p"},"createCustomer")," mutation to register the new customer account in the store."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Request:")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation {\n  createCustomer(\n    input: {\n      firstname: "John"\n      lastname: "Doe"\n      email: "john.doe@example.com"\n      password: "b1b2b3l@w+"\n      is_subscribed: true\n    }\n  ) {\n    customer {\n      firstname\n      lastname\n      email\n      is_subscribed\n    }\n  }\n}\n')),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Response:")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "createCustomer": {\n      "customer": {\n        "firstname": "John",\n        "lastname": "Doe",\n        "email": "john.doe@example.com",\n        "is_subscribed": true\n      }\n    }\n  }\n}\n')),(0,r.mdx)("p",null,"The ",(0,r.mdx)("a",{parentName:"p",href:"../../schema/customer/mutations/create.md"},(0,r.mdx)("inlineCode",{parentName:"a"},"createCustomer"))," mutation describes additional parameters."),(0,r.mdx)("h2",{id:"generate-an-authentication-token-for-the-customer"},"Generate an authentication token for the customer"),(0,r.mdx)("p",null,"To place an order as a customer, you must obtain an authorization token by calling the ",(0,r.mdx)("inlineCode",{parentName:"p"},"generateCustomerToken")," mutation. You must include the customer's email and password as input."),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Request:")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation {\n  generateCustomerToken(email: "john.doe@example.com", password: "b1b2b3l@w+") {\n    token\n  }\n}\n')),(0,r.mdx)("p",null,(0,r.mdx)("strong",{parentName:"p"},"Response:")),(0,r.mdx)("pre",null,(0,r.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "generateCustomerToken": {\n      "token": "zuo7zor5jfldft2nmu2gtylnm8ui7e8t"\n    }\n  }\n}\n')),(0,r.mdx)("h2",{id:"specify-an-authorization-header"},"Specify an Authorization header"),(0,r.mdx)("p",null,"To send requests on behalf of the customer, you must supply the generated token as a header in your GraphQL browser.\nThe name of the header is ",(0,r.mdx)("inlineCode",{parentName:"p"},"Authorization")," and the value is ",(0,r.mdx)("inlineCode",{parentName:"p"},"Bearer <token>"),"."),(0,r.mdx)("p",null,(0,r.mdx)("a",{parentName:"p",href:"../../usage/authorization-tokens.md"},"Authorization tokens")," describes the mutation further."),(0,r.mdx)("h2",{id:"verify-this-step"},"Verify this step"),(0,r.mdx)("p",null,"Sign in as a customer to the website using the email ",(0,r.mdx)("inlineCode",{parentName:"p"},"john.doe@example.com")," and password ",(0,r.mdx)("inlineCode",{parentName:"p"},"b1b2b3l@w+"),". You should be successfully logged in."))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-tutorials-checkout-create-customer-md-6ea1f31b86ffce987054.js.map
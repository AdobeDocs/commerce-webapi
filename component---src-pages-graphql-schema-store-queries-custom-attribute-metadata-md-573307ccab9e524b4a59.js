"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[8920],{64297:function(t,e,n){n.r(e),n.d(e,{_frontmatter:function(){return m},default:function(){return u}});var a=n(87462),r=n(63366),l=(n(15007),n(64983)),i=n(91515),d=["components"],m={},o={_frontmatter:m},p=i.Z;function u(t){var e=t.components,n=(0,r.Z)(t,d);return(0,l.mdx)(p,(0,a.Z)({},o,n,{components:e,mdxType:"MDXLayout"}),(0,l.mdx)("h1",{id:"customattributemetadata-query"},"customAttributeMetadata query"),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"customAttributeMetadata")," query returns the attribute type, given an attribute code and entity type. All entity attributes can be added to an equivalent GraphQL type, including custom, extension, and EAV (which have precedence set in that order for collisions). The GraphQL query consumer does not have the ability to know a field's attribute type."),(0,l.mdx)("h2",{id:"syntax"},"Syntax"),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"customAttributeMetadata(attributes: [AttributeInput!]!): CustomAttributeMetadata")),(0,l.mdx)("h2",{id:"example-usage"},"Example usage"),(0,l.mdx)("p",null,"The following query returns the attribute type for various custom and EAV attributes."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Request:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-graphql"},'{\n  customAttributeMetadata(\n    attributes: [\n      {\n        attribute_code: "size"\n        entity_type: "catalog_product"\n      }\n      {\n        attribute_code: "color"\n        entity_type: "catalog_product"\n      }\n    ]\n  ) {\n    items {\n      attribute_code\n      attribute_type\n      entity_type\n      input_type\n      attribute_options {\n       value\n       label\n     }\n      storefront_properties {\n        use_in_product_listing\n        use_in_layered_navigation\n        use_in_search_results_layered_navigation\n        visible_on_catalog_pages\n        position\n      }\n    }\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "customAttributeMetadata": {\n      "items": [\n        {\n          "attribute_code": "size",\n          "attribute_type": "Int",\n          "entity_type": "catalog_product",\n          "input_type": "select",\n          "attribute_options": [\n            {\n              "value": "91",\n              "label": "55 cm"\n            },\n            {\n              "value": "166",\n              "label": "XS"\n            },\n            {\n              "value": "92",\n              "label": "65 cm"\n            },\n            {\n              "value": "167",\n              "label": "S"\n            },\n            {\n              "value": "93",\n              "label": "75 cm"\n            },\n            {\n              "value": "168",\n              "label": "M"\n            },\n            {\n              "value": "94",\n              "label": "6 foot"\n            },\n            {\n              "value": "169",\n              "label": "L"\n            },\n            {\n              "value": "95",\n              "label": "8 foot"\n            },\n            {\n              "value": "170",\n              "label": "XL"\n            },\n            {\n              "value": "96",\n              "label": "10 foot"\n            },\n            {\n              "value": "171",\n              "label": "28"\n            },\n            {\n              "value": "172",\n              "label": "29"\n            },\n            {\n              "value": "173",\n              "label": "30"\n            },\n            {\n              "value": "174",\n              "label": "31"\n            },\n            {\n              "value": "175",\n              "label": "32"\n            },\n            {\n              "value": "176",\n              "label": "33"\n            },\n            {\n              "value": "177",\n              "label": "34"\n            },\n            {\n              "value": "178",\n              "label": "36"\n            },\n            {\n              "value": "179",\n              "label": "38"\n            }\n          ],\n          "storefront_properties": {\n            "use_in_product_listing": true,\n            "use_in_layered_navigation": "FILTERABLE_WITH_RESULTS",\n            "use_in_search_results_layered_navigation": false,\n            "visible_on_catalog_pages": false,\n            "position": 0\n          }\n        },\n        {\n          "attribute_code": "color",\n          "attribute_type": "Int",\n          "entity_type": "catalog_product",\n          "input_type": "select",\n          "attribute_options": [\n            {\n              "value": "49",\n              "label": "Black"\n            },\n            {\n              "value": "50",\n              "label": "Blue"\n            },\n            {\n              "value": "51",\n              "label": "Brown"\n            },\n            {\n              "value": "52",\n              "label": "Gray"\n            },\n            {\n              "value": "53",\n              "label": "Green"\n            },\n            {\n              "value": "54",\n              "label": "Lavender"\n            },\n            {\n              "value": "55",\n              "label": "Multi"\n            },\n            {\n              "value": "56",\n              "label": "Orange"\n            },\n            {\n              "value": "57",\n              "label": "Purple"\n            },\n            {\n              "value": "58",\n              "label": "Red"\n            },\n            {\n              "value": "59",\n              "label": "White"\n            },\n            {\n              "value": "60",\n              "label": "Yellow"\n            }\n          ],\n          "storefront_properties": {\n            "use_in_product_listing": true,\n            "use_in_layered_navigation": "FILTERABLE_WITH_RESULTS",\n            "use_in_search_results_layered_navigation": false,\n            "visible_on_catalog_pages": false,\n            "position": 0\n          }\n        }\n      ]\n    }\n  }\n}\n')),(0,l.mdx)("h2",{id:"input-attributes"},"Input attributes"),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"AttributeInput")," input object requires the following attributes."),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,l.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"attribute_code")),(0,l.mdx)("td",{parentName:"tr",align:null},"String"),(0,l.mdx)("td",{parentName:"tr",align:null},"The unique identifier for an attribute code. This value should be in lowercase letters without spaces")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"entity_type")),(0,l.mdx)("td",{parentName:"tr",align:null},"String"),(0,l.mdx)("td",{parentName:"tr",align:null},"The type of entity that defines the attribute, such as ",(0,l.mdx)("inlineCode",{parentName:"td"},"catalog_product"),", ",(0,l.mdx)("inlineCode",{parentName:"td"},"catalog_category"),", or ",(0,l.mdx)("inlineCode",{parentName:"td"},"customer"))))),(0,l.mdx)("h2",{id:"output-attributes"},"Output attributes"),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"CustomAttributeMetadata")," object contains the ",(0,l.mdx)("inlineCode",{parentName:"p"},"items")," attribute field, which returns an array of ",(0,l.mdx)("inlineCode",{parentName:"p"},"Attribute")," objects. The ",(0,l.mdx)("inlineCode",{parentName:"p"},"Attribute")," object can contain the following attributes."),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,l.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"attribute_code")),(0,l.mdx)("td",{parentName:"tr",align:null},"String"),(0,l.mdx)("td",{parentName:"tr",align:null},"The unique identifier for an attribute code. This value should be in lowercase letters without spaces")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"attribute_options")),(0,l.mdx)("td",{parentName:"tr",align:null},"[",(0,l.mdx)("inlineCode",{parentName:"td"},"AttributeOption"),"]"),(0,l.mdx)("td",{parentName:"tr",align:null},"An array of attribute options")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"attribute_type")),(0,l.mdx)("td",{parentName:"tr",align:null},"String"),(0,l.mdx)("td",{parentName:"tr",align:null},"The data type of the attribute")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"entity_type")),(0,l.mdx)("td",{parentName:"tr",align:null},"String"),(0,l.mdx)("td",{parentName:"tr",align:null},"The type of entity that defines the attribute, such as ",(0,l.mdx)("inlineCode",{parentName:"td"},"catalog_product"),", ",(0,l.mdx)("inlineCode",{parentName:"td"},"catalog_category"),", or ",(0,l.mdx)("inlineCode",{parentName:"td"},"customer"))),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"input_type")),(0,l.mdx)("td",{parentName:"tr",align:null},"String"),(0,l.mdx)("td",{parentName:"tr",align:null},"The frontend input type of the attribute")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"storefront_properties")),(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("a",{parentName:"td",href:"#storefrontproperties-object"},"StorefrontProperties")),(0,l.mdx)("td",{parentName:"tr",align:null},"Contains details about the storefront properties configured for the attribute")))),(0,l.mdx)("h3",{id:"attributeoption-object"},"AttributeOption object"),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"AttributeOption")," object contains the name and value of the option."),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,l.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"label")),(0,l.mdx)("td",{parentName:"tr",align:null},"String"),(0,l.mdx)("td",{parentName:"tr",align:null},"The name of an attribute option")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"value")),(0,l.mdx)("td",{parentName:"tr",align:null},"String"),(0,l.mdx)("td",{parentName:"tr",align:null},"The value assigned to an attribute option")))),(0,l.mdx)("h3",{id:"storefrontproperties-object"},"StorefrontProperties object"),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"StorefrontProperties")," object returns information about a product attribute. Storefront properties are configured in the Admin at ",(0,l.mdx)("strong",{parentName:"p"},"Stores")," > Attributes > ",(0,l.mdx)("strong",{parentName:"p"},"Product")," > ",(0,l.mdx)("inlineCode",{parentName:"p"},"Attribute Name")," > ",(0,l.mdx)("strong",{parentName:"p"},"Storefront Properties"),"."),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Attribute"),(0,l.mdx)("th",{parentName:"tr",align:null},"Data Type"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"position")),(0,l.mdx)("td",{parentName:"tr",align:null},"Int"),(0,l.mdx)("td",{parentName:"tr",align:null},"The relative position of the attribute in the layered navigation block")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"use_in_layered_navigation")),(0,l.mdx)("td",{parentName:"tr",align:null},"UseInLayeredNavigationOptions"),(0,l.mdx)("td",{parentName:"tr",align:null},"Indicates whether the attribute is filterable with results, without results, or not at all")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"use_in_product_listing")),(0,l.mdx)("td",{parentName:"tr",align:null},"Boolean"),(0,l.mdx)("td",{parentName:"tr",align:null},"Indicates whether the attribute is displayed in product listings")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"use_in_search_results_layered_navigation")),(0,l.mdx)("td",{parentName:"tr",align:null},"Boolean"),(0,l.mdx)("td",{parentName:"tr",align:null},"Indicates whether the attribute can be used in layered navigation on search results pages")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"visible_on_catalog_pages")),(0,l.mdx)("td",{parentName:"tr",align:null},"Boolean"),(0,l.mdx)("td",{parentName:"tr",align:null},"Indicates whether the attribute is displayed on product pages")))),(0,l.mdx)("h2",{id:"errors"},"Errors"),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Error"),(0,l.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},'Field "customAttributeMetadata" argument "attributes" of type "[AttributeInput!]!" is required but not provided')),(0,l.mdx)("td",{parentName:"tr",align:null},"The ",(0,l.mdx)("inlineCode",{parentName:"td"},"attributes")," array parameter is required.")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},'The attribute with a "xxxx" attributeCode doesn\'t exist. Verify the attribute and try again')),(0,l.mdx)("td",{parentName:"tr",align:null},"The given ",(0,l.mdx)("inlineCode",{parentName:"td"},"attribute_code")," parameter is invalid.")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},'Invalid entity_type specified: "xxxx"')),(0,l.mdx)("td",{parentName:"tr",align:null},"The given ",(0,l.mdx)("inlineCode",{parentName:"td"},"entity_type")," is invalid.")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},'Missing attribute_code for the input entity_type: "xxxx"')),(0,l.mdx)("td",{parentName:"tr",align:null},"There is no value passed for the ",(0,l.mdx)("inlineCode",{parentName:"td"},"attribute_code")," parameter for the given ",(0,l.mdx)("inlineCode",{parentName:"td"},"entity_type")," parameter.")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},'Missing entity_type for the input attribute_code: "xxxx"')),(0,l.mdx)("td",{parentName:"tr",align:null},"There is no value passed for the ",(0,l.mdx)("inlineCode",{parentName:"td"},"entity_type")," parameter for the given ",(0,l.mdx)("inlineCode",{parentName:"td"},"attribute_code")," parameter.")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"Missing attribute_code/entity_type for the input Empty AttributeInput")),(0,l.mdx)("td",{parentName:"tr",align:null},"There are no values passed for both ",(0,l.mdx)("inlineCode",{parentName:"td"},"attribute_code")," and ",(0,l.mdx)("inlineCode",{parentName:"td"},"entity_type")," parameters.")))))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-store-queries-custom-attribute-metadata-md-573307ccab9e524b4a59.js.map
"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[9745],{20491:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return o},default:function(){return u}});var a=t(58168),m=t(80045),d=(t(88763),t(15680)),r=t(83407);const i=["components"],o={},l=(p="InlineAlert",function(e){return console.warn("Component "+p+" was not imported, exported, or provided by MDXProvider as global scope"),(0,d.mdx)("div",e)});var p;const s={_frontmatter:o},x=r.A;function u(e){let{components:n}=e,t=(0,m.A)(e,i);return(0,d.mdx)(x,(0,a.A)({},s,t,{components:n,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"sendemailtofriend-mutation"},"sendEmailToFriend mutation"),(0,d.mdx)("p",null,"Use the ",(0,d.mdx)("inlineCode",{parentName:"p"},"sendEmailToFriend")," mutation to allow the application send a message on behalf of a customer to the specified email addresses."),(0,d.mdx)(l,{variant:"info",slots:"text",mdxType:"InlineAlert"}),(0,d.mdx)("p",null,"The ",(0,d.mdx)("strong",{parentName:"p"},"Stores")," > ",(0,d.mdx)("strong",{parentName:"p"},"Configuration")," > ",(0,d.mdx)("strong",{parentName:"p"},"Catalog")," > ",(0,d.mdx)("strong",{parentName:"p"},"Email to a friend")," > ",(0,d.mdx)("strong",{parentName:"p"},"Enabled")," field must be set to ",(0,d.mdx)("strong",{parentName:"p"},"Yes")," to implement this mutation."),(0,d.mdx)("h2",{id:"syntax"},"Syntax"),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},"mutation {\n  sendEmailToFriend(\n    input: SendEmailToFriendInput\n  ) {\n    SendEmailToFriendOutput\n  }\n}\n")),(0,d.mdx)("h2",{id:"reference"},"Reference"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-sendEmailToFriend"},(0,d.mdx)("inlineCode",{parentName:"a"},"sendEmailToFriend"))," reference provides detailed information about the types and fields defined in this mutation."),(0,d.mdx)("h2",{id:"example-usage"},"Example usage"),(0,d.mdx)("p",null,"The following example sends a message to two friends."),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Request:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation {\n  sendEmailToFriend(\n    input: {\n      product_id: 10\n      sender: {\n        name: "Veronica Cost"\n        email: "roni_cost@example.com"\n        message: "Sarah needs this! http://luma.example.com/savvy-shoulder-tote.html"\n      }\n      recipients: [\n        { name: "Amie Franklin", email: "afranklin@example.com" }\n        { name: "Tomoko", email: "tomoko@example.com" }\n      ]\n    }\n  ) {\n    sender {\n      name\n      email\n    }\n    recipients {\n      name\n      email\n    }\n  }\n}\n')),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Response:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "sendEmailToFriend": {\n      "sender": {\n        "name": "Veronica Cost",\n        "email": "roni_cost@example.com",\n      },\n      "recipients": [\n        {\n          "name": "Amie Franklin",\n          "email": "afranklin@example.com"\n        },\n        {\n          "name": "Tomoko",\n          "email": "tomoko@example.com"\n        }\n      ]\n    }\n  }\n}\n')),(0,d.mdx)("h2",{id:"errors"},"Errors"),(0,d.mdx)("p",null,"Some errors occur because the ",(0,d.mdx)("strong",{parentName:"p"},"Email a friend")," feature is not properly configured. Go to ",(0,d.mdx)("strong",{parentName:"p"},"Stores")," > ",(0,d.mdx)("strong",{parentName:"p"},"Configuration")," > ",(0,d.mdx)("strong",{parentName:"p"},"Catalog")," > ",(0,d.mdx)("strong",{parentName:"p"},"Email to a friend")," in the Admin to adjust the settings."),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Error"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},'"Email to a Friend" is not enabled.')),(0,d.mdx)("td",{parentName:"tr",align:null},'"Email to a Friend" is disabled.  To activate it, use the Admin to set the ',(0,d.mdx)("strong",{parentName:"td"},"Enabled")," field to ",(0,d.mdx)("strong",{parentName:"td"},"Yes"),".")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"Please provide Name of sender.")),(0,d.mdx)("td",{parentName:"tr",align:null},"The value specified in the ",(0,d.mdx)("inlineCode",{parentName:"td"},"input"),".",(0,d.mdx)("inlineCode",{parentName:"td"},"sender"),".",(0,d.mdx)("inlineCode",{parentName:"td"},"name")," argument is empty.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"Please provide Email of sender.")),(0,d.mdx)("td",{parentName:"tr",align:null},"The value specified in the ",(0,d.mdx)("inlineCode",{parentName:"td"},"input"),".",(0,d.mdx)("inlineCode",{parentName:"td"},"sender"),".",(0,d.mdx)("inlineCode",{parentName:"td"},"email")," argument is empty.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"Please provide Message.")),(0,d.mdx)("td",{parentName:"tr",align:null},"The value specified in the ",(0,d.mdx)("inlineCode",{parentName:"td"},"input"),".",(0,d.mdx)("inlineCode",{parentName:"td"},"sender"),".",(0,d.mdx)("inlineCode",{parentName:"td"},"message")," argument is empty.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"Please provide Name for all of recipients.")),(0,d.mdx)("td",{parentName:"tr",align:null},"The value specified in the ",(0,d.mdx)("inlineCode",{parentName:"td"},"input"),".",(0,d.mdx)("inlineCode",{parentName:"td"},"recipients"),"[].",(0,d.mdx)("inlineCode",{parentName:"td"},"name")," argument is empty.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"Please provide Email for all of recipients.")),(0,d.mdx)("td",{parentName:"tr",align:null},"The value specified in the ",(0,d.mdx)("inlineCode",{parentName:"td"},"input"),".",(0,d.mdx)("inlineCode",{parentName:"td"},"recipients"),"[].",(0,d.mdx)("inlineCode",{parentName:"td"},"email")," argument is empty.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"The current customer isn't authorized.")),(0,d.mdx)("td",{parentName:"tr",align:null},'"Email to a Friend" is available for registered users only. To make it available for guests, use the Admin to set the  ',(0,d.mdx)("strong",{parentName:"td"},"Allow for Guests")," option to ",(0,d.mdx)("strong",{parentName:"td"},"Yes"),".")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"The product that was requested doesn't exist. Verify the product and try again.")),(0,d.mdx)("td",{parentName:"tr",align:null},"The product specified in the ",(0,d.mdx)("inlineCode",{parentName:"td"},"product_id")," argument is not visible in the current website.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},(0,d.mdx)("inlineCode",{parentName:"td"},"You can't send messages more than XXX times an hour.")),(0,d.mdx)("td",{parentName:"tr",align:null},"The user cannot send more messages in an hour than specified in the  ",(0,d.mdx)("strong",{parentName:"td"},"Max Products Sent in 1 Hour")," option in the Admin.")))))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-customer-mutations-send-email-to-friend-md-1b8b69d525f1b0bd153e.js.map
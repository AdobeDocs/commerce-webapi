"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[1879],{29294:function(e,a,r){r.r(a),r.d(a,{_frontmatter:function(){return d},default:function(){return p}});var t=r(87462),n=r(63366),i=(r(15007),r(64983)),l=r(91515),s=["components"],d={},o={_frontmatter:d},m=l.Z;function p(e){var a=e.components,r=(0,n.Z)(e,s);return(0,i.mdx)(m,(0,t.Z)({},o,r,{components:a,mdxType:"MDXLayout"}),(0,i.mdx)("h1",{id:"search-for-products-with-the-search-endpoint"},"Search for products with the /search endpoint"),(0,i.mdx)("p",null,"Adobe Commerce provides two endpoints for searching products:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"GET V1/search")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"GET V1/products"))),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"GET V1/search")," endpoint replicates the search capabilities that customers and guests use to find products on the storefront. The ",(0,i.mdx)("inlineCode",{parentName:"p"},"GET V1/products")," endpoint returns results like you would receive by searching on the product grid page in the Admin."),(0,i.mdx)("p",null,"The following table highlights the differences between these two endpoints:"),(0,i.mdx)("table",null,(0,i.mdx)("thead",{parentName:"table"},(0,i.mdx)("tr",{parentName:"thead"},(0,i.mdx)("th",{parentName:"tr",align:null},"Property"),(0,i.mdx)("th",{parentName:"tr",align:null},"V1/products"),(0,i.mdx)("th",{parentName:"tr",align:null},"V1/search"))),(0,i.mdx)("tbody",{parentName:"table"},(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"Requires authorization token?"),(0,i.mdx)("td",{parentName:"tr",align:null},"Yes"),(0,i.mdx)("td",{parentName:"tr",align:null},"No")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"Has direct access to product data?"),(0,i.mdx)("td",{parentName:"tr",align:null},"Yes"),(0,i.mdx)("td",{parentName:"tr",align:null},"No (the Search engine acts as proxy)")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"Can specify any product attribute?"),(0,i.mdx)("td",{parentName:"tr",align:null},"Yes"),(0,i.mdx)("td",{parentName:"tr",align:null},"No")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"Contains product data in the response?"),(0,i.mdx)("td",{parentName:"tr",align:null},"Yes"),(0,i.mdx)("td",{parentName:"tr",align:null},"No")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"Are results sorted by search relevance?"),(0,i.mdx)("td",{parentName:"tr",align:null},"No"),(0,i.mdx)("td",{parentName:"tr",align:null},"Yes")),(0,i.mdx)("tr",{parentName:"tbody"},(0,i.mdx)("td",{parentName:"tr",align:null},"Contains aggregations/buckets in the response?"),(0,i.mdx)("td",{parentName:"tr",align:null},"No"),(0,i.mdx)("td",{parentName:"tr",align:null},"Yes, for ",(0,i.mdx)("inlineCode",{parentName:"td"},"quick_search_container")," and ",(0,i.mdx)("inlineCode",{parentName:"td"},"catalog_view_container")," searches")))),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"V1/search")," endpoint is generally more useful when you have only human (or human-like) search terms at hand, targeted to isolate a single product or a limited set of products. An added benefit is that the results are pre-sorted by their applicable search relevance."),(0,i.mdx)("p",null,"In all other cases, for example when building and filtering product collections, and especially when other non-human backend data is available, such as an attribute's option IDs, the ",(0,i.mdx)("inlineCode",{parentName:"p"},"V1/products")," endpoint is a good choice."),(0,i.mdx)("h2",{id:"build-queries-for-v1search"},"Build queries for V1/search"),(0,i.mdx)("p",null,"When you use ",(0,i.mdx)("inlineCode",{parentName:"p"},"V1/search"),", you are searching for products through the catalog. The response comes from the configured search engine (",(0,i.mdx)("strong",{parentName:"p"},"Stores")," > Settings > ",(0,i.mdx)("strong",{parentName:"p"},"Configuration")," > ",(0,i.mdx)("strong",{parentName:"p"},"Catalog")," > ",(0,i.mdx)("strong",{parentName:"p"},"Catalog Search")," > ",(0,i.mdx)("strong",{parentName:"p"},"Search engine"),"), and the results are the same as those returned by using the regular frontend search."),(0,i.mdx)("p",null,"All search queries run against the ",(0,i.mdx)("inlineCode",{parentName:"p"},"catalogsearch_fulltext")," index."),(0,i.mdx)("p",null,"The basic structure of a REST call using ",(0,i.mdx)("inlineCode",{parentName:"p"},"V1/search")," follows:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-http"},"GET <host>/rest/<store_code>/V1/search?searchCriteria[requestName]=<container_name>&\nsearchCriteria[filterGroups][0][filters][0][field]=<filter_name>&\nsearchCriteria[filterGroups][0][filters][0][value]=<search_value>\n")),(0,i.mdx)("p",null,"By default, the container name can be one of these values:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},"quick_search_container"),(0,i.mdx)("li",{parentName:"ul"},"advanced_search_container"),(0,i.mdx)("li",{parentName:"ul"},"catalog_view_container")),(0,i.mdx)("p",null,"The possible values for the filter name and the search value are specific for each container."),(0,i.mdx)("p",null,"Each searchable attribute defines a search boost value, which defaults to 1. However, some predefined attributes have higher values. For example, the default boost value for ",(0,i.mdx)("inlineCode",{parentName:"p"},"sku")," is 6, while the ",(0,i.mdx)("inlineCode",{parentName:"p"},"name")," has a default value of 5."),(0,i.mdx)("p",null,"For more details about the capabilities of searches using ",(0,i.mdx)("inlineCode",{parentName:"p"},"V1/search"),", review ",(0,i.mdx)("inlineCode",{parentName:"p"},"Magento/CatalogSearch/etc/search_request.xml"),"."),(0,i.mdx)("h3",{id:"quick-searches"},"Quick searches"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"quick_search_container")," request allows you to perform the same search that a customer performs on the storefront."),(0,i.mdx)("p",null,"By default, a filter name can be one of these:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"category_ids")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"price.from")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"price.to")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"search_term")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"visibility"))),(0,i.mdx)("p",null,"Quick searches return aggreggations and buckets."),(0,i.mdx)("h4",{id:"example"},"Example"),(0,i.mdx)("p",null,"The following example performs a quick search for ",(0,i.mdx)("inlineCode",{parentName:"p"},"digital watch"),":"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-http"},"GET <host>/rest/<store_code>/V1/search?searchCriteria[requestName]=quick_search_container&\nsearchCriteria[filterGroups][0][filters][0][field]=search_term&\nsearchCriteria[filterGroups][0][filters][0][value]=digital watch\n")),(0,i.mdx)("h3",{id:"advanced-searches"},"Advanced searches"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"advanced_search_container")," request performs more complex searches, like those possible on the Advanced Search page."),(0,i.mdx)("p",null,"The default filters for advanced searches can use the following ","[field]"," value:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"category_ids")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"price.from")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"price.to")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"sku"))),(0,i.mdx)("p",null,"The filter can also be any searchable attribute. To make an attribute searchable, set ",(0,i.mdx)("strong",{parentName:"p"},"Stores")," > Attributes > ",(0,i.mdx)("strong",{parentName:"p"},"Product")," > <selected_attribute> >  ",(0,i.mdx)("strong",{parentName:"p"},"Storefront Properties")," > ",(0,i.mdx)("strong",{parentName:"p"},"Use in Search")," to ",(0,i.mdx)("strong",{parentName:"p"},"Yes"),". The search query can include attributes such as the product name, SKU, or any other custom attribute."),(0,i.mdx)("p",null,"Advanced searches can use any condition type to make comparisions, such as ",(0,i.mdx)("inlineCode",{parentName:"p"},"like"),", ",(0,i.mdx)("inlineCode",{parentName:"p"},"eq"),", or ",(0,i.mdx)("inlineCode",{parentName:"p"},"finset"),". See ",(0,i.mdx)("a",{parentName:"p",href:"/commerce-webapi/rest/use-rest/performing-searches/"},"Search using REST")," describes condition types."),(0,i.mdx)("p",null,"Advanced searches do not return aggregation data."),(0,i.mdx)("h4",{id:"examples"},"Examples"),(0,i.mdx)("p",null,"The following example get products within a price range:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-http"},"GET <host>/rest/<store_code>/V1/search?searchCriteria[requestName]=advanced_search_container&\nsearchCriteria[filterGroups][0][filters][0][field]=price.from&\nsearchCriteria[filterGroups][0][filters][0][value]=2&\nsearchCriteria[filterGroups][0][filters][1][field]=price.to&\nsearchCriteria[filterGroups][0][filters][1][value]=3\n")),(0,i.mdx)("p",null,"The following example gets products where the SKU might contain a specified string:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-http"},"GET <host>/rest/<store_code>/V1/search?searchCriteria[requestName]=advanced_search_container&\nsearchCriteria[filterGroups][0][filters][0][field]=sku&\nsearchCriteria[filterGroups][0][filters][0][value]=shirt&\nsearchCriteria[filterGroups][0][filters][0][condition_type]=like\n")),(0,i.mdx)("h3",{id:"catalog-view-searches"},"Catalog view searches"),(0,i.mdx)("p",null,"The ",(0,i.mdx)("inlineCode",{parentName:"p"},"catalog_view_container"),"request accepts the following filters:"),(0,i.mdx)("ul",null,(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"category_ids")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"price.from")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"price.to")),(0,i.mdx)("li",{parentName:"ul"},(0,i.mdx)("inlineCode",{parentName:"li"},"visibility"))),(0,i.mdx)("p",null,"Quick searches return aggreggations and buckets."),(0,i.mdx)("h4",{id:"example-1"},"Example"),(0,i.mdx)("p",null,"The following example gets all products in a given category:"),(0,i.mdx)("pre",null,(0,i.mdx)("code",{parentName:"pre",className:"language-http"},"GET <host>/rest/<store_code>/V1/search?searchCriteria[requestName]=catalog_view_container&\nsearchCriteria[filterGroups][0][filters][0][field]=category_ids&\nsearchCriteria[filterGroups][0][filters][0][value][0]=4&\nsearchCriteria[filterGroups][0][filters][0][condition_type]=eq\n")),(0,i.mdx)("h2",{id:"build-queries-for-v1products"},"Build queries for V1/products"),(0,i.mdx)("p",null,(0,i.mdx)("a",{parentName:"p",href:"/commerce-webapi/rest/use-rest/performing-searches/"},"Search using REST")," provides examples that can be used to search for products."))}p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-rest-use-rest-search-endpoint-md-6637036d6c5594c7f9bd.js.map
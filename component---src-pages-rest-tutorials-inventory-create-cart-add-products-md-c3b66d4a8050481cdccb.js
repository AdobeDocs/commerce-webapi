"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[677],{83947:function(e,n,t){t.r(n),t.d(n,{_frontmatter:function(){return o},default:function(){return s}});var a=t(58168),d=t(80045),l=(t(88763),t(15680)),p=t(83407);const m=["components"],o={},r={_frontmatter:o},i=p.A;function s(e){let{components:n}=e,t=(0,d.A)(e,m);return(0,l.mdx)(i,(0,a.A)({},r,t,{components:n,mdxType:"MDXLayout"}),(0,l.mdx)("h1",{id:"step-7-create-a-cart-and-add-products-to-it"},"Step 7. Create a cart and add products to it"),(0,l.mdx)("p",null,"Next, we'll create a cart and add the items that we modified in ",(0,l.mdx)("a",{parentName:"p",href:"./reassign-products-to-another-source.md"},"Step 5. Reassign products to custom sources"),"."),(0,l.mdx)("h2",{id:"create-a-cart"},"Create a cart"),(0,l.mdx)("p",null,"The call to create a cart and add items must contain the customer's authorization token in the authorization header."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Endpoint:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"POST <host>/rest/default/V1/carts/mine")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Scope:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"default")," store view"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Headers:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"Content-Type"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"application/json")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"Authorization"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"Bearer <customer_token>")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Payload:")),(0,l.mdx)("p",null,"None"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("p",null,"The response is the ",(0,l.mdx)("inlineCode",{parentName:"p"},"quoteId"),": 3"),(0,l.mdx)("h2",{id:"check-for-product-availability"},"Check for product availability"),(0,l.mdx)("p",null,"In ",(0,l.mdx)("a",{parentName:"p",href:"./reassign-products-to-another-source.md"},"Step 5. Reassign products to custom sources"),", we defined the quantities of products ",(0,l.mdx)("inlineCode",{parentName:"p"},"24-WB01")," and ",(0,l.mdx)("inlineCode",{parentName:"p"},"24-WB03")," for the US source as follows:"),(0,l.mdx)("table",null,(0,l.mdx)("thead",{parentName:"table"},(0,l.mdx)("tr",{parentName:"thead"},(0,l.mdx)("th",{parentName:"tr",align:null},"Product"),(0,l.mdx)("th",{parentName:"tr",align:null},"Northeast Warehouse"),(0,l.mdx)("th",{parentName:"tr",align:null},"Brooklyn Store"),(0,l.mdx)("th",{parentName:"tr",align:null},"Manhattan Store"))),(0,l.mdx)("tbody",{parentName:"table"},(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"24-WB01")),(0,l.mdx)("td",{parentName:"tr",align:null},"35"),(0,l.mdx)("td",{parentName:"tr",align:null},"10"),(0,l.mdx)("td",{parentName:"tr",align:null},"10")),(0,l.mdx)("tr",{parentName:"tbody"},(0,l.mdx)("td",{parentName:"tr",align:null},(0,l.mdx)("inlineCode",{parentName:"td"},"24-WB03")),(0,l.mdx)("td",{parentName:"tr",align:null},"50"),(0,l.mdx)("td",{parentName:"tr",align:null},"0"),(0,l.mdx)("td",{parentName:"tr",align:null},"0")))),(0,l.mdx)("p",null,"Later in this step, we'll order 40 ",(0,l.mdx)("inlineCode",{parentName:"p"},"24-WB01")," items and 20 ",(0,l.mdx)("inlineCode",{parentName:"p"},"24-WB03")," items. We can see that we have enough salable items for both products, but let's check programmatically."),(0,l.mdx)("h3",{id:"check-for-product-24-wb01"},"Check for product ",(0,l.mdx)("inlineCode",{parentName:"h3"},"24-WB01")),(0,l.mdx)("p",null,"The ",(0,l.mdx)("inlineCode",{parentName:"p"},"get-product-salable-quantity")," endpoint indicates how many items are available for sale for the specified product (24-WB01) and source (2)."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Endpoint:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"GET <host>/rest/default/V1/inventory/get-product-salable-quantity/24-WB01/2")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Scope:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"default")," store view"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Headers:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"Content-Type"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"application/json")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"Authorization"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"Bearer <admin_token>")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Payload:")),(0,l.mdx)("p",null,"Not applicable"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"100")),(0,l.mdx)("h3",{id:"check-for-product-24-wb03"},"Check for product ",(0,l.mdx)("inlineCode",{parentName:"h3"},"24-WB03")),(0,l.mdx)("p",null,"Use the same endpoint to check the quantity available for product ",(0,l.mdx)("inlineCode",{parentName:"p"},"24-WB03"),"."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Endpoint:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"GET <host>/rest/default/V1/inventory/get-product-salable-quantity/24-WB03/2")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Scope:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"default")," store view"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Headers:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"Content-Type"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"application/json")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"Authorization"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"Bearer <admin_token>")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Payload:")),(0,l.mdx)("p",null,"Not applicable"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"100")),(0,l.mdx)("h2",{id:"add-items-to-the-cart"},"Add items to the cart"),(0,l.mdx)("p",null,"We have ensured that we have enough physical products in stock to fulfill the potential order."),(0,l.mdx)("h3",{id:"add-the-first-simple-product"},"Add the first simple product"),(0,l.mdx)("p",null,"In this call, we'll add 20 ",(0,l.mdx)("inlineCode",{parentName:"p"},"24-WB03")," items. This portion of the order can be fulfilled from the Northeast warehouse."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Endpoint:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"POST <host>/rest/default/V1/carts/mine/items")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Scope:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"default")," store view"),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Headers:")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"Content-Type"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"application/json")),(0,l.mdx)("p",null,(0,l.mdx)("inlineCode",{parentName:"p"},"Authorization"),": ",(0,l.mdx)("inlineCode",{parentName:"p"},"Bearer <customer_token>")),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Payload:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "cartItem": {\n    "sku": "24-WB03",\n    "qty": 20,\n    "quote_id": "3"\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("p",null,"Note the ",(0,l.mdx)("inlineCode",{parentName:"p"},"item_id")," for use in subsequent steps."),(0,l.mdx)("p",null,'The discount is a result of the "20% OFF Every $200-plus purchase!" cart price rule.'),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "item_id": 5,\n    "sku": "24-WB03",\n    "qty": 20,\n    "name": "Driven Backpack",\n    "price": 36,\n    "product_type": "simple",\n    "quote_id": "3",\n    "extension_attributes": {\n        "discounts": [\n            {\n                "discount_data": {\n                    "amount": 144,\n                    "base_amount": 144,\n                    "original_amount": 144,\n                    "base_original_amount": 144\n                },\n                "rule_label": "Discount",\n                "rule_id": 3\n            }\n        ]\n    }\n}\n')),(0,l.mdx)("h3",{id:"add-the-second-simple-product"},"Add the second simple product"),(0,l.mdx)("p",null,"Use the same endpoint to add 40 items of ",(0,l.mdx)("inlineCode",{parentName:"p"},"24-WB01")," to the cart. Multiple sources will be required to fulfill this potential order."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Payload:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "cartItem": {\n    "sku": "24-WB01",\n    "qty": 40,\n    "quote_id": "3"\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("p",null,"Note the ",(0,l.mdx)("inlineCode",{parentName:"p"},"item_id")," for use in subsequent steps."),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n    "item_id": 6,\n    "sku": "24-WB01",\n    "qty": 40,\n    "name": "Voyage Yoga Bag",\n    "price": 32,\n    "product_type": "simple",\n    "quote_id": "3",\n    "extension_attributes": {\n        "discounts": [\n            {\n                "discount_data": {\n                    "amount": 256,\n                    "base_amount": 256,\n                    "original_amount": 256,\n                    "base_original_amount": 256\n                },\n                "rule_label": "Discount",\n                "rule_id": 3\n            }\n        ]\n    }\n}\n')),(0,l.mdx)("h3",{id:"add-a-downloadable-product"},"Add a downloadable product"),(0,l.mdx)("p",null,"Finally, we'll add a single instance of a downloadable product to the cart."),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Payload:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "cartItem": {\n    "sku": "240-LV06",\n    "qty": 1,\n    "quote_id": "3"\n  }\n}\n')),(0,l.mdx)("p",null,(0,l.mdx)("strong",{parentName:"p"},"Response:")),(0,l.mdx)("pre",null,(0,l.mdx)("code",{parentName:"pre",className:"language-json"},'    "item_id": 7,\n    "sku": "240-LV06",\n    "qty": 1,\n    "name": "Yoga Adventure",\n    "price": 22,\n    "product_type": "downloadable",\n    "quote_id": "3",\n    "product_option": {\n        "extension_attributes": {\n            "downloadable_option": {\n                "downloadable_links": [\n                    3\n                ]\n            }\n        }\n    },\n    "extension_attributes": {\n        "discounts": [\n            {\n                "discount_data": {\n                    "amount": 4.4,\n                    "base_amount": 4.4,\n                    "original_amount": 4.4,\n                    "base_original_amount": 4.4\n                },\n                "rule_label": "Discount",\n                "rule_id": 3\n            }\n        ]\n    }\n}\n')),(0,l.mdx)("h2",{id:"verify-this-step"},"Verify this step"),(0,l.mdx)("p",null,"Sign in as the customer at ",(0,l.mdx)("inlineCode",{parentName:"p"},"http://<host>")," and click on the shopping cart. All the items you added display in the cart."))}s.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-rest-tutorials-inventory-create-cart-add-products-md-c3b66d4a8050481cdccb.js.map
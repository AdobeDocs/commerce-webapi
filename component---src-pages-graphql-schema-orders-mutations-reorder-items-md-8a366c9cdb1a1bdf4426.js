"use strict";(self.webpackChunkcommerce_webapi=self.webpackChunkcommerce_webapi||[]).push([[5502],{87702:function(e,t,n){n.r(t),n.d(t,{_frontmatter:function(){return o},default:function(){return u}});var a=n(58168),r=n(80045),d=(n(88763),n(15680)),m=n(83407);const l=["components"],o={},i={_frontmatter:o},p=m.A;function u(e){let{components:t}=e,n=(0,r.A)(e,l);return(0,d.mdx)(p,(0,a.A)({},i,n,{components:t,mdxType:"MDXLayout"}),(0,d.mdx)("h1",{id:"reorderitems-mutation"},"reorderItems mutation"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"reorderItems")," mutation allows a logged-in user to add all the products from a previous order into their cart. The ",(0,d.mdx)("strong",{parentName:"p"},"Stores")," > Settings > ",(0,d.mdx)("strong",{parentName:"p"},"Sales")," > ",(0,d.mdx)("strong",{parentName:"p"},"Sales")," > ",(0,d.mdx)("strong",{parentName:"p"},"Reorder")," > ",(0,d.mdx)("strong",{parentName:"p"},"Allow Reorder")," field must be set to ",(0,d.mdx)("strong",{parentName:"p"},"Yes")," to enable reorders. You must provide a customer authorization token with the call. The customer associated with the authorization token must match the customer who placed the specified order."),(0,d.mdx)("p",null,"The mutation returns an error if it cannot add a product to the customer's cart:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Error code"),(0,d.mdx)("th",{parentName:"tr",align:null},"Description"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"INSUFFICIENT_STOCK"),(0,d.mdx)("td",{parentName:"tr",align:null},"The requested quantity is greater than the available stock.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"NOT_SALABLE"),(0,d.mdx)("td",{parentName:"tr",align:null},"The product is out of stock, disabled, or otherwise prevented from being sold.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"REORDER_NOT_AVAILABLE"),(0,d.mdx)("td",{parentName:"tr",align:null},"Reorders have been disabled.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"PRODUCT_NOT_FOUND"),(0,d.mdx)("td",{parentName:"tr",align:null},"The product has been deleted.")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"UNDEFINED"),(0,d.mdx)("td",{parentName:"tr",align:null},"An unknown error occurred.")))),(0,d.mdx)("p",null,"The ",(0,d.mdx)("inlineCode",{parentName:"p"},"reorderItems")," mutation will not add any products to the cart if it encounters the REORDER_NOT_AVAILABLE error. For any other error code, the mutation will add the product to the cart, if possible, and it will continue adding other products, if applicable."),(0,d.mdx)("h2",{id:"syntax"},"Syntax"),(0,d.mdx)("p",null,(0,d.mdx)("inlineCode",{parentName:"p"},"mutation: {reorderItems(orderNumber: String!) {ReorderItemsOutput}}")),(0,d.mdx)("h2",{id:"reference"},"Reference"),(0,d.mdx)("p",null,"The ",(0,d.mdx)("a",{parentName:"p",href:"https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-reorderItems"},(0,d.mdx)("inlineCode",{parentName:"a"},"reorderItems"))," reference provides detailed information about the types and fields defined in this mutation."),(0,d.mdx)("h2",{id:"example-usage"},"Example usage"),(0,d.mdx)("p",null,"In the following example, the customer previously created an order containing the following items:"),(0,d.mdx)("table",null,(0,d.mdx)("thead",{parentName:"table"},(0,d.mdx)("tr",{parentName:"thead"},(0,d.mdx)("th",{parentName:"tr",align:null},"Item Name"),(0,d.mdx)("th",{parentName:"tr",align:null},"SKU"),(0,d.mdx)("th",{parentName:"tr",align:null},"Quantity Ordered"))),(0,d.mdx)("tbody",{parentName:"table"},(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"Aeon Capri"),(0,d.mdx)("td",{parentName:"tr",align:null},"WP07-29-Black"),(0,d.mdx)("td",{parentName:"tr",align:null},"3")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"Dual Handle Cardio Ball"),(0,d.mdx)("td",{parentName:"tr",align:null},"24-UG07"),(0,d.mdx)("td",{parentName:"tr",align:null},"1")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"Elisa EverCool Tee"),(0,d.mdx)("td",{parentName:"tr",align:null},"WS06-S-Gray"),(0,d.mdx)("td",{parentName:"tr",align:null},"1")),(0,d.mdx)("tr",{parentName:"tbody"},(0,d.mdx)("td",{parentName:"tr",align:null},"Sprite Foam Yoga Brick"),(0,d.mdx)("td",{parentName:"tr",align:null},"24-WG084"),(0,d.mdx)("td",{parentName:"tr",align:null},"1")))),(0,d.mdx)("p",null,"The customer wants to reorder these items, but the status of some of these items has changed:"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},"Aeon Capri (WP07-29-Black) is in stock, but fewer than three items are available for sale."),(0,d.mdx)("li",{parentName:"ul"},"The Sprite Foam Yoga Brick (24-WG084) is out of stock.")),(0,d.mdx)("p",null,"These items will not be added to the cart."),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Request:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-graphql"},'mutation{\n  reorderItems(orderNumber: "000000003"){\n    cart {\n      id\n      itemsV2 {\n        items {\n          uid\n          product {\n            sku\n          }\n          quantity\n          prices {\n            price {\n              value\n            }\n          }\n        }\n        total_count\n        page_info {\n          page_size\n          current_page\n          total_pages\n        }          \n      }\n    }\n    userInputErrors{\n      code\n      message\n      path\n    }\n  }\n}\n')),(0,d.mdx)("p",null,(0,d.mdx)("strong",{parentName:"p"},"Response:")),(0,d.mdx)("pre",null,(0,d.mdx)("code",{parentName:"pre",className:"language-json"},'{\n  "data": {\n    "reorderItems": {\n      "cart": {\n        "id": "LrMHhWHUaOqiBGC6S0KOcnYKsINUHTWz",\n        "itemsV2": {\n          "items": [\n            {\n              "uid": "NDQ=",\n              "product": {\n                "sku": "24-UG07"\n              },\n              "quantity": 1,\n              "prices": {\n                "price": {\n                  "value": 12\n                }\n              }\n            },\n            {\n              "uid": "NDU=",\n              "product": {\n                "sku": "WS06"\n              },\n              "quantity": 1,\n              "prices": {\n                "price": {\n                  "value": 29\n                }\n              }\n            }\n          ],\n          "total_count": 2,\n          "page_info": {\n            "page_size": 20,\n            "current_page": 1,\n            "total_pages": 1\n          }\n        }\n      },\n      "userInputErrors": [\n        {\n          "code": "NOT_SALABLE",\n          "message": "Could not add the product with SKU \\"24-WG084\\" to the shopping cart: Product that you are trying to add is not available.",\n          "path": [\n            "orderNumber"\n          ]\n        },\n        {\n          "code": "INSUFFICIENT_STOCK",\n          "message": "Could not add the product with SKU \\"WP07-29-Black\\" to the shopping cart: The requested qty is not available",\n          "path": [\n            "orderNumber"\n          ]\n        }\n      ]\n    }\n  }\n}\n')),(0,d.mdx)("h2",{id:"related-topics"},"Related topics"),(0,d.mdx)("ul",null,(0,d.mdx)("li",{parentName:"ul"},(0,d.mdx)("a",{parentName:"li",href:"../../customer/queries/customer.md"},"customer")," query")))}u.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-pages-graphql-schema-orders-mutations-reorder-items-md-8a366c9cdb1a1bdf4426.js.map